function Dk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Yp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Rk(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var mh={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function _k(){if(jv)return xl;jv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var a=null;if(l!==void 0&&(a=""+l),o.key!==void 0&&(a=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:a,ref:o!==void 0?o:null,props:l}}return xl.Fragment=e,xl.jsx=t,xl.jsxs=t,xl}var Hv;function zk(){return Hv||(Hv=1,mh.exports=_k()),mh.exports}var R=zk(),gh={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Lk(){if(Iv)return Me;Iv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function w(L,G,te){this.props=L,this.context=G,this.refs=S,this.updater=te||v}w.prototype.isReactComponent={},w.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},w.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=w.prototype;function E(L,G,te){this.props=L,this.context=G,this.refs=S,this.updater=te||v}var k=E.prototype=new M;k.constructor=E,x(k,w.prototype),k.isPureReactComponent=!0;var D=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function A(L,G,te,J,ie,Se){return te=Se.ref,{$$typeof:n,type:L,key:G,ref:te!==void 0?te:null,props:Se}}function z(L,G){return A(L.type,G,void 0,void 0,void 0,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function ee(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(te){return G[te]})}var oe=/\/+/g;function ne(L,G){return typeof L=="object"&&L!==null&&L.key!=null?ee(""+L.key):G.toString(36)}function fe(){}function ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(fe,fe):(L.status="pending",L.then(function(G){L.status==="pending"&&(L.status="fulfilled",L.value=G)},function(G){L.status==="pending"&&(L.status="rejected",L.reason=G)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function de(L,G,te,J,ie){var Se=typeof L;(Se==="undefined"||Se==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(Se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case n:case e:he=!0;break;case p:return he=L._init,de(he(L._payload),G,te,J,ie)}}if(he)return ie=ie(L),he=J===""?"."+ne(L,0):J,D(ie)?(te="",he!=null&&(te=he.replace(oe,"$&/")+"/"),de(ie,G,te,"",function(qe){return qe})):ie!=null&&(V(ie)&&(ie=z(ie,te+(ie.key==null||L&&L.key===ie.key?"":(""+ie.key).replace(oe,"$&/")+"/")+he)),G.push(ie)),1;he=0;var we=J===""?".":J+":";if(D(L))for(var Re=0;Re<L.length;Re++)J=L[Re],Se=we+ne(J,Re),he+=de(J,G,te,Se,ie);else if(Re=b(L),typeof Re=="function")for(L=Re.call(L),Re=0;!(J=L.next()).done;)J=J.value,Se=we+ne(J,Re++),he+=de(J,G,te,Se,ie);else if(Se==="object"){if(typeof L.then=="function")return de(ye(L),G,te,J,ie);throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return he}function H(L,G,te){if(L==null)return L;var J=[],ie=0;return de(L,J,"","",function(Se){return G.call(te,Se,ie++)}),J}function W(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(te){(L._status===0||L._status===-1)&&(L._status=1,L._result=te)},function(te){(L._status===0||L._status===-1)&&(L._status=2,L._result=te)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var $=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Z(){}return Me.Children={map:H,forEach:function(L,G,te){H(L,function(){G.apply(this,arguments)},te)},count:function(L){var G=0;return H(L,function(){G++}),G},toArray:function(L){return H(L,function(G){return G})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Me.Component=w,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=E,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cloneElement=function(L,G,te){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var J=x({},L.props),ie=L.key,Se=void 0;if(G!=null)for(he in G.ref!==void 0&&(Se=void 0),G.key!==void 0&&(ie=""+G.key),G)!_.call(G,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&G.ref===void 0||(J[he]=G[he]);var he=arguments.length-2;if(he===1)J.children=te;else if(1<he){for(var we=Array(he),Re=0;Re<he;Re++)we[Re]=arguments[Re+2];J.children=we}return A(L.type,ie,void 0,void 0,Se,J)},Me.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Me.createElement=function(L,G,te){var J,ie={},Se=null;if(G!=null)for(J in G.key!==void 0&&(Se=""+G.key),G)_.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=G[J]);var he=arguments.length-2;if(he===1)ie.children=te;else if(1<he){for(var we=Array(he),Re=0;Re<he;Re++)we[Re]=arguments[Re+2];ie.children=we}if(L&&L.defaultProps)for(J in he=L.defaultProps,he)ie[J]===void 0&&(ie[J]=he[J]);return A(L,Se,void 0,void 0,null,ie)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:u,render:L}},Me.isValidElement=V,Me.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:W}},Me.memo=function(L,G){return{$$typeof:h,type:L,compare:G===void 0?null:G}},Me.startTransition=function(L){var G=N.T,te={};N.T=te;try{var J=L(),ie=N.S;ie!==null&&ie(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Z,$)}catch(Se){$(Se)}finally{N.T=G}},Me.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Me.use=function(L){return N.H.use(L)},Me.useActionState=function(L,G,te){return N.H.useActionState(L,G,te)},Me.useCallback=function(L,G){return N.H.useCallback(L,G)},Me.useContext=function(L){return N.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,G){return N.H.useDeferredValue(L,G)},Me.useEffect=function(L,G,te){var J=N.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(L,G)},Me.useId=function(){return N.H.useId()},Me.useImperativeHandle=function(L,G,te){return N.H.useImperativeHandle(L,G,te)},Me.useInsertionEffect=function(L,G){return N.H.useInsertionEffect(L,G)},Me.useLayoutEffect=function(L,G){return N.H.useLayoutEffect(L,G)},Me.useMemo=function(L,G){return N.H.useMemo(L,G)},Me.useOptimistic=function(L,G){return N.H.useOptimistic(L,G)},Me.useReducer=function(L,G,te){return N.H.useReducer(L,G,te)},Me.useRef=function(L){return N.H.useRef(L)},Me.useState=function(L){return N.H.useState(L)},Me.useSyncExternalStore=function(L,G,te){return N.H.useSyncExternalStore(L,G,te)},Me.useTransition=function(){return N.H.useTransition()},Me.version="19.1.0",Me}var Uv;function yi(){return Uv||(Uv=1,gh.exports=Lk()),gh.exports}var O=yi();const Pe=Yp(O),S1=Dk({__proto__:null,default:Pe},[O]);var yh={exports:{}},Sl={},bh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Bk(){return Vv||(Vv=1,function(n){function e(H,W){var $=H.length;H.push(W);e:for(;0<$;){var Z=$-1>>>1,L=H[Z];if(0<o(L,W))H[Z]=W,H[$]=L,$=Z;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],$=H.pop();if($!==W){H[0]=$;e:for(var Z=0,L=H.length,G=L>>>1;Z<G;){var te=2*(Z+1)-1,J=H[te],ie=te+1,Se=H[ie];if(0>o(J,$))ie<L&&0>o(Se,J)?(H[Z]=Se,H[ie]=$,Z=ie):(H[Z]=J,H[te]=$,Z=te);else if(ie<L&&0>o(Se,$))H[Z]=Se,H[ie]=$,Z=ie;else break e}}return W}function o(H,W){var $=H.sortIndex-W.sortIndex;return $!==0?$:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],h=[],p=1,g=null,b=3,v=!1,x=!1,S=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var W=t(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=H)r(h),W.sortIndex=W.expirationTime,e(f,W);else break;W=t(h)}}function N(H){if(S=!1,D(H),!x)if(t(f)!==null)x=!0,_||(_=!0,ne());else{var W=t(h);W!==null&&de(N,W.startTime-H)}}var _=!1,A=-1,z=5,V=-1;function ee(){return w?!0:!(n.unstable_now()-V<z)}function oe(){if(w=!1,_){var H=n.unstable_now();V=H;var W=!0;try{e:{x=!1,S&&(S=!1,E(A),A=-1),v=!0;var $=b;try{t:{for(D(H),g=t(f);g!==null&&!(g.expirationTime>H&&ee());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var L=Z(g.expirationTime<=H);if(H=n.unstable_now(),typeof L=="function"){g.callback=L,D(H),W=!0;break t}g===t(f)&&r(f),D(H)}else r(f);g=t(f)}if(g!==null)W=!0;else{var G=t(h);G!==null&&de(N,G.startTime-H),W=!1}}break e}finally{g=null,b=$,v=!1}W=void 0}}finally{W?ne():_=!1}}}var ne;if(typeof k=="function")ne=function(){k(oe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ye=fe.port2;fe.port1.onmessage=oe,ne=function(){ye.postMessage(null)}}else ne=function(){M(oe,0)};function de(H,W){A=M(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var $=b;b=W;try{return H()}finally{b=$}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=b;b=H;try{return W()}finally{b=$}},n.unstable_scheduleCallback=function(H,W,$){var Z=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,H={id:p++,callback:W,priorityLevel:H,startTime:$,expirationTime:L,sortIndex:-1},$>Z?(H.sortIndex=$,e(h,H),t(f)===null&&H===t(h)&&(S?(E(A),A=-1):S=!0,de(N,$-Z))):(H.sortIndex=L,e(f,H),x||v||(x=!0,_||(_=!0,ne()))),H},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(H){var W=b;return function(){var $=b;b=W;try{return H.apply(this,arguments)}finally{b=$}}}}(vh)),vh}var qv;function Pk(){return qv||(qv=1,bh.exports=Bk()),bh.exports}var xh={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function jk(){if(Fv)return Ot;Fv=1;var n=yi();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ot.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(f,h,null,p)},Ot.flushSync=function(f){var h=a.T,p=r.p;try{if(a.T=null,r.p=2,f)return f()}finally{a.T=h,r.p=p,r.d.f()}},Ot.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Ot.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ot.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ot.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Ot.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ot.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Ot.requestFormReset=function(f){r.d.r(f)},Ot.unstable_batchedUpdates=function(f,h){return f(h)},Ot.useFormState=function(f,h,p){return a.H.useFormState(f,h,p)},Ot.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ot.version="19.1.0",Ot}var $v;function Cu(){if($v)return xh.exports;$v=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xh.exports=jk(),xh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Hk(){if(Gv)return Sl;Gv=1;var n=Pk(),e=yi(),t=Cu();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function a(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(l(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return u(m),i;if(y===d)return u(m),s;y=y.sibling}throw Error(r(188))}if(c.return!==d.return)c=m,d=y;else{for(var C=!1,T=m.child;T;){if(T===c){C=!0,c=m,d=y;break}if(T===d){C=!0,d=m,c=y;break}T=T.sibling}if(!C){for(T=y.child;T;){if(T===c){C=!0,c=y,d=m;break}if(T===d){C=!0,d=y,c=m;break}T=T.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var fe=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===fe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case k:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return s=i.displayName||null,s!==null?s:ye(i.type)||"Memo";case z:s=i._payload,i=i._init;try{return ye(i(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Z=[],L=-1;function G(i){return{current:i}}function te(i){0>L||(i.current=Z[L],Z[L]=null,L--)}function J(i,s){L++,Z[L]=i.current,i.current=s}var ie=G(null),Se=G(null),he=G(null),we=G(null);function Re(i,s){switch(J(he,s),J(Se,i),J(ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?dv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=dv(s),i=hv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(ie),J(ie,i)}function qe(){te(ie),te(Se),te(he)}function Vt(i){i.memoizedState!==null&&J(we,i);var s=ie.current,c=hv(s,i.type);s!==c&&(J(Se,i),J(ie,c))}function Tn(i){Se.current===i&&(te(ie),te(Se)),we.current===i&&(te(we),ml._currentValue=$)}var kn=Object.prototype.hasOwnProperty,Qn=n.unstable_scheduleCallback,ao=n.unstable_cancelCallback,ef=n.unstable_shouldYield,tf=n.unstable_requestPaint,fn=n.unstable_now,nf=n.unstable_getCurrentPriorityLevel,wi=n.unstable_ImmediatePriority,Ym=n.unstable_UserBlockingPriority,ua=n.unstable_NormalPriority,dE=n.unstable_LowPriority,Km=n.unstable_IdlePriority,hE=n.log,pE=n.unstable_setDisableYieldValue,Cs=null,Wt=null;function Mr(i){if(typeof hE=="function"&&pE(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Cs,i)}catch{}}var Qt=Math.clz32?Math.clz32:yE,mE=Math.log,gE=Math.LN2;function yE(i){return i>>>=0,i===0?32:31-(mE(i)/gE|0)|0}var fa=256,da=4194304;function Ci(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ha(i,s,c){var d=i.pendingLanes;if(d===0)return 0;var m=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?m=Ci(d):(C&=T,C!==0?m=Ci(C):c||(c=T&~i,c!==0&&(m=Ci(c))))):(T=d&~y,T!==0?m=Ci(T):C!==0?m=Ci(C):c||(c=d&~i,c!==0&&(m=Ci(c)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:m}function Ms(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function bE(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(){var i=fa;return fa<<=1,(fa&4194048)===0&&(fa=256),i}function Wm(){var i=da;return da<<=1,(da&62914560)===0&&(da=4194304),i}function rf(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Es(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vE(i,s,c,d,m,y){var C=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var T=i.entanglements,B=i.expirationTimes,U=i.hiddenUpdates;for(c=C&~c;0<c;){var Y=31-Qt(c),X=1<<Y;T[Y]=0,B[Y]=-1;var q=U[Y];if(q!==null)for(U[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}c&=~X}d!==0&&Qm(i,d,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~s))}function Qm(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Qt(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194090}function Zm(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-Qt(c),m=1<<d;m&s|i[d]&s&&(i[d]|=s),c&=~m}}function of(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function sf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Jm(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:Rv(i.type))}function xE(i,s){var c=W.p;try{return W.p=i,s()}finally{W.p=c}}var Er=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Er,qt="__reactProps$"+Er,co="__reactContainer$"+Er,lf="__reactEvents$"+Er,SE="__reactListeners$"+Er,wE="__reactHandles$"+Er,eg="__reactResources$"+Er,Ts="__reactMarker$"+Er;function af(i){delete i[Tt],delete i[qt],delete i[lf],delete i[SE],delete i[wE]}function uo(i){var s=i[Tt];if(s)return s;for(var c=i.parentNode;c;){if(s=c[co]||c[Tt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=yv(i);i!==null;){if(c=i[Tt])return c;i=yv(i)}return s}i=c,c=i.parentNode}return null}function fo(i){if(i=i[Tt]||i[co]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ks(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ho(i){var s=i[eg];return s||(s=i[eg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(i){i[Ts]=!0}var tg=new Set,ng={};function Mi(i,s){po(i,s),po(i+"Capture",s)}function po(i,s){for(ng[i]=s,i=0;i<s.length;i++)tg.add(s[i])}var CE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},ig={};function ME(i){return kn.call(ig,i)?!0:kn.call(rg,i)?!1:CE.test(i)?ig[i]=!0:(rg[i]=!0,!1)}function pa(i,s,c){if(ME(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function ma(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Zn(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}var cf,og;function mo(i){if(cf===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);cf=s&&s[1]||"",og=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cf+i+og}var uf=!1;function ff(i,s){if(!i||uf)return"";uf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(i,[],X)}else{try{X.call()}catch(F){q=F}i.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=i())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),C=y[0],T=y[1];if(C&&T){var B=C.split(`
`),U=T.split(`
`);for(m=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(d===B.length||m===U.length)for(d=B.length-1,m=U.length-1;1<=d&&0<=m&&B[d]!==U[m];)m--;for(;1<=d&&0<=m;d--,m--)if(B[d]!==U[m]){if(d!==1||m!==1)do if(d--,m--,0>m||B[d]!==U[m]){var Y=`
`+B[d].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=d&&0<=m);break}}}finally{uf=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?mo(c):""}function EE(i){switch(i.tag){case 26:case 27:case 5:return mo(i.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 15:return ff(i.type,!1);case 11:return ff(i.type.render,!1);case 1:return ff(i.type,!0);case 31:return mo("Activity");default:return""}}function sg(i){try{var s="";do s+=EE(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function TE(i){var s=lg(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(C){d=""+C,y.call(this,C)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ga(i){i._valueTracker||(i._valueTracker=TE(i))}function ag(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=lg(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function ya(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kE=/[\n"\\]/g;function hn(i){return i.replace(kE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function df(i,s,c,d,m,y,C,T){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+dn(s)):i.value!==""+dn(s)&&(i.value=""+dn(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?hf(i,C,dn(s)):c!=null?hf(i,C,dn(c)):d!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+dn(T):i.removeAttribute("name")}function cg(i,s,c,d,m,y,C,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;c=c!=null?""+dn(c):"",s=s!=null?""+dn(s):c,T||s===i.value||(i.value=s),i.defaultValue=s}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=T?i.checked:!!d,i.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function hf(i,s,c){s==="number"&&ya(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function go(i,s,c,d){if(i=i.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=s.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&d&&(i[c].defaultSelected=!0)}else{for(c=""+dn(c),s=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function ug(i,s,c){if(s!=null&&(s=""+dn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+dn(c):""}function fg(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(de(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=dn(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function yo(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var OE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dg(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||OE.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function hg(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var m in s)d=s[m],s.hasOwnProperty(m)&&c[m]!==d&&dg(i,m,d)}else for(var y in s)s.hasOwnProperty(y)&&dg(i,y,s[y])}function pf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(i){return NE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var mf=null;function gf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bo=null,vo=null;function pg(i){var s=fo(i);if(s&&(i=s.stateNode)){var c=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(df(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var m=d[qt]||null;if(!m)throw Error(r(90));df(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&ag(d)}break e;case"textarea":ug(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&go(i,!!c.multiple,s,!1)}}}var yf=!1;function mg(i,s,c){if(yf)return i(s,c);yf=!0;try{var d=i(s);return d}finally{if(yf=!1,(bo!==null||vo!==null)&&(rc(),bo&&(s=bo,i=vo,vo=bo=null,pg(s),i)))for(s=0;s<i.length;s++)pg(i[s])}}function Os(i,s){var c=i.stateNode;if(c===null)return null;var d=c[qt]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(Jn)try{var As={};Object.defineProperty(As,"passive",{get:function(){bf=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{bf=!1}var Tr=null,vf=null,va=null;function gg(){if(va)return va;var i,s=vf,c=s.length,d,m="value"in Tr?Tr.value:Tr.textContent,y=m.length;for(i=0;i<c&&s[i]===m[i];i++);var C=c-i;for(d=1;d<=C&&s[c-d]===m[y-d];d++);return va=m.slice(i,1<d?1-d:void 0)}function xa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Sa(){return!0}function yg(){return!1}function Ft(i){function s(c,d,m,y,C){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(c=i[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sa:yg,this.isPropagationStopped=yg,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),s}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ft(Ei),Ns=p({},Ei,{view:0,detail:0}),DE=Ft(Ns),xf,Sf,Ds,Ca=p({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ds&&(Ds&&i.type==="mousemove"?(xf=i.screenX-Ds.screenX,Sf=i.screenY-Ds.screenY):Sf=xf=0,Ds=i),xf)},movementY:function(i){return"movementY"in i?i.movementY:Sf}}),bg=Ft(Ca),RE=p({},Ca,{dataTransfer:0}),_E=Ft(RE),zE=p({},Ns,{relatedTarget:0}),wf=Ft(zE),LE=p({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),BE=Ft(LE),PE=p({},Ei,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jE=Ft(PE),HE=p({},Ei,{data:0}),vg=Ft(HE),IE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qE(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=VE[i])?!!s[i]:!1}function Cf(){return qE}var FE=p({},Ns,{key:function(i){if(i.key){var s=IE[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?UE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(i){return i.type==="keypress"?xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$E=Ft(FE),GE=p({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Ft(GE),YE=p({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),KE=Ft(YE),XE=p({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),WE=Ft(XE),QE=p({},Ca,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ZE=Ft(QE),JE=p({},Ei,{newState:0,oldState:0}),eT=Ft(JE),tT=[9,13,27,32],Mf=Jn&&"CompositionEvent"in window,Rs=null;Jn&&"documentMode"in document&&(Rs=document.documentMode);var nT=Jn&&"TextEvent"in window&&!Rs,Sg=Jn&&(!Mf||Rs&&8<Rs&&11>=Rs),wg=" ",Cg=!1;function Mg(i,s){switch(i){case"keyup":return tT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function rT(i,s){switch(i){case"compositionend":return Eg(s);case"keypress":return s.which!==32?null:(Cg=!0,wg);case"textInput":return i=s.data,i===wg&&Cg?null:i;default:return null}}function iT(i,s){if(xo)return i==="compositionend"||!Mf&&Mg(i,s)?(i=gg(),va=vf=Tr=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sg&&s.locale!=="ko"?null:s.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!oT[i.type]:s==="textarea"}function kg(i,s,c,d){bo?vo?vo.push(d):vo=[d]:bo=d,s=cc(s,"onChange"),0<s.length&&(c=new wa("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var _s=null,zs=null;function sT(i){lv(i,0)}function Ma(i){var s=ks(i);if(ag(s))return i}function Og(i,s){if(i==="change")return s}var Ag=!1;if(Jn){var Ef;if(Jn){var Tf="oninput"in document;if(!Tf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Tf=typeof Ng.oninput=="function"}Ef=Tf}else Ef=!1;Ag=Ef&&(!document.documentMode||9<document.documentMode)}function Dg(){_s&&(_s.detachEvent("onpropertychange",Rg),zs=_s=null)}function Rg(i){if(i.propertyName==="value"&&Ma(zs)){var s=[];kg(s,zs,i,gf(i)),mg(sT,s)}}function lT(i,s,c){i==="focusin"?(Dg(),_s=s,zs=c,_s.attachEvent("onpropertychange",Rg)):i==="focusout"&&Dg()}function aT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ma(zs)}function cT(i,s){if(i==="click")return Ma(s)}function uT(i,s){if(i==="input"||i==="change")return Ma(s)}function fT(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zt=typeof Object.is=="function"?Object.is:fT;function Ls(i,s){if(Zt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!kn.call(s,m)||!Zt(i[m],s[m]))return!1}return!0}function _g(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zg(i,s){var c=_g(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_g(c)}}function Lg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Lg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Bg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ya(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ya(i.document)}return s}function kf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var dT=Jn&&"documentMode"in document&&11>=document.documentMode,So=null,Of=null,Bs=null,Af=!1;function Pg(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Af||So==null||So!==ya(d)||(d=So,"selectionStart"in d&&kf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Bs&&Ls(Bs,d)||(Bs=d,d=cc(Of,"onSelect"),0<d.length&&(s=new wa("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=So)))}function Ti(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var wo={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Nf={},jg={};Jn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ki(i){if(Nf[i])return Nf[i];if(!wo[i])return i;var s=wo[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in jg)return Nf[i]=s[c];return i}var Hg=ki("animationend"),Ig=ki("animationiteration"),Ug=ki("animationstart"),hT=ki("transitionrun"),pT=ki("transitionstart"),mT=ki("transitioncancel"),Vg=ki("transitionend"),qg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function On(i,s){qg.set(i,s),Mi(s,[i])}var Fg=new WeakMap;function pn(i,s){if(typeof i=="object"&&i!==null){var c=Fg.get(i);return c!==void 0?c:(s={value:i,source:s,stack:sg(s)},Fg.set(i,s),s)}return{value:i,source:s,stack:sg(s)}}var mn=[],Co=0,Rf=0;function Ea(){for(var i=Co,s=Rf=Co=0;s<i;){var c=mn[s];mn[s++]=null;var d=mn[s];mn[s++]=null;var m=mn[s];mn[s++]=null;var y=mn[s];if(mn[s++]=null,d!==null&&m!==null){var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}y!==0&&$g(c,m,y)}}function Ta(i,s,c,d){mn[Co++]=i,mn[Co++]=s,mn[Co++]=c,mn[Co++]=d,Rf|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function _f(i,s,c,d){return Ta(i,s,c,d),ka(i)}function Mo(i,s){return Ta(i,null,null,s),ka(i)}function $g(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=i.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-Qt(c),i=y.hiddenUpdates,d=i[m],d===null?i[m]=[s]:d.push(s),s.lane=c|536870912),y):null}function ka(i){if(50<ll)throw ll=0,Hd=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Eo={};function gT(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,s,c,d){return new gT(i,s,c,d)}function zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function er(i,s){var c=i.alternate;return c===null?(c=Jt(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Gg(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Oa(i,s,c,d,m,y){var C=0;if(d=i,typeof i=="function")zf(i)&&(C=1);else if(typeof i=="string")C=bk(i,c,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Jt(31,c,s,m),i.elementType=V,i.lanes=y,i;case x:return Oi(c.children,m,y,s);case S:C=8,m|=24;break;case w:return i=Jt(12,c,s,m|2),i.elementType=w,i.lanes=y,i;case N:return i=Jt(13,c,s,m),i.elementType=N,i.lanes=y,i;case _:return i=Jt(19,c,s,m),i.elementType=_,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case k:C=10;break e;case E:C=9;break e;case D:C=11;break e;case A:C=14;break e;case z:C=16,d=null;break e}C=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=Jt(C,c,s,m),s.elementType=i,s.type=d,s.lanes=y,s}function Oi(i,s,c,d){return i=Jt(7,i,d,s),i.lanes=c,i}function Lf(i,s,c){return i=Jt(6,i,null,s),i.lanes=c,i}function Bf(i,s,c){return s=Jt(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var To=[],ko=0,Aa=null,Na=0,gn=[],yn=0,Ai=null,tr=1,nr="";function Ni(i,s){To[ko++]=Na,To[ko++]=Aa,Aa=i,Na=s}function Yg(i,s,c){gn[yn++]=tr,gn[yn++]=nr,gn[yn++]=Ai,Ai=i;var d=tr;i=nr;var m=32-Qt(d)-1;d&=~(1<<m),c+=1;var y=32-Qt(s)+m;if(30<y){var C=m-m%5;y=(d&(1<<C)-1).toString(32),d>>=C,m-=C,tr=1<<32-Qt(s)+m|c<<m|d,nr=y+i}else tr=1<<y|c<<m|d,nr=i}function Pf(i){i.return!==null&&(Ni(i,1),Yg(i,1,0))}function jf(i){for(;i===Aa;)Aa=To[--ko],To[ko]=null,Na=To[--ko],To[ko]=null;for(;i===Ai;)Ai=gn[--yn],gn[yn]=null,nr=gn[--yn],gn[yn]=null,tr=gn[--yn],gn[yn]=null}var zt=null,We=null,ze=!1,Di=null,Bn=!1,Hf=Error(r(519));function Ri(i){var s=Error(r(418,""));throw Hs(pn(s,i)),Hf}function Kg(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[Tt]=i,s[qt]=d,c){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(c=0;c<cl.length;c++)Ne(cl[c],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),cg(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ga(s);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),fg(s,d.value,d.defaultValue,d.children),ga(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||fv(s.textContent,c)?(d.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),d.onScroll!=null&&Ne("scroll",s),d.onScrollEnd!=null&&Ne("scrollend",s),d.onClick!=null&&(s.onclick=uc),s=!0):s=!1,s||Ri(i)}function Xg(i){for(zt=i.return;zt;)switch(zt.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:zt=zt.return}}function Ps(i){if(i!==zt)return!1;if(!ze)return Xg(i),ze=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||th(i.type,i.memoizedProps)),c=!c),c&&We&&Ri(i),Xg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){We=Nn(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}We=null}}else s===27?(s=We,Vr(i.type)?(i=oh,oh=null,We=i):We=s):We=zt?Nn(i.stateNode.nextSibling):null;return!0}function js(){We=zt=null,ze=!1}function Wg(){var i=Di;return i!==null&&(Yt===null?Yt=i:Yt.push.apply(Yt,i),Di=null),i}function Hs(i){Di===null?Di=[i]:Di.push(i)}var If=G(null),_i=null,rr=null;function kr(i,s,c){J(If,s._currentValue),s._currentValue=c}function ir(i){i._currentValue=If.current,te(If)}function Uf(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function Vf(i,s,c,d){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var C=m.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=m;for(var B=0;B<s.length;B++)if(T.context===s[B]){y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),Uf(y.return,c,i),d||(C=null);break e}y=T.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(r(341));C.lanes|=c,y=C.alternate,y!==null&&(y.lanes|=c),Uf(C,c,i),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===i){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Is(i,s,c,d){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var T=m.type;Zt(m.pendingProps.value,C.value)||(i!==null?i.push(T):i=[T])}}else if(m===we.current){if(C=m.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(ml):i=[ml])}m=m.return}i!==null&&Vf(s,i,c,d),s.flags|=262144}function Da(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function zi(i){_i=i,rr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kt(i){return Qg(_i,i)}function Ra(i,s){return _i===null&&zi(i),Qg(i,s)}function Qg(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},rr===null){if(i===null)throw Error(r(308));rr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else rr=rr.next=s;return c}var yT=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},bT=n.unstable_scheduleCallback,vT=n.unstable_NormalPriority,lt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new yT,data:new Map,refCount:0}}function Us(i){i.refCount--,i.refCount===0&&bT(vT,function(){i.controller.abort()})}var Vs=null,Ff=0,Oo=0,Ao=null;function xT(i,s){if(Vs===null){var c=Vs=[];Ff=0,Oo=Gd(),Ao={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Ff++,s.then(Zg,Zg),s}function Zg(){if(--Ff===0&&Vs!==null){Ao!==null&&(Ao.status="fulfilled");var i=Vs;Vs=null,Oo=0,Ao=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ST(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var Jg=H.S;H.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xT(i,s),Jg!==null&&Jg(i,s)};var Li=G(null);function $f(){var i=Li.current;return i!==null?i:Fe.pooledCache}function _a(i,s){s===null?J(Li,Li.current):J(Li,s.pool)}function ey(){var i=$f();return i===null?null:{parent:lt._currentValue,pool:i}}var qs=Error(r(460)),ty=Error(r(474)),za=Error(r(542)),Gf={then:function(){}};function ny(i){return i=i.status,i==="fulfilled"||i==="rejected"}function La(){}function ry(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(La,La),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,oy(i),i;default:if(typeof s.status=="string")s.then(La,La);else{if(i=Fe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=d}},function(d){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,oy(i),i}throw Fs=s,qs}}var Fs=null;function iy(){if(Fs===null)throw Error(r(459));var i=Fs;return Fs=null,i}function oy(i){if(i===qs||i===za)throw Error(r(483))}var Or=!1;function Yf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Nr(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,s=ka(i),$g(i,null,c),s}return Ta(i,d,s,c),ka(i)}function $s(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Zm(i,c)}}function Xf(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=C:y=y.next=C,c=c.next}while(c!==null);y===null?m=y=s:y=y.next=s}else m=y=s;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Wf=!1;function Gs(){if(Wf){var i=Ao;if(i!==null)throw i}}function Ys(i,s,c,d){Wf=!1;var m=i.updateQueue;Or=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var B=T,U=B.next;B.next=null,C===null?y=U:C.next=U,C=B;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==C&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=B))}if(y!==null){var X=m.baseState;C=0,Y=U=B=null,T=y;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(De&q)===q:(d&q)===q){q!==0&&q===Oo&&(Wf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=i,me=T;q=s;var Ie=c;switch(me.tag){case 1:if(be=me.payload,typeof be=="function"){X=be.call(Ie,X,q);break e}X=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=me.payload,q=typeof be=="function"?be.call(Ie,X,q):be,q==null)break e;X=p({},X,q);break e;case 2:Or=!0}}q=T.callback,q!==null&&(i.flags|=64,F&&(i.flags|=8192),F=m.callbacks,F===null?m.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=F,B=X):Y=Y.next=F,C|=q;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;F=T,T=F.next,F.next=null,m.lastBaseUpdate=F,m.shared.pending=null}}while(!0);Y===null&&(B=X),m.baseState=B,m.firstBaseUpdate=U,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),jr|=C,i.lanes=C,i.memoizedState=X}}function sy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function ly(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)sy(c[i],s)}var No=G(null),Ba=G(0);function ay(i,s){i=fr,J(Ba,i),J(No,s),fr=i|s.baseLanes}function Qf(){J(Ba,fr),J(No,No.current)}function Zf(){fr=Ba.current,te(No),te(Ba)}var Dr=0,Ee=null,je=null,rt=null,Pa=!1,Do=!1,Bi=!1,ja=0,Ks=0,Ro=null,wT=0;function et(){throw Error(r(321))}function Jf(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Zt(i[c],s[c]))return!1;return!0}function ed(i,s,c,d,m,y){return Dr=y,Ee=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?$y:Gy,Bi=!1,y=c(d,m),Bi=!1,Do&&(y=uy(s,c,d,m)),cy(i),y}function cy(i){H.H=Fa;var s=je!==null&&je.next!==null;if(Dr=0,rt=je=Ee=null,Pa=!1,Ks=0,Ro=null,s)throw Error(r(300));i===null||ht||(i=i.dependencies,i!==null&&Da(i)&&(ht=!0))}function uy(i,s,c,d){Ee=i;var m=0;do{if(Do&&(Ro=null),Ks=0,Do=!1,25<=m)throw Error(r(301));if(m+=1,rt=je=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=AT,y=s(c,d)}while(Do);return y}function CT(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?Xs(s):s,i=i.useState()[0],(je!==null?je.memoizedState:null)!==i&&(Ee.flags|=1024),s}function td(){var i=ja!==0;return ja=0,i}function nd(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function rd(i){if(Pa){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Pa=!1}Dr=0,rt=je=Ee=null,Do=!1,Ks=ja=0,Ro=null}function $t(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ee.memoizedState=rt=i:rt=rt.next=i,rt}function it(){if(je===null){var i=Ee.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var s=rt===null?Ee.memoizedState:rt.next;if(s!==null)rt=s,je=i;else{if(i===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},rt===null?Ee.memoizedState=rt=i:rt=rt.next=i}return rt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(i){var s=Ks;return Ks+=1,Ro===null&&(Ro=[]),i=ry(Ro,i,s),s=Ee,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?$y:Gy),i}function Ha(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xs(i);if(i.$$typeof===k)return kt(i)}throw Error(r(438,String(i)))}function od(i){var s=null,c=Ee.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=id(),Ee.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=ee;return s.index++,c}function or(i,s){return typeof s=="function"?s(i):s}function Ia(i){var s=it();return sd(s,je,i)}function sd(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var m=i.baseQueue,y=d.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}s.baseQueue=m=y,d.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var T=C=null,B=null,U=s,Y=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(De&X)===X:(Dr&X)===X){var q=U.revertLane;if(q===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Oo&&(Y=!0);else if((Dr&q)===q){U=U.next,q===Oo&&(Y=!0);continue}else X={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},B===null?(T=B=X,C=y):B=B.next=X,Ee.lanes|=q,jr|=q;X=U.action,Bi&&c(y,X),y=U.hasEagerState?U.eagerState:c(y,X)}else q={lane:X,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},B===null?(T=B=q,C=y):B=B.next=q,Ee.lanes|=X,jr|=X;U=U.next}while(U!==null&&U!==s);if(B===null?C=y:B.next=T,!Zt(y,i.memoizedState)&&(ht=!0,Y&&(c=Ao,c!==null)))throw c;i.memoizedState=y,i.baseState=C,i.baseQueue=B,d.lastRenderedState=y}return m===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function ld(i){var s=it(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,m=c.pending,y=s.memoizedState;if(m!==null){c.pending=null;var C=m=m.next;do y=i(y,C.action),C=C.next;while(C!==m);Zt(y,s.memoizedState)||(ht=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function fy(i,s,c){var d=Ee,m=it(),y=ze;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=s();var C=!Zt((je||m).memoizedState,c);C&&(m.memoizedState=c,ht=!0),m=m.queue;var T=py.bind(null,d,m,i);if(Ws(2048,8,T,[i]),m.getSnapshot!==s||C||rt!==null&&rt.memoizedState.tag&1){if(d.flags|=2048,_o(9,Ua(),hy.bind(null,d,m,c,s),null),Fe===null)throw Error(r(349));y||(Dr&124)!==0||dy(d,s,c)}return c}function dy(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Ee.updateQueue,s===null?(s=id(),Ee.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function hy(i,s,c,d){s.value=c,s.getSnapshot=d,my(s)&&gy(i)}function py(i,s,c){return c(function(){my(s)&&gy(i)})}function my(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Zt(i,c)}catch{return!0}}function gy(i){var s=Mo(i,2);s!==null&&on(s,i,2)}function ad(i){var s=$t();if(typeof i=="function"){var c=i;if(i=c(),Bi){Mr(!0);try{c()}finally{Mr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:i},s}function yy(i,s,c,d){return i.baseState=c,sd(i,je,typeof d=="function"?d:or)}function MT(i,s,c,d,m){if(qa(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};H.T!==null?c(!0):y.isTransition=!1,d(y),c=s.pending,c===null?(y.next=s.pending=y,by(s,y)):(y.next=c.next,s.pending=c.next=y)}}function by(i,s){var c=s.action,d=s.payload,m=i.state;if(s.isTransition){var y=H.T,C={};H.T=C;try{var T=c(m,d),B=H.S;B!==null&&B(C,T),vy(i,s,T)}catch(U){cd(i,s,U)}finally{H.T=y}}else try{y=c(m,d),vy(i,s,y)}catch(U){cd(i,s,U)}}function vy(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){xy(i,s,d)},function(d){return cd(i,s,d)}):xy(i,s,c)}function xy(i,s,c){s.status="fulfilled",s.value=c,Sy(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,by(i,c)))}function cd(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,Sy(s),s=s.next;while(s!==d)}i.action=null}function Sy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function wy(i,s){return s}function Cy(i,s){if(ze){var c=Fe.formState;if(c!==null){e:{var d=Ee;if(ze){if(We){t:{for(var m=We,y=Bn;m.nodeType!==8;){if(!y){m=null;break t}if(m=Nn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){We=Nn(m.nextSibling),d=m.data==="F!";break e}}Ri(d)}d=!1}d&&(s=c[0])}}return c=$t(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:s},c.queue=d,c=Vy.bind(null,Ee,d),d.dispatch=c,d=ad(!1),y=pd.bind(null,Ee,!1,d.queue),d=$t(),m={state:s,dispatch:null,action:i,pending:null},d.queue=m,c=MT.bind(null,Ee,m,y,c),m.dispatch=c,d.memoizedState=i,[s,c,!1]}function My(i){var s=it();return Ey(s,je,i)}function Ey(i,s,c){if(s=sd(i,s,wy)[0],i=Ia(or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Xs(s)}catch(C){throw C===qs?za:C}else d=s;s=it();var m=s.queue,y=m.dispatch;return c!==s.memoizedState&&(Ee.flags|=2048,_o(9,Ua(),ET.bind(null,m,c),null)),[d,y,i]}function ET(i,s){i.action=s}function Ty(i){var s=it(),c=je;if(c!==null)return Ey(s,c,i);it(),s=s.memoizedState,c=it();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function _o(i,s,c,d){return i={tag:i,create:c,deps:d,inst:s,next:null},s=Ee.updateQueue,s===null&&(s=id(),Ee.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function Ua(){return{destroy:void 0,resource:void 0}}function ky(){return it().memoizedState}function Va(i,s,c,d){var m=$t();d=d===void 0?null:d,Ee.flags|=i,m.memoizedState=_o(1|s,Ua(),c,d)}function Ws(i,s,c,d){var m=it();d=d===void 0?null:d;var y=m.memoizedState.inst;je!==null&&d!==null&&Jf(d,je.memoizedState.deps)?m.memoizedState=_o(s,y,c,d):(Ee.flags|=i,m.memoizedState=_o(1|s,y,c,d))}function Oy(i,s){Va(8390656,8,i,s)}function Ay(i,s){Ws(2048,8,i,s)}function Ny(i,s){return Ws(4,2,i,s)}function Dy(i,s){return Ws(4,4,i,s)}function Ry(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function _y(i,s,c){c=c!=null?c.concat([i]):null,Ws(4,4,Ry.bind(null,s,i),c)}function ud(){}function zy(i,s){var c=it();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Jf(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function Ly(i,s){var c=it();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Jf(s,d[1]))return d[0];if(d=i(),Bi){Mr(!0);try{i()}finally{Mr(!1)}}return c.memoizedState=[d,s],d}function fd(i,s,c){return c===void 0||(Dr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=jb(),Ee.lanes|=i,jr|=i,c)}function By(i,s,c,d){return Zt(c,s)?c:No.current!==null?(i=fd(i,c,d),Zt(i,s)||(ht=!0),i):(Dr&42)===0?(ht=!0,i.memoizedState=c):(i=jb(),Ee.lanes|=i,jr|=i,s)}function Py(i,s,c,d,m){var y=W.p;W.p=y!==0&&8>y?y:8;var C=H.T,T={};H.T=T,pd(i,!1,s,c);try{var B=m(),U=H.S;if(U!==null&&U(T,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=ST(B,d);Qs(i,s,Y,rn(i))}else Qs(i,s,d,rn(i))}catch(X){Qs(i,s,{then:function(){},status:"rejected",reason:X},rn())}finally{W.p=y,H.T=C}}function TT(){}function dd(i,s,c,d){if(i.tag!==5)throw Error(r(476));var m=jy(i).queue;Py(i,m,s,$,c===null?TT:function(){return Hy(i),c(d)})}function jy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:$},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Hy(i){var s=jy(i).next.queue;Qs(i,s,{},rn())}function hd(){return kt(ml)}function Iy(){return it().memoizedState}function Uy(){return it().memoizedState}function kT(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=rn();i=Ar(c);var d=Nr(s,i,c);d!==null&&(on(d,s,c),$s(d,s,c)),s={cache:qf()},i.payload=s;return}s=s.return}}function OT(i,s,c){var d=rn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},qa(i)?qy(s,c):(c=_f(i,s,c,d),c!==null&&(on(c,i,d),Fy(c,s,d)))}function Vy(i,s,c){var d=rn();Qs(i,s,c,d)}function Qs(i,s,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(qa(i))qy(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,T=y(C,c);if(m.hasEagerState=!0,m.eagerState=T,Zt(T,C))return Ta(i,s,m,0),Fe===null&&Ea(),!1}catch{}finally{}if(c=_f(i,s,m,d),c!==null)return on(c,i,d),Fy(c,s,d),!0}return!1}function pd(i,s,c,d){if(d={lane:2,revertLane:Gd(),action:d,hasEagerState:!1,eagerState:null,next:null},qa(i)){if(s)throw Error(r(479))}else s=_f(i,c,d,2),s!==null&&on(s,i,2)}function qa(i){var s=i.alternate;return i===Ee||s!==null&&s===Ee}function qy(i,s){Do=Pa=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function Fy(i,s,c){if((c&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Zm(i,c)}}var Fa={readContext:kt,use:Ha,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},$y={readContext:kt,use:Ha,useCallback:function(i,s){return $t().memoizedState=[i,s===void 0?null:s],i},useContext:kt,useEffect:Oy,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Va(4194308,4,Ry.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Va(4194308,4,i,s)},useInsertionEffect:function(i,s){Va(4,2,i,s)},useMemo:function(i,s){var c=$t();s=s===void 0?null:s;var d=i();if(Bi){Mr(!0);try{i()}finally{Mr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=$t();if(c!==void 0){var m=c(s);if(Bi){Mr(!0);try{c(s)}finally{Mr(!1)}}}else m=s;return d.memoizedState=d.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},d.queue=i,i=i.dispatch=OT.bind(null,Ee,i),[d.memoizedState,i]},useRef:function(i){var s=$t();return i={current:i},s.memoizedState=i},useState:function(i){i=ad(i);var s=i.queue,c=Vy.bind(null,Ee,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:ud,useDeferredValue:function(i,s){var c=$t();return fd(c,i,s)},useTransition:function(){var i=ad(!1);return i=Py.bind(null,Ee,i.queue,!0,!1),$t().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=Ee,m=$t();if(ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Fe===null)throw Error(r(349));(De&124)!==0||dy(d,s,c)}m.memoizedState=c;var y={value:c,getSnapshot:s};return m.queue=y,Oy(py.bind(null,d,y,i),[i]),d.flags|=2048,_o(9,Ua(),hy.bind(null,d,y,c,s),null),c},useId:function(){var i=$t(),s=Fe.identifierPrefix;if(ze){var c=nr,d=tr;c=(d&~(1<<32-Qt(d)-1)).toString(32)+c,s=""+s+"R"+c,c=ja++,0<c&&(s+="H"+c.toString(32)),s+=""}else c=wT++,s=""+s+"r"+c.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:hd,useFormState:Cy,useActionState:Cy,useOptimistic:function(i){var s=$t();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=pd.bind(null,Ee,!0,c),c.dispatch=s,[i,s]},useMemoCache:od,useCacheRefresh:function(){return $t().memoizedState=kT.bind(null,Ee)}},Gy={readContext:kt,use:Ha,useCallback:zy,useContext:kt,useEffect:Ay,useImperativeHandle:_y,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Ly,useReducer:Ia,useRef:ky,useState:function(){return Ia(or)},useDebugValue:ud,useDeferredValue:function(i,s){var c=it();return By(c,je.memoizedState,i,s)},useTransition:function(){var i=Ia(or)[0],s=it().memoizedState;return[typeof i=="boolean"?i:Xs(i),s]},useSyncExternalStore:fy,useId:Iy,useHostTransitionStatus:hd,useFormState:My,useActionState:My,useOptimistic:function(i,s){var c=it();return yy(c,je,i,s)},useMemoCache:od,useCacheRefresh:Uy},AT={readContext:kt,use:Ha,useCallback:zy,useContext:kt,useEffect:Ay,useImperativeHandle:_y,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Ly,useReducer:ld,useRef:ky,useState:function(){return ld(or)},useDebugValue:ud,useDeferredValue:function(i,s){var c=it();return je===null?fd(c,i,s):By(c,je.memoizedState,i,s)},useTransition:function(){var i=ld(or)[0],s=it().memoizedState;return[typeof i=="boolean"?i:Xs(i),s]},useSyncExternalStore:fy,useId:Iy,useHostTransitionStatus:hd,useFormState:Ty,useActionState:Ty,useOptimistic:function(i,s){var c=it();return je!==null?yy(c,je,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:od,useCacheRefresh:Uy},zo=null,Zs=0;function $a(i){var s=Zs;return Zs+=1,zo===null&&(zo=[]),ry(zo,i,s)}function Js(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ga(i,s){throw s.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Yy(i){var s=i._init;return s(i._payload)}function Ky(i){function s(j,P){if(i){var I=j.deletions;I===null?(j.deletions=[P],j.flags|=16):I.push(P)}}function c(j,P){if(!i)return null;for(;P!==null;)s(j,P),P=P.sibling;return null}function d(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function m(j,P){return j=er(j,P),j.index=0,j.sibling=null,j}function y(j,P,I){return j.index=I,i?(I=j.alternate,I!==null?(I=I.index,I<P?(j.flags|=67108866,P):I):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function C(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function T(j,P,I,K){return P===null||P.tag!==6?(P=Lf(I,j.mode,K),P.return=j,P):(P=m(P,I),P.return=j,P)}function B(j,P,I,K){var se=I.type;return se===x?Y(j,P,I.props.children,K,I.key):P!==null&&(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===z&&Yy(se)===P.type)?(P=m(P,I.props),Js(P,I),P.return=j,P):(P=Oa(I.type,I.key,I.props,null,j.mode,K),Js(P,I),P.return=j,P)}function U(j,P,I,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==I.containerInfo||P.stateNode.implementation!==I.implementation?(P=Bf(I,j.mode,K),P.return=j,P):(P=m(P,I.children||[]),P.return=j,P)}function Y(j,P,I,K,se){return P===null||P.tag!==7?(P=Oi(I,j.mode,K,se),P.return=j,P):(P=m(P,I),P.return=j,P)}function X(j,P,I){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Lf(""+P,j.mode,I),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return I=Oa(P.type,P.key,P.props,null,j.mode,I),Js(I,P),I.return=j,I;case v:return P=Bf(P,j.mode,I),P.return=j,P;case z:var K=P._init;return P=K(P._payload),X(j,P,I)}if(de(P)||ne(P))return P=Oi(P,j.mode,I,null),P.return=j,P;if(typeof P.then=="function")return X(j,$a(P),I);if(P.$$typeof===k)return X(j,Ra(j,P),I);Ga(j,P)}return null}function q(j,P,I,K){var se=P!==null?P.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return se!==null?null:T(j,P,""+I,K);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return I.key===se?B(j,P,I,K):null;case v:return I.key===se?U(j,P,I,K):null;case z:return se=I._init,I=se(I._payload),q(j,P,I,K)}if(de(I)||ne(I))return se!==null?null:Y(j,P,I,K,null);if(typeof I.then=="function")return q(j,P,$a(I),K);if(I.$$typeof===k)return q(j,P,Ra(j,I),K);Ga(j,I)}return null}function F(j,P,I,K,se){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(I)||null,T(P,j,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return j=j.get(K.key===null?I:K.key)||null,B(P,j,K,se);case v:return j=j.get(K.key===null?I:K.key)||null,U(P,j,K,se);case z:var ke=K._init;return K=ke(K._payload),F(j,P,I,K,se)}if(de(K)||ne(K))return j=j.get(I)||null,Y(P,j,K,se,null);if(typeof K.then=="function")return F(j,P,I,$a(K),se);if(K.$$typeof===k)return F(j,P,I,Ra(P,K),se);Ga(P,K)}return null}function be(j,P,I,K){for(var se=null,ke=null,ue=P,ge=P=0,mt=null;ue!==null&&ge<I.length;ge++){ue.index>ge?(mt=ue,ue=null):mt=ue.sibling;var _e=q(j,ue,I[ge],K);if(_e===null){ue===null&&(ue=mt);break}i&&ue&&_e.alternate===null&&s(j,ue),P=y(_e,P,ge),ke===null?se=_e:ke.sibling=_e,ke=_e,ue=mt}if(ge===I.length)return c(j,ue),ze&&Ni(j,ge),se;if(ue===null){for(;ge<I.length;ge++)ue=X(j,I[ge],K),ue!==null&&(P=y(ue,P,ge),ke===null?se=ue:ke.sibling=ue,ke=ue);return ze&&Ni(j,ge),se}for(ue=d(ue);ge<I.length;ge++)mt=F(ue,j,ge,I[ge],K),mt!==null&&(i&&mt.alternate!==null&&ue.delete(mt.key===null?ge:mt.key),P=y(mt,P,ge),ke===null?se=mt:ke.sibling=mt,ke=mt);return i&&ue.forEach(function(Yr){return s(j,Yr)}),ze&&Ni(j,ge),se}function me(j,P,I,K){if(I==null)throw Error(r(151));for(var se=null,ke=null,ue=P,ge=P=0,mt=null,_e=I.next();ue!==null&&!_e.done;ge++,_e=I.next()){ue.index>ge?(mt=ue,ue=null):mt=ue.sibling;var Yr=q(j,ue,_e.value,K);if(Yr===null){ue===null&&(ue=mt);break}i&&ue&&Yr.alternate===null&&s(j,ue),P=y(Yr,P,ge),ke===null?se=Yr:ke.sibling=Yr,ke=Yr,ue=mt}if(_e.done)return c(j,ue),ze&&Ni(j,ge),se;if(ue===null){for(;!_e.done;ge++,_e=I.next())_e=X(j,_e.value,K),_e!==null&&(P=y(_e,P,ge),ke===null?se=_e:ke.sibling=_e,ke=_e);return ze&&Ni(j,ge),se}for(ue=d(ue);!_e.done;ge++,_e=I.next())_e=F(ue,j,ge,_e.value,K),_e!==null&&(i&&_e.alternate!==null&&ue.delete(_e.key===null?ge:_e.key),P=y(_e,P,ge),ke===null?se=_e:ke.sibling=_e,ke=_e);return i&&ue.forEach(function(Nk){return s(j,Nk)}),ze&&Ni(j,ge),se}function Ie(j,P,I,K){if(typeof I=="object"&&I!==null&&I.type===x&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case b:e:{for(var se=I.key;P!==null;){if(P.key===se){if(se=I.type,se===x){if(P.tag===7){c(j,P.sibling),K=m(P,I.props.children),K.return=j,j=K;break e}}else if(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===z&&Yy(se)===P.type){c(j,P.sibling),K=m(P,I.props),Js(K,I),K.return=j,j=K;break e}c(j,P);break}else s(j,P);P=P.sibling}I.type===x?(K=Oi(I.props.children,j.mode,K,I.key),K.return=j,j=K):(K=Oa(I.type,I.key,I.props,null,j.mode,K),Js(K,I),K.return=j,j=K)}return C(j);case v:e:{for(se=I.key;P!==null;){if(P.key===se)if(P.tag===4&&P.stateNode.containerInfo===I.containerInfo&&P.stateNode.implementation===I.implementation){c(j,P.sibling),K=m(P,I.children||[]),K.return=j,j=K;break e}else{c(j,P);break}else s(j,P);P=P.sibling}K=Bf(I,j.mode,K),K.return=j,j=K}return C(j);case z:return se=I._init,I=se(I._payload),Ie(j,P,I,K)}if(de(I))return be(j,P,I,K);if(ne(I)){if(se=ne(I),typeof se!="function")throw Error(r(150));return I=se.call(I),me(j,P,I,K)}if(typeof I.then=="function")return Ie(j,P,$a(I),K);if(I.$$typeof===k)return Ie(j,P,Ra(j,I),K);Ga(j,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,P!==null&&P.tag===6?(c(j,P.sibling),K=m(P,I),K.return=j,j=K):(c(j,P),K=Lf(I,j.mode,K),K.return=j,j=K),C(j)):c(j,P)}return function(j,P,I,K){try{Zs=0;var se=Ie(j,P,I,K);return zo=null,se}catch(ue){if(ue===qs||ue===za)throw ue;var ke=Jt(29,ue,null,j.mode);return ke.lanes=K,ke.return=j,ke}finally{}}}var Lo=Ky(!0),Xy=Ky(!1),bn=G(null),Pn=null;function Rr(i){var s=i.alternate;J(at,at.current&1),J(bn,i),Pn===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Pn=i)}function Wy(i){if(i.tag===22){if(J(at,at.current),J(bn,i),Pn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Pn=i)}}else _r()}function _r(){J(at,at.current),J(bn,bn.current)}function sr(i){te(bn),Pn===i&&(Pn=null),te(at)}var at=G(0);function Ya(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||ih(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function md(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:p({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var gd={enqueueSetState:function(i,s,c){i=i._reactInternals;var d=rn(),m=Ar(d);m.payload=s,c!=null&&(m.callback=c),s=Nr(i,m,d),s!==null&&(on(s,i,d),$s(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=rn(),m=Ar(d);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=Nr(i,m,d),s!==null&&(on(s,i,d),$s(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=rn(),d=Ar(c);d.tag=2,s!=null&&(d.callback=s),s=Nr(i,d,c),s!==null&&(on(s,i,c),$s(s,i,c))}};function Qy(i,s,c,d,m,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,C):s.prototype&&s.prototype.isPureReactComponent?!Ls(c,d)||!Ls(m,y):!0}function Zy(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&gd.enqueueReplaceState(s,s.state,null)}function Pi(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=p({},c));for(var m in i)c[m]===void 0&&(c[m]=i[m])}return c}var Ka=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Jy(i){Ka(i)}function eb(i){console.error(i)}function tb(i){Ka(i)}function Xa(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function nb(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function yd(i,s,c){return c=Ar(c),c.tag=3,c.payload={element:null},c.callback=function(){Xa(i,s)},c}function rb(i){return i=Ar(i),i.tag=3,i}function ib(i,s,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;i.payload=function(){return m(y)},i.callback=function(){nb(s,c,d)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){nb(s,c,d),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function NT(i,s,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Is(s,c,m,!0),c=bn.current,c!==null){switch(c.tag){case 13:return Pn===null?Ud():c.alternate===null&&Qe===0&&(Qe=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===Gf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),qd(i,d,m)),!1;case 22:return c.flags|=65536,d===Gf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),qd(i,d,m)),!1}throw Error(r(435,c.tag))}return qd(i,d,m),Ud(),!1}if(ze)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,d!==Hf&&(i=Error(r(422),{cause:d}),Hs(pn(i,c)))):(d!==Hf&&(s=Error(r(423),{cause:d}),Hs(pn(s,c))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,d=pn(d,c),m=yd(i.stateNode,d,m),Xf(i,m),Qe!==4&&(Qe=2)),!1;var y=Error(r(520),{cause:d});if(y=pn(y,c),sl===null?sl=[y]:sl.push(y),Qe!==4&&(Qe=2),s===null)return!0;d=pn(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=m&-m,c.lanes|=i,i=yd(c.stateNode,d,i),Xf(c,i),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=rb(m),ib(m,i,c,d),Xf(c,m),!1}c=c.return}while(c!==null);return!1}var ob=Error(r(461)),ht=!1;function xt(i,s,c,d){s.child=i===null?Xy(s,null,c,d):Lo(s,i.child,c,d)}function sb(i,s,c,d,m){c=c.render;var y=s.ref;if("ref"in d){var C={};for(var T in d)T!=="ref"&&(C[T]=d[T])}else C=d;return zi(s),d=ed(i,s,c,C,y,m),T=td(),i!==null&&!ht?(nd(i,s,m),lr(i,s,m)):(ze&&T&&Pf(s),s.flags|=1,xt(i,s,d,m),s.child)}function lb(i,s,c,d,m){if(i===null){var y=c.type;return typeof y=="function"&&!zf(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,ab(i,s,y,d,m)):(i=Oa(c.type,null,d,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Ed(i,m)){var C=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ls,c(C,d)&&i.ref===s.ref)return lr(i,s,m)}return s.flags|=1,i=er(y,d),i.ref=s.ref,i.return=s,s.child=i}function ab(i,s,c,d,m){if(i!==null){var y=i.memoizedProps;if(Ls(y,d)&&i.ref===s.ref)if(ht=!1,s.pendingProps=d=y,Ed(i,m))(i.flags&131072)!==0&&(ht=!0);else return s.lanes=i.lanes,lr(i,s,m)}return bd(i,s,c,d,m)}function cb(i,s,c){var d=s.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=y!==null?y.baseLanes|c:c,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~d}else s.childLanes=0,s.child=null;return ub(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_a(s,y!==null?y.cachePool:null),y!==null?ay(s,y):Qf(),Wy(s);else return s.lanes=s.childLanes=536870912,ub(i,s,y!==null?y.baseLanes|c:c,c)}else y!==null?(_a(s,y.cachePool),ay(s,y),_r(),s.memoizedState=null):(i!==null&&_a(s,null),Qf(),_r());return xt(i,s,m,c),s.child}function ub(i,s,c,d){var m=$f();return m=m===null?null:{parent:lt._currentValue,pool:m},s.memoizedState={baseLanes:c,cachePool:m},i!==null&&_a(s,null),Qf(),Wy(s),i!==null&&Is(i,s,d,!0),null}function Wa(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function bd(i,s,c,d,m){return zi(s),c=ed(i,s,c,d,void 0,m),d=td(),i!==null&&!ht?(nd(i,s,m),lr(i,s,m)):(ze&&d&&Pf(s),s.flags|=1,xt(i,s,c,m),s.child)}function fb(i,s,c,d,m,y){return zi(s),s.updateQueue=null,c=uy(s,d,c,m),cy(i),d=td(),i!==null&&!ht?(nd(i,s,y),lr(i,s,y)):(ze&&d&&Pf(s),s.flags|=1,xt(i,s,c,y),s.child)}function db(i,s,c,d,m){if(zi(s),s.stateNode===null){var y=Eo,C=c.contextType;typeof C=="object"&&C!==null&&(y=kt(C)),y=new c(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gd,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},Yf(s),C=c.contextType,y.context=typeof C=="object"&&C!==null?kt(C):Eo,y.state=s.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(md(s,c,C,d),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&gd.enqueueReplaceState(y,y.state,null),Ys(s,d,y,m),Gs(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var T=s.memoizedProps,B=Pi(c,T);y.props=B;var U=y.context,Y=c.contextType;C=Eo,typeof Y=="object"&&Y!==null&&(C=kt(Y));var X=c.getDerivedStateFromProps;Y=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||U!==C)&&Zy(s,y,d,C),Or=!1;var q=s.memoizedState;y.state=q,Ys(s,d,y,m),Gs(),U=s.memoizedState,T||q!==U||Or?(typeof X=="function"&&(md(s,c,X,d),U=s.memoizedState),(B=Or||Qy(s,c,B,d,q,U,C))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=U),y.props=d,y.state=U,y.context=C,d=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,Kf(i,s),C=s.memoizedProps,Y=Pi(c,C),y.props=Y,X=s.pendingProps,q=y.context,U=c.contextType,B=Eo,typeof U=="object"&&U!==null&&(B=kt(U)),T=c.getDerivedStateFromProps,(U=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==X||q!==B)&&Zy(s,y,d,B),Or=!1,q=s.memoizedState,y.state=q,Ys(s,d,y,m),Gs();var F=s.memoizedState;C!==X||q!==F||Or||i!==null&&i.dependencies!==null&&Da(i.dependencies)?(typeof T=="function"&&(md(s,c,T,d),F=s.memoizedState),(Y=Or||Qy(s,c,Y,d,q,F,B)||i!==null&&i.dependencies!==null&&Da(i.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,F,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,F,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=F),y.props=d,y.state=F,y.context=B,d=Y):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,Wa(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=Lo(s,i.child,null,m),s.child=Lo(s,null,c,m)):xt(i,s,c,m),s.memoizedState=y.state,i=s.child):i=lr(i,s,m),i}function hb(i,s,c,d){return js(),s.flags|=256,xt(i,s,c,d),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(i){return{baseLanes:i,cachePool:ey()}}function Sd(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=vn),i}function pb(i,s,c){var d=s.pendingProps,m=!1,y=(s.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),C&&(m=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(m?Rr(s):_r(),ze){var T=We,B;if(B=T){e:{for(B=T,T=Bn;B.nodeType!==8;){if(!T){T=null;break e}if(B=Nn(B.nextSibling),B===null){T=null;break e}}T=B}T!==null?(s.memoizedState={dehydrated:T,treeContext:Ai!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},B=Jt(18,null,null,0),B.stateNode=T,B.return=s,s.child=B,zt=s,We=null,B=!0):B=!1}B||Ri(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ih(T)?s.lanes=32:s.lanes=536870912,null;sr(s)}return T=d.children,d=d.fallback,m?(_r(),m=s.mode,T=Qa({mode:"hidden",children:T},m),d=Oi(d,m,c,null),T.return=s,d.return=s,T.sibling=d,s.child=T,m=s.child,m.memoizedState=xd(c),m.childLanes=Sd(i,C,c),s.memoizedState=vd,d):(Rr(s),wd(s,T))}if(B=i.memoizedState,B!==null&&(T=B.dehydrated,T!==null)){if(y)s.flags&256?(Rr(s),s.flags&=-257,s=Cd(i,s,c)):s.memoizedState!==null?(_r(),s.child=i.child,s.flags|=128,s=null):(_r(),m=d.fallback,T=s.mode,d=Qa({mode:"visible",children:d.children},T),m=Oi(m,T,c,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,Lo(s,i.child,null,c),d=s.child,d.memoizedState=xd(c),d.childLanes=Sd(i,C,c),s.memoizedState=vd,s=m);else if(Rr(s),ih(T)){if(C=T.nextSibling&&T.nextSibling.dataset,C)var U=C.dgst;C=U,d=Error(r(419)),d.stack="",d.digest=C,Hs({value:d,source:null,stack:null}),s=Cd(i,s,c)}else if(ht||Is(i,s,c,!1),C=(c&i.childLanes)!==0,ht||C){if(C=Fe,C!==null&&(d=c&-c,d=(d&42)!==0?1:of(d),d=(d&(C.suspendedLanes|c))!==0?0:d,d!==0&&d!==B.retryLane))throw B.retryLane=d,Mo(i,d),on(C,i,d),ob;T.data==="$?"||Ud(),s=Cd(i,s,c)}else T.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,We=Nn(T.nextSibling),zt=s,ze=!0,Di=null,Bn=!1,i!==null&&(gn[yn++]=tr,gn[yn++]=nr,gn[yn++]=Ai,tr=i.id,nr=i.overflow,Ai=s),s=wd(s,d.children),s.flags|=4096);return s}return m?(_r(),m=d.fallback,T=s.mode,B=i.child,U=B.sibling,d=er(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,U!==null?m=er(U,m):(m=Oi(m,T,c,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,T=i.child.memoizedState,T===null?T=xd(c):(B=T.cachePool,B!==null?(U=lt._currentValue,B=B.parent!==U?{parent:U,pool:U}:B):B=ey(),T={baseLanes:T.baseLanes|c,cachePool:B}),m.memoizedState=T,m.childLanes=Sd(i,C,c),s.memoizedState=vd,d):(Rr(s),c=i.child,i=c.sibling,c=er(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=c,s.memoizedState=null,c)}function wd(i,s){return s=Qa({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Qa(i,s){return i=Jt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cd(i,s,c){return Lo(s,i.child,null,c),i=wd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mb(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Uf(i.return,s,c)}function Md(i,s,c,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function gb(i,s,c){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(xt(i,s,d.children,c),d=at.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mb(i,c,s);else if(i.tag===19)mb(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(J(at,d),m){case"forwards":for(c=s.child,m=null;c!==null;)i=c.alternate,i!==null&&Ya(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Md(s,!1,m,c,y);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Ya(i)===null){s.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Md(s,!0,c,null,y);break;case"together":Md(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lr(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),jr|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(Is(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=er(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=er(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Ed(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Da(i)))}function DT(i,s,c){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),kr(s,lt,i.memoizedState.cache),js();break;case 27:case 5:Vt(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:kr(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Rr(s),s.flags|=128,null):(c&s.child.childLanes)!==0?pb(i,s,c):(Rr(s),i=lr(i,s,c),i!==null?i.sibling:null);Rr(s);break;case 19:var m=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Is(i,s,c,!1),d=(c&s.childLanes)!==0),m){if(d)return gb(i,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),J(at,at.current),d)break;return null;case 22:case 23:return s.lanes=0,cb(i,s,c);case 24:kr(s,lt,i.memoizedState.cache)}return lr(i,s,c)}function yb(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)ht=!0;else{if(!Ed(i,c)&&(s.flags&128)===0)return ht=!1,DT(i,s,c);ht=(i.flags&131072)!==0}else ht=!1,ze&&(s.flags&1048576)!==0&&Yg(s,Na,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,m=d._init;if(d=m(d._payload),s.type=d,typeof d=="function")zf(d)?(i=Pi(d,i),s.tag=1,s=db(null,s,d,i,c)):(s.tag=0,s=bd(null,s,d,i,c));else{if(d!=null){if(m=d.$$typeof,m===D){s.tag=11,s=sb(null,s,d,i,c);break e}else if(m===A){s.tag=14,s=lb(null,s,d,i,c);break e}}throw s=ye(d)||d,Error(r(306,s,""))}}return s;case 0:return bd(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,m=Pi(d,s.pendingProps),db(i,s,d,m,c);case 3:e:{if(Re(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var y=s.memoizedState;m=y.element,Kf(i,s),Ys(s,d,null,c);var C=s.memoizedState;if(d=C.cache,kr(s,lt,d),d!==y.cache&&Vf(s,[lt],c,!0),Gs(),d=C.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=hb(i,s,d,c);break e}else if(d!==m){m=pn(Error(r(424)),s),Hs(m),s=hb(i,s,d,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(We=Nn(i.firstChild),zt=s,ze=!0,Di=null,Bn=!0,c=Xy(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(js(),d===m){s=lr(i,s,c);break e}xt(i,s,d,c)}s=s.child}return s;case 26:return Wa(i,s),i===null?(c=Sv(s.type,null,s.pendingProps,null))?s.memoizedState=c:ze||(c=s.type,i=s.pendingProps,d=fc(he.current).createElement(c),d[Tt]=s,d[qt]=i,wt(d,c,i),dt(d),s.stateNode=d):s.memoizedState=Sv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Vt(s),i===null&&ze&&(d=s.stateNode=bv(s.type,s.pendingProps,he.current),zt=s,Bn=!0,m=We,Vr(s.type)?(oh=m,We=Nn(d.firstChild)):We=m),xt(i,s,s.pendingProps.children,c),Wa(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((m=d=We)&&(d=ok(d,s.type,s.pendingProps,Bn),d!==null?(s.stateNode=d,zt=s,We=Nn(d.firstChild),Bn=!1,m=!0):m=!1),m||Ri(s)),Vt(s),m=s.type,y=s.pendingProps,C=i!==null?i.memoizedProps:null,d=y.children,th(m,y)?d=null:C!==null&&th(m,C)&&(s.flags|=32),s.memoizedState!==null&&(m=ed(i,s,CT,null,null,c),ml._currentValue=m),Wa(i,s),xt(i,s,d,c),s.child;case 6:return i===null&&ze&&((i=c=We)&&(c=sk(c,s.pendingProps,Bn),c!==null?(s.stateNode=c,zt=s,We=null,i=!0):i=!1),i||Ri(s)),null;case 13:return pb(i,s,c);case 4:return Re(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Lo(s,null,d,c):xt(i,s,d,c),s.child;case 11:return sb(i,s,s.type,s.pendingProps,c);case 7:return xt(i,s,s.pendingProps,c),s.child;case 8:return xt(i,s,s.pendingProps.children,c),s.child;case 12:return xt(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,kr(s,s.type,d.value),xt(i,s,d.children,c),s.child;case 9:return m=s.type._context,d=s.pendingProps.children,zi(s),m=kt(m),d=d(m),s.flags|=1,xt(i,s,d,c),s.child;case 14:return lb(i,s,s.type,s.pendingProps,c);case 15:return ab(i,s,s.type,s.pendingProps,c);case 19:return gb(i,s,c);case 31:return d=s.pendingProps,c=s.mode,d={mode:d.mode,children:d.children},i===null?(c=Qa(d,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=er(i.child,d),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return cb(i,s,c);case 24:return zi(s),d=kt(lt),i===null?(m=$f(),m===null&&(m=Fe,y=qf(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),s.memoizedState={parent:d,cache:m},Yf(s),kr(s,lt,m)):((i.lanes&c)!==0&&(Kf(i,s),Ys(s,null,null,c),Gs()),m=i.memoizedState,y=s.memoizedState,m.parent!==d?(m={parent:d,cache:d},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),kr(s,lt,d)):(d=y.cache,kr(s,lt,d),d!==m.cache&&Vf(s,[lt],c,!0))),xt(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ar(i){i.flags|=4}function bb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Tv(s)){if(s=bn.current,s!==null&&((De&4194048)===De?Pn!==null:(De&62914560)!==De&&(De&536870912)===0||s!==Pn))throw Fs=Gf,ty;i.flags|=8192}}function Za(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wm():536870912,i.lanes|=s,Ho|=s)}function el(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ke(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function RT(i,s,c){var d=s.pendingProps;switch(jf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ir(lt),qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ps(s)?ar(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wg())),Ke(s),null;case 26:return c=s.memoizedState,i===null?(ar(s),c!==null?(Ke(s),bb(s,c)):(Ke(s),s.flags&=-16777217)):c?c!==i.memoizedState?(ar(s),Ke(s),bb(s,c)):(Ke(s),s.flags&=-16777217):(i.memoizedProps!==d&&ar(s),Ke(s),s.flags&=-16777217),null;case 27:Tn(s),c=he.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ar(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}i=ie.current,Ps(s)?Kg(s):(i=bv(m,d,c),s.stateNode=i,ar(s))}return Ke(s),null;case 5:if(Tn(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ar(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}if(i=ie.current,Ps(s))Kg(s);else{switch(m=fc(he.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}i[Tt]=s,i[qt]=d;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(wt(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ar(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&ar(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=he.current,Ps(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,m=zt,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}i[Tt]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||fv(i.nodeValue,c)),i||Ri(s)}else i=fc(i).createTextNode(d),i[Tt]=s,s.stateNode=i}return Ke(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ps(s),d!==null&&d.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Tt]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),m=!1}else m=Wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(sr(s),s):(sr(s),null)}if(sr(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),Za(s,s.updateQueue),Ke(s),null;case 4:return qe(),i===null&&Wd(s.stateNode.containerInfo),Ke(s),null;case 10:return ir(s.type),Ke(s),null;case 19:if(te(at),m=s.memoizedState,m===null)return Ke(s),null;if(d=(s.flags&128)!==0,y=m.rendering,y===null)if(d)el(m,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Ya(i),y!==null){for(s.flags|=128,el(m,!1),i=y.updateQueue,s.updateQueue=i,Za(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Gg(c,i),c=c.sibling;return J(at,at.current&1|2),s.child}i=i.sibling}m.tail!==null&&fn()>tc&&(s.flags|=128,d=!0,el(m,!1),s.lanes=4194304)}else{if(!d)if(i=Ya(y),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Za(s,i),el(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!ze)return Ke(s),null}else 2*fn()-m.renderingStartTime>tc&&c!==536870912&&(s.flags|=128,d=!0,el(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=fn(),s.sibling=null,i=at.current,J(at,d?i&1|2:i&1),s):(Ke(s),null);case 22:case 23:return sr(s),Zf(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),c=s.updateQueue,c!==null&&Za(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&te(Li),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ir(lt),Ke(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _T(i,s){switch(jf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ir(lt),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Tn(s),null;case 13:if(sr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));js()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(at),null;case 4:return qe(),null;case 10:return ir(s.type),null;case 22:case 23:return sr(s),Zf(),i!==null&&te(Li),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ir(lt),null;case 25:return null;default:return null}}function vb(i,s){switch(jf(s),s.tag){case 3:ir(lt),qe();break;case 26:case 27:case 5:Tn(s);break;case 4:qe();break;case 13:sr(s);break;case 19:te(at);break;case 10:ir(s.type);break;case 22:case 23:sr(s),Zf(),i!==null&&te(Li);break;case 24:ir(lt)}}function tl(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&i)===i){d=void 0;var y=c.create,C=c.inst;d=y(),C.destroy=d}c=c.next}while(c!==m)}}catch(T){Ue(s,s.return,T)}}function zr(i,s,c){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&i)===i){var C=d.inst,T=C.destroy;if(T!==void 0){C.destroy=void 0,m=s;var B=c,U=T;try{U()}catch(Y){Ue(m,B,Y)}}}d=d.next}while(d!==y)}}catch(Y){Ue(s,s.return,Y)}}function xb(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{ly(s,c)}catch(d){Ue(i,i.return,d)}}}function Sb(i,s,c){c.props=Pi(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Ue(i,s,d)}}function nl(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof c=="function"?i.refCleanup=c(d):c.current=d}}catch(m){Ue(i,s,m)}}function jn(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){Ue(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ue(i,s,m)}else c.current=null}function wb(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){Ue(i,i.return,m)}}function Td(i,s,c){try{var d=i.stateNode;ek(d,i.type,c,s),d[qt]=s}catch(m){Ue(i,i.return,m)}}function Cb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vr(i.type)||i.tag===4}function kd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Od(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=uc));else if(d!==4&&(d===27&&Vr(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Od(i,s,c),i=i.sibling;i!==null;)Od(i,s,c),i=i.sibling}function Ja(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&(d===27&&Vr(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Ja(i,s,c),i=i.sibling;i!==null;)Ja(i,s,c),i=i.sibling}function Mb(i){var s=i.stateNode,c=i.memoizedProps;try{for(var d=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);wt(s,d,c),s[Tt]=i,s[qt]=c}catch(y){Ue(i,i.return,y)}}var cr=!1,tt=!1,Ad=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,pt=null;function zT(i,s){if(i=i.containerInfo,Jd=yc,i=Bg(i),kf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var C=0,T=-1,B=-1,U=0,Y=0,X=i,q=null;t:for(;;){for(var F;X!==c||m!==0&&X.nodeType!==3||(T=C+m),X!==y||d!==0&&X.nodeType!==3||(B=C+d),X.nodeType===3&&(C+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===i)break t;if(q===c&&++U===m&&(T=C),q===y&&++Y===d&&(B=C),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}c=T===-1||B===-1?null:{start:T,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(eh={focusedElem:i,selectionRange:c},yc=!1,pt=s;pt!==null;)if(s=pt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,pt=i;else for(;pt!==null;){switch(s=pt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=s,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var be=Pi(c.type,m,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(be,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(me){Ue(c,c.return,me)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)rh(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pt=i;break}pt=s.return}}function Tb(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Lr(i,c),d&4&&tl(5,c);break;case 1:if(Lr(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(C){Ue(c,c.return,C)}else{var m=Pi(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Ue(c,c.return,C)}}d&64&&xb(c),d&512&&nl(c,c.return);break;case 3:if(Lr(i,c),d&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ly(i,s)}catch(C){Ue(c,c.return,C)}}break;case 27:s===null&&d&4&&Mb(c);case 26:case 5:Lr(i,c),s===null&&d&4&&wb(c),d&512&&nl(c,c.return);break;case 12:Lr(i,c);break;case 13:Lr(i,c),d&4&&Ab(i,c),d&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=qT.bind(null,c),lk(i,c))));break;case 22:if(d=c.memoizedState!==null||cr,!d){s=s!==null&&s.memoizedState!==null||tt,m=cr;var y=tt;cr=d,(tt=s)&&!y?Br(i,c,(c.subtreeFlags&8772)!==0):Lr(i,c),cr=m,tt=y}break;case 30:break;default:Lr(i,c)}}function kb(i){var s=i.alternate;s!==null&&(i.alternate=null,kb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&af(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Gt=!1;function ur(i,s,c){for(c=c.child;c!==null;)Ob(i,s,c),c=c.sibling}function Ob(i,s,c){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Cs,c)}catch{}switch(c.tag){case 26:tt||jn(c,s),ur(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tt||jn(c,s);var d=Ge,m=Gt;Vr(c.type)&&(Ge=c.stateNode,Gt=!1),ur(i,s,c),fl(c.stateNode),Ge=d,Gt=m;break;case 5:tt||jn(c,s);case 6:if(d=Ge,m=Gt,Ge=null,ur(i,s,c),Ge=d,Gt=m,Ge!==null)if(Gt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(c.stateNode)}catch(y){Ue(c,s,y)}else try{Ge.removeChild(c.stateNode)}catch(y){Ue(c,s,y)}break;case 18:Ge!==null&&(Gt?(i=Ge,gv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),vl(i)):gv(Ge,c.stateNode));break;case 4:d=Ge,m=Gt,Ge=c.stateNode.containerInfo,Gt=!0,ur(i,s,c),Ge=d,Gt=m;break;case 0:case 11:case 14:case 15:tt||zr(2,c,s),tt||zr(4,c,s),ur(i,s,c);break;case 1:tt||(jn(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Sb(c,s,d)),ur(i,s,c);break;case 21:ur(i,s,c);break;case 22:tt=(d=tt)||c.memoizedState!==null,ur(i,s,c),tt=d;break;default:ur(i,s,c)}}function Ab(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vl(i)}catch(c){Ue(s,s.return,c)}}function LT(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Eb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Eb),s;default:throw Error(r(435,i.tag))}}function Nd(i,s){var c=LT(i);s.forEach(function(d){var m=FT.bind(null,i,d);c.has(d)||(c.add(d),d.then(m,m))})}function en(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=i,C=s,T=C;e:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){Ge=T.stateNode,Gt=!1;break e}break;case 5:Ge=T.stateNode,Gt=!1;break e;case 3:case 4:Ge=T.stateNode.containerInfo,Gt=!0;break e}T=T.return}if(Ge===null)throw Error(r(160));Ob(y,C,m),Ge=null,Gt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Nb(s,i),s=s.sibling}var An=null;function Nb(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:en(s,i),tn(i),d&4&&(zr(3,i,i.return),tl(3,i),zr(5,i,i.return));break;case 1:en(s,i),tn(i),d&512&&(tt||c===null||jn(c,c.return)),d&64&&cr&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=An;if(en(s,i),tn(i),d&512&&(tt||c===null||jn(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ts]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),wt(y,d,c),y[Tt]=i,dt(y),d=y;break e;case"link":var C=Mv("link","href",m).get(d+(c.href||""));if(C){for(var T=0;T<C.length;T++)if(y=C[T],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(T,1);break t}}y=m.createElement(d),wt(y,d,c),m.head.appendChild(y);break;case"meta":if(C=Mv("meta","content",m).get(d+(c.content||""))){for(T=0;T<C.length;T++)if(y=C[T],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(T,1);break t}}y=m.createElement(d),wt(y,d,c),m.head.appendChild(y);break;default:throw Error(r(468,d))}y[Tt]=i,dt(y),d=y}i.stateNode=d}else Ev(m,i.type,i.stateNode);else i.stateNode=Cv(m,d,i.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?Ev(m,i.type,i.stateNode):Cv(m,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Td(i,i.memoizedProps,c.memoizedProps)}break;case 27:en(s,i),tn(i),d&512&&(tt||c===null||jn(c,c.return)),c!==null&&d&4&&Td(i,i.memoizedProps,c.memoizedProps);break;case 5:if(en(s,i),tn(i),d&512&&(tt||c===null||jn(c,c.return)),i.flags&32){m=i.stateNode;try{yo(m,"")}catch(F){Ue(i,i.return,F)}}d&4&&i.stateNode!=null&&(m=i.memoizedProps,Td(i,m,c!==null?c.memoizedProps:m)),d&1024&&(Ad=!0);break;case 6:if(en(s,i),tn(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(F){Ue(i,i.return,F)}}break;case 3:if(pc=null,m=An,An=dc(s.containerInfo),en(s,i),An=m,tn(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{vl(s.containerInfo)}catch(F){Ue(i,i.return,F)}Ad&&(Ad=!1,Db(i));break;case 4:d=An,An=dc(i.stateNode.containerInfo),en(s,i),tn(i),An=d;break;case 12:en(s,i),tn(i);break;case 13:en(s,i),tn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Bd=fn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Nd(i,d)));break;case 22:m=i.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,U=cr,Y=tt;if(cr=U||m,tt=Y||B,en(s,i),tt=Y,cr=U,tn(i),d&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||B||cr||tt||ji(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){B=c=s;try{if(y=B.stateNode,m)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{T=B.stateNode;var X=B.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){Ue(B,B.return,F)}}}else if(s.tag===6){if(c===null){B=s;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(F){Ue(B,B.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Nd(i,c))));break;case 19:en(s,i),tn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Nd(i,d)));break;case 30:break;case 21:break;default:en(s,i),tn(i)}}function tn(i){var s=i.flags;if(s&2){try{for(var c,d=i.return;d!==null;){if(Cb(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,y=kd(i);Ja(i,y,m);break;case 5:var C=c.stateNode;c.flags&32&&(yo(C,""),c.flags&=-33);var T=kd(i);Ja(i,T,C);break;case 3:case 4:var B=c.stateNode.containerInfo,U=kd(i);Od(i,U,B);break;default:throw Error(r(161))}}catch(Y){Ue(i,i.return,Y)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Db(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Db(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Lr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tb(i,s.alternate,s),s=s.sibling}function ji(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:zr(4,s,s.return),ji(s);break;case 1:jn(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Sb(s,s.return,c),ji(s);break;case 27:fl(s.stateNode);case 26:case 5:jn(s,s.return),ji(s);break;case 22:s.memoizedState===null&&ji(s);break;case 30:ji(s);break;default:ji(s)}i=i.sibling}}function Br(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,m=i,y=s,C=y.flags;switch(y.tag){case 0:case 11:case 15:Br(m,y,c),tl(4,y);break;case 1:if(Br(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){Ue(d,d.return,U)}if(d=y,m=d.updateQueue,m!==null){var T=d.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)sy(B[m],T)}catch(U){Ue(d,d.return,U)}}c&&C&64&&xb(y),nl(y,y.return);break;case 27:Mb(y);case 26:case 5:Br(m,y,c),c&&d===null&&C&4&&wb(y),nl(y,y.return);break;case 12:Br(m,y,c);break;case 13:Br(m,y,c),c&&C&4&&Ab(m,y);break;case 22:y.memoizedState===null&&Br(m,y,c),nl(y,y.return);break;case 30:break;default:Br(m,y,c)}s=s.sibling}}function Dd(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Us(c))}function Rd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Us(i))}function Hn(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rb(i,s,c,d),s=s.sibling}function Rb(i,s,c,d){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Hn(i,s,c,d),m&2048&&tl(9,s);break;case 1:Hn(i,s,c,d);break;case 3:Hn(i,s,c,d),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Us(i)));break;case 12:if(m&2048){Hn(i,s,c,d),i=s.stateNode;try{var y=s.memoizedProps,C=y.id,T=y.onPostCommit;typeof T=="function"&&T(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Ue(s,s.return,B)}}else Hn(i,s,c,d);break;case 13:Hn(i,s,c,d);break;case 23:break;case 22:y=s.stateNode,C=s.alternate,s.memoizedState!==null?y._visibility&2?Hn(i,s,c,d):rl(i,s):y._visibility&2?Hn(i,s,c,d):(y._visibility|=2,Bo(i,s,c,d,(s.subtreeFlags&10256)!==0)),m&2048&&Dd(C,s);break;case 24:Hn(i,s,c,d),m&2048&&Rd(s.alternate,s);break;default:Hn(i,s,c,d)}}function Bo(i,s,c,d,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,C=s,T=c,B=d,U=C.flags;switch(C.tag){case 0:case 11:case 15:Bo(y,C,T,B,m),tl(8,C);break;case 23:break;case 22:var Y=C.stateNode;C.memoizedState!==null?Y._visibility&2?Bo(y,C,T,B,m):rl(y,C):(Y._visibility|=2,Bo(y,C,T,B,m)),m&&U&2048&&Dd(C.alternate,C);break;case 24:Bo(y,C,T,B,m),m&&U&2048&&Rd(C.alternate,C);break;default:Bo(y,C,T,B,m)}s=s.sibling}}function rl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,m=d.flags;switch(d.tag){case 22:rl(c,d),m&2048&&Dd(d.alternate,d);break;case 24:rl(c,d),m&2048&&Rd(d.alternate,d);break;default:rl(c,d)}s=s.sibling}}var il=8192;function Po(i){if(i.subtreeFlags&il)for(i=i.child;i!==null;)_b(i),i=i.sibling}function _b(i){switch(i.tag){case 26:Po(i),i.flags&il&&i.memoizedState!==null&&xk(An,i.memoizedState,i.memoizedProps);break;case 5:Po(i);break;case 3:case 4:var s=An;An=dc(i.stateNode.containerInfo),Po(i),An=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=il,il=16777216,Po(i),il=s):Po(i));break;default:Po(i)}}function zb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ol(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];pt=d,Bb(d,i)}zb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lb(i),i=i.sibling}function Lb(i){switch(i.tag){case 0:case 11:case 15:ol(i),i.flags&2048&&zr(9,i,i.return);break;case 3:ol(i);break;case 12:ol(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ec(i)):ol(i);break;default:ol(i)}}function ec(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];pt=d,Bb(d,i)}zb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:zr(8,s,s.return),ec(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,ec(s));break;default:ec(s)}i=i.sibling}}function Bb(i,s){for(;pt!==null;){var c=pt;switch(c.tag){case 0:case 11:case 15:zr(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Us(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,pt=d;else e:for(c=i;pt!==null;){d=pt;var m=d.sibling,y=d.return;if(kb(d),d===c){pt=null;break e}if(m!==null){m.return=y,pt=m;break e}pt=y}}}var BT={getCacheForType:function(i){var s=kt(lt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},PT=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,Ae=null,De=0,Be=0,nn=null,Pr=!1,jo=!1,_d=!1,fr=0,Qe=0,jr=0,Hi=0,zd=0,vn=0,Ho=0,sl=null,Yt=null,Ld=!1,Bd=0,tc=1/0,nc=null,Hr=null,St=0,Ir=null,Io=null,Uo=0,Pd=0,jd=null,Pb=null,ll=0,Hd=null;function rn(){if((Le&2)!==0&&De!==0)return De&-De;if(H.T!==null){var i=Oo;return i!==0?i:Gd()}return Jm()}function jb(){vn===0&&(vn=(De&536870912)===0||ze?Xm():536870912);var i=bn.current;return i!==null&&(i.flags|=32),vn}function on(i,s,c){(i===Fe&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),Ur(i,De,vn,!1)),Es(i,c),((Le&2)===0||i!==Fe)&&(i===Fe&&((Le&2)===0&&(Hi|=c),Qe===4&&Ur(i,De,vn,!1)),In(i))}function Hb(i,s,c){if((Le&6)!==0)throw Error(r(327));var d=!c&&(s&124)===0&&(s&i.expiredLanes)===0||Ms(i,s),m=d?IT(i,s):Vd(i,s,!0),y=d;do{if(m===0){jo&&!d&&Ur(i,s,0,!1);break}else{if(c=i.current.alternate,y&&!jT(c)){m=Vd(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var T=i;m=sl;var B=T.current.memoizedState.isDehydrated;if(B&&(Vo(T,C).flags|=256),C=Vd(T,C,!1),C!==2){if(_d&&!B){T.errorRecoveryDisabledLanes|=y,Hi|=y,m=4;break e}y=Yt,Yt=m,y!==null&&(Yt===null?Yt=y:Yt.push.apply(Yt,y))}m=C}if(y=!1,m!==2)continue}}if(m===1){Vo(i,0),Ur(i,s,0,!0);break}e:{switch(d=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ur(d,s,vn,!Pr);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Bd+300-fn(),10<m)){if(Ur(d,s,vn,!Pr),ha(d,0,!0)!==0)break e;d.timeoutHandle=pv(Ib.bind(null,d,c,Yt,nc,Ld,s,vn,Hi,Ho,Pr,y,2,-0,0),m);break e}Ib(d,c,Yt,nc,Ld,s,vn,Hi,Ho,Pr,y,0,-0,0)}}break}while(!0);In(i)}function Ib(i,s,c,d,m,y,C,T,B,U,Y,X,q,F){if(i.timeoutHandle=-1,X=s.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:vk},_b(s),X=Sk(),X!==null)){i.cancelPendingCommit=X(Yb.bind(null,i,s,y,c,d,m,C,T,B,Y,1,q,F)),Ur(i,y,C,!U);return}Yb(i,s,y,c,d,m,C,T,B)}function jT(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!Zt(y(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ur(i,s,c,d){s&=~zd,s&=~Hi,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var m=s;0<m;){var y=31-Qt(m),C=1<<y;d[y]=-1,m&=~C}c!==0&&Qm(i,c,s)}function rc(){return(Le&6)===0?(al(0),!1):!0}function Id(){if(Ae!==null){if(Be===0)var i=Ae.return;else i=Ae,rr=_i=null,rd(i),zo=null,Zs=0,i=Ae;for(;i!==null;)vb(i.alternate,i),i=i.return;Ae=null}}function Vo(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,nk(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Id(),Fe=i,Ae=c=er(i.current,null),De=s,Be=0,nn=null,Pr=!1,jo=Ms(i,s),_d=!1,Ho=vn=zd=Hi=jr=Qe=0,Yt=sl=null,Ld=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var m=31-Qt(d),y=1<<m;s|=i[m],d&=~y}return fr=s,Ea(),c}function Ub(i,s){Ee=null,H.H=Fa,s===qs||s===za?(s=iy(),Be=3):s===ty?(s=iy(),Be=4):Be=s===ob?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nn=s,Ae===null&&(Qe=1,Xa(i,pn(s,i.current)))}function Vb(){var i=H.H;return H.H=Fa,i===null?Fa:i}function qb(){var i=H.A;return H.A=BT,i}function Ud(){Qe=4,Pr||(De&4194048)!==De&&bn.current!==null||(jo=!0),(jr&134217727)===0&&(Hi&134217727)===0||Fe===null||Ur(Fe,De,vn,!1)}function Vd(i,s,c){var d=Le;Le|=2;var m=Vb(),y=qb();(Fe!==i||De!==s)&&(nc=null,Vo(i,s)),s=!1;var C=Qe;e:do try{if(Be!==0&&Ae!==null){var T=Ae,B=nn;switch(Be){case 8:Id(),C=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(s=!0);var U=Be;if(Be=0,nn=null,qo(i,T,B,U),c&&jo){C=0;break e}break;default:U=Be,Be=0,nn=null,qo(i,T,B,U)}}HT(),C=Qe;break}catch(Y){Ub(i,Y)}while(!0);return s&&i.shellSuspendCounter++,rr=_i=null,Le=d,H.H=m,H.A=y,Ae===null&&(Fe=null,De=0,Ea()),C}function HT(){for(;Ae!==null;)Fb(Ae)}function IT(i,s){var c=Le;Le|=2;var d=Vb(),m=qb();Fe!==i||De!==s?(nc=null,tc=fn()+500,Vo(i,s)):jo=Ms(i,s);e:do try{if(Be!==0&&Ae!==null){s=Ae;var y=nn;t:switch(Be){case 1:Be=0,nn=null,qo(i,s,y,1);break;case 2:case 9:if(ny(y)){Be=0,nn=null,$b(s);break}s=function(){Be!==2&&Be!==9||Fe!==i||(Be=7),In(i)},y.then(s,s);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:ny(y)?(Be=0,nn=null,$b(s)):(Be=0,nn=null,qo(i,s,y,7));break;case 5:var C=null;switch(Ae.tag){case 26:C=Ae.memoizedState;case 5:case 27:var T=Ae;if(!C||Tv(C)){Be=0,nn=null;var B=T.sibling;if(B!==null)Ae=B;else{var U=T.return;U!==null?(Ae=U,ic(U)):Ae=null}break t}}Be=0,nn=null,qo(i,s,y,5);break;case 6:Be=0,nn=null,qo(i,s,y,6);break;case 8:Id(),Qe=6;break e;default:throw Error(r(462))}}UT();break}catch(Y){Ub(i,Y)}while(!0);return rr=_i=null,H.H=d,H.A=m,Le=c,Ae!==null?0:(Fe=null,De=0,Ea(),Qe)}function UT(){for(;Ae!==null&&!ef();)Fb(Ae)}function Fb(i){var s=yb(i.alternate,i,fr);i.memoizedProps=i.pendingProps,s===null?ic(i):Ae=s}function $b(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=fb(c,s,s.pendingProps,s.type,void 0,De);break;case 11:s=fb(c,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:rd(s);default:vb(c,s),s=Ae=Gg(s,fr),s=yb(c,s,fr)}i.memoizedProps=i.pendingProps,s===null?ic(i):Ae=s}function qo(i,s,c,d){rr=_i=null,rd(s),zo=null,Zs=0;var m=s.return;try{if(NT(i,m,s,c,De)){Qe=1,Xa(i,pn(c,i.current)),Ae=null;return}}catch(y){if(m!==null)throw Ae=m,y;Qe=1,Xa(i,pn(c,i.current)),Ae=null;return}s.flags&32768?(ze||d===1?i=!0:jo||(De&536870912)!==0?i=!1:(Pr=i=!0,(d===2||d===9||d===3||d===6)&&(d=bn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Gb(s,i)):ic(s)}function ic(i){var s=i;do{if((s.flags&32768)!==0){Gb(s,Pr);return}i=s.return;var c=RT(s.alternate,s,fr);if(c!==null){Ae=c;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=i}while(s!==null);Qe===0&&(Qe=5)}function Gb(i,s){do{var c=_T(i.alternate,i);if(c!==null){c.flags&=32767,Ae=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Ae=i;return}Ae=i=c}while(i!==null);Qe=6,Ae=null}function Yb(i,s,c,d,m,y,C,T,B){i.cancelPendingCommit=null;do oc();while(St!==0);if((Le&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Rf,vE(i,c,y,C,T,B),i===Fe&&(Ae=Fe=null,De=0),Io=s,Ir=i,Uo=c,Pd=y,jd=m,Pb=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$T(ua,function(){return Zb(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,m=W.p,W.p=2,C=Le,Le|=4;try{zT(i,s,c)}finally{Le=C,W.p=m,H.T=d}}St=1,Kb(),Xb(),Wb()}}function Kb(){if(St===1){St=0;var i=Ir,s=Io,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var d=W.p;W.p=2;var m=Le;Le|=4;try{Nb(s,i);var y=eh,C=Bg(i.containerInfo),T=y.focusedElem,B=y.selectionRange;if(C!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(B!==null&&kf(T)){var U=B.start,Y=B.end;if(Y===void 0&&(Y=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),be=T.textContent.length,me=Math.min(B.start,be),Ie=B.end===void 0?me:Math.min(B.end,be);!F.extend&&me>Ie&&(C=Ie,Ie=me,me=C);var j=zg(T,me),P=zg(T,Ie);if(j&&P&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var I=X.createRange();I.setStart(j.node,j.offset),F.removeAllRanges(),me>Ie?(F.addRange(I),F.extend(P.node,P.offset)):(I.setEnd(P.node,P.offset),F.addRange(I))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!Jd,eh=Jd=null}finally{Le=m,W.p=d,H.T=c}}i.current=s,St=2}}function Xb(){if(St===2){St=0;var i=Ir,s=Io,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var d=W.p;W.p=2;var m=Le;Le|=4;try{Tb(i,s.alternate,s)}finally{Le=m,W.p=d,H.T=c}}St=3}}function Wb(){if(St===4||St===3){St=0,tf();var i=Ir,s=Io,c=Uo,d=Pb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?St=5:(St=0,Io=Ir=null,Qb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Hr=null),sf(c),s=s.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Cs,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=H.T,m=W.p,W.p=2,H.T=null;try{for(var y=i.onRecoverableError,C=0;C<d.length;C++){var T=d[C];y(T.value,{componentStack:T.stack})}}finally{H.T=s,W.p=m}}(Uo&3)!==0&&oc(),In(i),m=i.pendingLanes,(c&4194090)!==0&&(m&42)!==0?i===Hd?ll++:(ll=0,Hd=i):ll=0,al(0)}}function Qb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Us(s)))}function oc(i){return Kb(),Xb(),Wb(),Zb()}function Zb(){if(St!==5)return!1;var i=Ir,s=Pd;Pd=0;var c=sf(Uo),d=H.T,m=W.p;try{W.p=32>c?32:c,H.T=null,c=jd,jd=null;var y=Ir,C=Uo;if(St=0,Io=Ir=null,Uo=0,(Le&6)!==0)throw Error(r(331));var T=Le;if(Le|=4,Lb(y.current),Rb(y,y.current,C,c),Le=T,al(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Cs,y)}catch{}return!0}finally{W.p=m,H.T=d,Qb(i,s)}}function Jb(i,s,c){s=pn(c,s),s=yd(i.stateNode,s,2),i=Nr(i,s,2),i!==null&&(Es(i,2),In(i))}function Ue(i,s,c){if(i.tag===3)Jb(i,i,c);else for(;s!==null;){if(s.tag===3){Jb(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))){i=pn(c,i),c=rb(2),d=Nr(s,c,2),d!==null&&(ib(c,d,s,i),Es(d,2),In(d));break}}s=s.return}}function qd(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new PT;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(c)||(_d=!0,m.add(c),i=VT.bind(null,i,s,c),s.then(i,i))}function VT(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Fe===i&&(De&c)===c&&(Qe===4||Qe===3&&(De&62914560)===De&&300>fn()-Bd?(Le&2)===0&&Vo(i,0):zd|=c,Ho===De&&(Ho=0)),In(i)}function ev(i,s){s===0&&(s=Wm()),i=Mo(i,s),i!==null&&(Es(i,s),In(i))}function qT(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),ev(i,c)}function FT(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),ev(i,c)}function $T(i,s){return Qn(i,s)}var sc=null,Fo=null,Fd=!1,lc=!1,$d=!1,Ii=0;function In(i){i!==Fo&&i.next===null&&(Fo===null?sc=Fo=i:Fo=Fo.next=i),lc=!0,Fd||(Fd=!0,YT())}function al(i,s){if(!$d&&lc){$d=!0;do for(var c=!1,d=sc;d!==null;){if(i!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var C=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-Qt(42|i)+1)-1,y&=m&~(C&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,iv(d,y))}else y=De,y=ha(d,d===Fe?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ms(d,y)||(c=!0,iv(d,y));d=d.next}while(c);$d=!1}}function GT(){tv()}function tv(){lc=Fd=!1;var i=0;Ii!==0&&(tk()&&(i=Ii),Ii=0);for(var s=fn(),c=null,d=sc;d!==null;){var m=d.next,y=nv(d,s);y===0?(d.next=null,c===null?sc=m:c.next=m,m===null&&(Fo=c)):(c=d,(i!==0||(y&3)!==0)&&(lc=!0)),d=m}al(i)}function nv(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-Qt(y),T=1<<C,B=m[C];B===-1?((T&c)===0||(T&d)!==0)&&(m[C]=bE(T,s)):B<=s&&(i.expiredLanes|=T),y&=~T}if(s=Fe,c=De,c=ha(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,c===0||i===s&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&ao(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ms(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&ao(d),sf(c)){case 2:case 8:c=Ym;break;case 32:c=ua;break;case 268435456:c=Km;break;default:c=ua}return d=rv.bind(null,i),c=Qn(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&ao(d),i.callbackPriority=2,i.callbackNode=null,2}function rv(i,s){if(St!==0&&St!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(oc()&&i.callbackNode!==c)return null;var d=De;return d=ha(i,i===Fe?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(Hb(i,d,s),nv(i,fn()),i.callbackNode!=null&&i.callbackNode===c?rv.bind(null,i):null)}function iv(i,s){if(oc())return null;Hb(i,s,!0)}function YT(){rk(function(){(Le&6)!==0?Qn(wi,GT):tv()})}function Gd(){return Ii===0&&(Ii=Xm()),Ii}function ov(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ba(""+i)}function sv(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function KT(i,s,c,d,m){if(s==="submit"&&c&&c.stateNode===m){var y=ov((m[qt]||null).action),C=d.submitter;C&&(s=(s=C[qt]||null)?ov(s.formAction):C.getAttribute("formAction"),s!==null&&(y=s,C=null));var T=new wa("action","action",null,d,m);i.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ii!==0){var B=C?sv(m,C):new FormData(m);dd(c,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(T.preventDefault(),B=C?sv(m,C):new FormData(m),dd(c,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var Yd=0;Yd<Df.length;Yd++){var Kd=Df[Yd],XT=Kd.toLowerCase(),WT=Kd[0].toUpperCase()+Kd.slice(1);On(XT,"on"+WT)}On(Hg,"onAnimationEnd"),On(Ig,"onAnimationIteration"),On(Ug,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(hT,"onTransitionRun"),On(pT,"onTransitionStart"),On(mT,"onTransitionCancel"),On(Vg,"onTransitionEnd"),po("onMouseEnter",["mouseout","mouseover"]),po("onMouseLeave",["mouseout","mouseover"]),po("onPointerEnter",["pointerout","pointerover"]),po("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function lv(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var C=d.length-1;0<=C;C--){var T=d[C],B=T.instance,U=T.currentTarget;if(T=T.listener,B!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=U;try{y(m)}catch(Y){Ka(Y)}m.currentTarget=null,y=B}else for(C=0;C<d.length;C++){if(T=d[C],B=T.instance,U=T.currentTarget,T=T.listener,B!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=U;try{y(m)}catch(Y){Ka(Y)}m.currentTarget=null,y=B}}}}function Ne(i,s){var c=s[lf];c===void 0&&(c=s[lf]=new Set);var d=i+"__bubble";c.has(d)||(av(s,i,2,!1),c.add(d))}function Xd(i,s,c){var d=0;s&&(d|=4),av(c,i,d,s)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Wd(i){if(!i[ac]){i[ac]=!0,tg.forEach(function(c){c!=="selectionchange"&&(QT.has(c)||Xd(c,!1,i),Xd(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ac]||(s[ac]=!0,Xd("selectionchange",!1,s))}}function av(i,s,c,d){switch(Rv(s)){case 2:var m=Mk;break;case 8:m=Ek;break;default:m=uh}c=m.bind(null,s,c,i),m=void 0,!bf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(s,c,{capture:!0,passive:m}):i.addEventListener(s,c,!0):m!==void 0?i.addEventListener(s,c,{passive:m}):i.addEventListener(s,c,!1)}function Qd(i,s,c,d,m){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var T=d.stateNode.containerInfo;if(T===m)break;if(C===4)for(C=d.return;C!==null;){var B=C.tag;if((B===3||B===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;T!==null;){if(C=uo(T),C===null)return;if(B=C.tag,B===5||B===6||B===26||B===27){d=y=C;continue e}T=T.parentNode}}d=d.return}mg(function(){var U=y,Y=gf(c),X=[];e:{var q=qg.get(i);if(q!==void 0){var F=wa,be=i;switch(i){case"keypress":if(xa(c)===0)break e;case"keydown":case"keyup":F=$E;break;case"focusin":be="focus",F=wf;break;case"focusout":be="blur",F=wf;break;case"beforeblur":case"afterblur":F=wf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=KE;break;case Hg:case Ig:case Ug:F=BE;break;case Vg:F=WE;break;case"scroll":case"scrollend":F=DE;break;case"wheel":F=ZE;break;case"copy":case"cut":case"paste":F=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=xg;break;case"toggle":case"beforetoggle":F=eT}var me=(s&4)!==0,Ie=!me&&(i==="scroll"||i==="scrollend"),j=me?q!==null?q+"Capture":null:q;me=[];for(var P=U,I;P!==null;){var K=P;if(I=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||I===null||j===null||(K=Os(P,j),K!=null&&me.push(ul(P,K,I))),Ie)break;P=P.return}0<me.length&&(q=new F(q,be,null,c,Y),X.push({event:q,listeners:me}))}}if((s&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",F=i==="mouseout"||i==="pointerout",q&&c!==mf&&(be=c.relatedTarget||c.fromElement)&&(uo(be)||be[co]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(be=c.relatedTarget||c.toElement,F=U,be=be?uo(be):null,be!==null&&(Ie=l(be),me=be.tag,be!==Ie||me!==5&&me!==27&&me!==6)&&(be=null)):(F=null,be=U),F!==be)){if(me=bg,K="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(me=xg,K="onPointerLeave",j="onPointerEnter",P="pointer"),Ie=F==null?q:ks(F),I=be==null?q:ks(be),q=new me(K,P+"leave",F,c,Y),q.target=Ie,q.relatedTarget=I,K=null,uo(Y)===U&&(me=new me(j,P+"enter",be,c,Y),me.target=I,me.relatedTarget=Ie,K=me),Ie=K,F&&be)t:{for(me=F,j=be,P=0,I=me;I;I=$o(I))P++;for(I=0,K=j;K;K=$o(K))I++;for(;0<P-I;)me=$o(me),P--;for(;0<I-P;)j=$o(j),I--;for(;P--;){if(me===j||j!==null&&me===j.alternate)break t;me=$o(me),j=$o(j)}me=null}else me=null;F!==null&&cv(X,q,F,me,!1),be!==null&&Ie!==null&&cv(X,Ie,be,me,!0)}}e:{if(q=U?ks(U):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var se=Og;else if(Tg(q))if(Ag)se=uT;else{se=aT;var ke=lT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&pf(U.elementType)&&(se=Og):se=cT;if(se&&(se=se(i,U))){kg(X,se,c,Y);break e}ke&&ke(i,q,U),i==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&hf(q,"number",q.value)}switch(ke=U?ks(U):window,i){case"focusin":(Tg(ke)||ke.contentEditable==="true")&&(So=ke,Of=U,Bs=null);break;case"focusout":Bs=Of=So=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Pg(X,c,Y);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Pg(X,c,Y)}var ue;if(Mf)e:{switch(i){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else xo?Mg(i,c)&&(ge="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ge="onCompositionStart");ge&&(Sg&&c.locale!=="ko"&&(xo||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&xo&&(ue=gg()):(Tr=Y,vf="value"in Tr?Tr.value:Tr.textContent,xo=!0)),ke=cc(U,ge),0<ke.length&&(ge=new vg(ge,i,null,c,Y),X.push({event:ge,listeners:ke}),ue?ge.data=ue:(ue=Eg(c),ue!==null&&(ge.data=ue)))),(ue=nT?rT(i,c):iT(i,c))&&(ge=cc(U,"onBeforeInput"),0<ge.length&&(ke=new vg("onBeforeInput","beforeinput",null,c,Y),X.push({event:ke,listeners:ge}),ke.data=ue)),KT(X,i,U,c,Y)}lv(X,s)})}function ul(i,s,c){return{instance:i,listener:s,currentTarget:c}}function cc(i,s){for(var c=s+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Os(i,c),m!=null&&d.unshift(ul(i,m,y)),m=Os(i,s),m!=null&&d.push(ul(i,m,y))),i.tag===3)return d;i=i.return}return[]}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cv(i,s,c,d,m){for(var y=s._reactName,C=[];c!==null&&c!==d;){var T=c,B=T.alternate,U=T.stateNode;if(T=T.tag,B!==null&&B===d)break;T!==5&&T!==26&&T!==27||U===null||(B=U,m?(U=Os(c,y),U!=null&&C.unshift(ul(c,U,B))):m||(U=Os(c,y),U!=null&&C.push(ul(c,U,B)))),c=c.return}C.length!==0&&i.push({event:s,listeners:C})}var ZT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function uv(i){return(typeof i=="string"?i:""+i).replace(ZT,`
`).replace(JT,"")}function fv(i,s){return s=uv(s),uv(i)===s}function uc(){}function He(i,s,c,d,m,y){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||yo(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&yo(i,""+d);break;case"className":ma(i,"class",d);break;case"tabIndex":ma(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(i,c,d);break;case"style":hg(i,d,y);break;case"data":if(s!=="object"){ma(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=ba(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&He(i,s,"name",m.name,m,null),He(i,s,"formEncType",m.formEncType,m,null),He(i,s,"formMethod",m.formMethod,m,null),He(i,s,"formTarget",m.formTarget,m,null)):(He(i,s,"encType",m.encType,m,null),He(i,s,"method",m.method,m,null),He(i,s,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=ba(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=uc);break;case"onScroll":d!=null&&Ne("scroll",i);break;case"onScrollEnd":d!=null&&Ne("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=ba(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":Ne("beforetoggle",i),Ne("toggle",i),pa(i,"popover",d);break;case"xlinkActuate":Zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Zn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Zn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Zn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Zn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":pa(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=AE.get(c)||c,pa(i,c,d))}}function Zd(i,s,c,d,m,y){switch(c){case"style":hg(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?yo(i,d):(typeof d=="number"||typeof d=="bigint")&&yo(i,""+d);break;case"onScroll":d!=null&&Ne("scroll",i);break;case"onScrollEnd":d!=null&&Ne("scrollend",i);break;case"onClick":d!=null&&(i.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ng.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),y=i[qt]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,m);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):pa(i,c,d)}}}function wt(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",i),Ne("load",i);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var C=c[y];if(C!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,y,C,c,null)}}m&&He(i,s,"srcSet",c.srcSet,c,null),d&&He(i,s,"src",c.src,c,null);return;case"input":Ne("invalid",i);var T=y=C=m=null,B=null,U=null;for(d in c)if(c.hasOwnProperty(d)){var Y=c[d];if(Y!=null)switch(d){case"name":m=Y;break;case"type":C=Y;break;case"checked":B=Y;break;case"defaultChecked":U=Y;break;case"value":y=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:He(i,s,d,Y,c,null)}}cg(i,y,T,B,U,C,m,!1),ga(i);return;case"select":Ne("invalid",i),d=C=y=null;for(m in c)if(c.hasOwnProperty(m)&&(T=c[m],T!=null))switch(m){case"value":y=T;break;case"defaultValue":C=T;break;case"multiple":d=T;default:He(i,s,m,T,c,null)}s=y,c=C,i.multiple=!!d,s!=null?go(i,!!d,s,!1):c!=null&&go(i,!!d,c,!0);return;case"textarea":Ne("invalid",i),y=m=d=null;for(C in c)if(c.hasOwnProperty(C)&&(T=c[C],T!=null))switch(C){case"value":d=T;break;case"defaultValue":m=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:He(i,s,C,T,c,null)}fg(i,d,m,y),ga(i);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(d=c[B],d!=null))switch(B){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:He(i,s,B,d,c,null)}return;case"dialog":Ne("beforetoggle",i),Ne("toggle",i),Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":Ne("load",i);break;case"video":case"audio":for(d=0;d<cl.length;d++)Ne(cl[d],i);break;case"image":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"embed":case"source":case"link":Ne("error",i),Ne("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in c)if(c.hasOwnProperty(U)&&(d=c[U],d!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,U,d,c,null)}return;default:if(pf(s)){for(Y in c)c.hasOwnProperty(Y)&&(d=c[Y],d!==void 0&&Zd(i,s,Y,d,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(d=c[T],d!=null&&He(i,s,T,d,c,null))}function ek(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,C=null,T=null,B=null,U=null,Y=null;for(F in c){var X=c[F];if(c.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":B=X;default:d.hasOwnProperty(F)||He(i,s,F,null,d,X)}}for(var q in d){var F=d[q];if(X=c[q],d.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":y=F;break;case"name":m=F;break;case"checked":U=F;break;case"defaultChecked":Y=F;break;case"value":C=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:F!==X&&He(i,s,q,F,d,X)}}df(i,C,T,B,U,Y,y,m);return;case"select":F=C=T=q=null;for(y in c)if(B=c[y],c.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":F=B;default:d.hasOwnProperty(y)||He(i,s,y,null,d,B)}for(m in d)if(y=d[m],B=c[m],d.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":q=y;break;case"defaultValue":T=y;break;case"multiple":C=y;default:y!==B&&He(i,s,m,y,d,B)}s=T,c=C,d=F,q!=null?go(i,!!c,q,!1):!!d!=!!c&&(s!=null?go(i,!!c,s,!0):go(i,!!c,c?[]:"",!1));return;case"textarea":F=q=null;for(T in c)if(m=c[T],c.hasOwnProperty(T)&&m!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:He(i,s,T,null,d,m)}for(C in d)if(m=d[C],y=c[C],d.hasOwnProperty(C)&&(m!=null||y!=null))switch(C){case"value":q=m;break;case"defaultValue":F=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&He(i,s,C,m,d,y)}ug(i,q,F);return;case"option":for(var be in c)if(q=c[be],c.hasOwnProperty(be)&&q!=null&&!d.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:He(i,s,be,null,d,q)}for(B in d)if(q=d[B],F=c[B],d.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:He(i,s,B,q,d,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in c)q=c[me],c.hasOwnProperty(me)&&q!=null&&!d.hasOwnProperty(me)&&He(i,s,me,null,d,q);for(U in d)if(q=d[U],F=c[U],d.hasOwnProperty(U)&&q!==F&&(q!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:He(i,s,U,q,d,F)}return;default:if(pf(s)){for(var Ie in c)q=c[Ie],c.hasOwnProperty(Ie)&&q!==void 0&&!d.hasOwnProperty(Ie)&&Zd(i,s,Ie,void 0,d,q);for(Y in d)q=d[Y],F=c[Y],!d.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Zd(i,s,Y,q,d,F);return}}for(var j in c)q=c[j],c.hasOwnProperty(j)&&q!=null&&!d.hasOwnProperty(j)&&He(i,s,j,null,d,q);for(X in d)q=d[X],F=c[X],!d.hasOwnProperty(X)||q===F||q==null&&F==null||He(i,s,X,q,d,F)}var Jd=null,eh=null;function fc(i){return i.nodeType===9?i:i.ownerDocument}function dv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function th(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nh=null;function tk(){var i=window.event;return i&&i.type==="popstate"?i===nh?!1:(nh=i,!0):(nh=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(i){return mv.resolve(null).then(i).catch(ik)}:pv;function ik(i){setTimeout(function(){throw i})}function Vr(i){return i==="head"}function gv(i,s){var c=s,d=0,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<d&&8>d){c=d;var C=i.ownerDocument;if(c&1&&fl(C.documentElement),c&2&&fl(C.body),c&4)for(c=C.head,fl(c),C=c.firstChild;C;){var T=C.nextSibling,B=C.nodeName;C[Ts]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=T}}if(m===0){i.removeChild(y),vl(s);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:d=c.charCodeAt(0)-48;else d=0;c=y}while(c);vl(s)}function rh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rh(c),af(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function ok(i,s,c,d){for(;i.nodeType===1;){var m=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Ts])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Nn(i.nextSibling),i===null)break}return null}function sk(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Nn(i.nextSibling),i===null))return null;return i}function ih(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function lk(i,s){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Nn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var oh=null;function yv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function bv(i,s,c){switch(s=fc(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);af(i)}var xn=new Map,vv=new Set;function dc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dr=W.d;W.d={f:ak,r:ck,D:uk,C:fk,L:dk,m:hk,X:mk,S:pk,M:gk};function ak(){var i=dr.f(),s=rc();return i||s}function ck(i){var s=fo(i);s!==null&&s.tag===5&&s.type==="form"?Hy(s):dr.r(i)}var Go=typeof document>"u"?null:document;function xv(i,s,c){var d=Go;if(d&&typeof s=="string"&&s){var m=hn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),vv.has(m)||(vv.add(m),i={rel:i,crossOrigin:c,href:s},d.querySelector(m)===null&&(s=d.createElement("link"),wt(s,"link",i),dt(s),d.head.appendChild(s)))}}function uk(i){dr.D(i),xv("dns-prefetch",i,null)}function fk(i,s){dr.C(i,s),xv("preconnect",i,s)}function dk(i,s,c){dr.L(i,s,c);var d=Go;if(d&&i&&s){var m='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+hn(c.imageSizes)+'"]')):m+='[href="'+hn(i)+'"]';var y=m;switch(s){case"style":y=Yo(i);break;case"script":y=Ko(i)}xn.has(y)||(i=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),xn.set(y,i),d.querySelector(m)!==null||s==="style"&&d.querySelector(dl(y))||s==="script"&&d.querySelector(hl(y))||(s=d.createElement("link"),wt(s,"link",i),dt(s),d.head.appendChild(s)))}}function hk(i,s){dr.m(i,s);var c=Go;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+hn(d)+'"][href="'+hn(i)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ko(i)}if(!xn.has(y)&&(i=p({rel:"modulepreload",href:i},s),xn.set(y,i),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(hl(y)))return}d=c.createElement("link"),wt(d,"link",i),dt(d),c.head.appendChild(d)}}}function pk(i,s,c){dr.S(i,s,c);var d=Go;if(d&&i){var m=ho(d).hoistableStyles,y=Yo(i);s=s||"default";var C=m.get(y);if(!C){var T={loading:0,preload:null};if(C=d.querySelector(dl(y)))T.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},c),(c=xn.get(y))&&sh(i,c);var B=C=d.createElement("link");dt(B),wt(B,"link",i),B._p=new Promise(function(U,Y){B.onload=U,B.onerror=Y}),B.addEventListener("load",function(){T.loading|=1}),B.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(C,s,d)}C={type:"stylesheet",instance:C,count:1,state:T},m.set(y,C)}}}function mk(i,s){dr.X(i,s);var c=Go;if(c&&i){var d=ho(c).hoistableScripts,m=Ko(i),y=d.get(m);y||(y=c.querySelector(hl(m)),y||(i=p({src:i,async:!0},s),(s=xn.get(m))&&lh(i,s),y=c.createElement("script"),dt(y),wt(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function gk(i,s){dr.M(i,s);var c=Go;if(c&&i){var d=ho(c).hoistableScripts,m=Ko(i),y=d.get(m);y||(y=c.querySelector(hl(m)),y||(i=p({src:i,async:!0,type:"module"},s),(s=xn.get(m))&&lh(i,s),y=c.createElement("script"),dt(y),wt(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function Sv(i,s,c,d){var m=(m=he.current)?dc(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Yo(c.href),c=ho(m).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Yo(c.href);var y=ho(m).hoistableStyles,C=y.get(i);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=m.querySelector(dl(i)))&&!y._p&&(C.instance=y,C.state.loading=5),xn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xn.set(i,c),y||yk(m,i,c,C.state))),s&&d===null)throw Error(r(528,""));return C}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(c),c=ho(m).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yo(i){return'href="'+hn(i)+'"'}function dl(i){return'link[rel="stylesheet"]['+i+"]"}function wv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function yk(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),wt(s,"link",c),dt(s),i.head.appendChild(s))}function Ko(i){return'[src="'+hn(i)+'"]'}function hl(i){return"script[async]"+i}function Cv(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+hn(c.href)+'"]');if(d)return s.instance=d,dt(d),d;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),dt(d),wt(d,"style",m),hc(d,c.precedence,i),s.instance=d;case"stylesheet":m=Yo(c.href);var y=i.querySelector(dl(m));if(y)return s.state.loading|=4,s.instance=y,dt(y),y;d=wv(c),(m=xn.get(m))&&sh(d,m),y=(i.ownerDocument||i).createElement("link"),dt(y);var C=y;return C._p=new Promise(function(T,B){C.onload=T,C.onerror=B}),wt(y,"link",d),s.state.loading|=4,hc(y,c.precedence,i),s.instance=y;case"script":return y=Ko(c.src),(m=i.querySelector(hl(y)))?(s.instance=m,dt(m),m):(d=c,(m=xn.get(y))&&(d=p({},c),lh(d,m)),i=i.ownerDocument||i,m=i.createElement("script"),dt(m),wt(m,"link",d),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,hc(d,c.precedence,i));return s.instance}function hc(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,C=0;C<d.length;C++){var T=d[C];if(T.dataset.precedence===s)y=T;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function sh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var pc=null;function Mv(i,s,c){if(pc===null){var d=new Map,m=pc=new Map;m.set(c,d)}else m=pc,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),m=0;m<c.length;m++){var y=c[m];if(!(y[Ts]||y[Tt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(s)||"";C=i+C;var T=d.get(C);T?T.push(y):d.set(C,[y])}}return d}function Ev(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function bk(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Tv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var pl=null;function vk(){}function xk(i,s,c){if(pl===null)throw Error(r(475));var d=pl;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Yo(c.href),y=i.querySelector(dl(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=mc.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=y,dt(y);return}y=i.ownerDocument||i,c=wv(c),(m=xn.get(m))&&sh(c,m),y=y.createElement("link"),dt(y);var C=y;C._p=new Promise(function(T,B){C.onload=T,C.onerror=B}),wt(y,"link",c),s.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=mc.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function Sk(){if(pl===null)throw Error(r(475));var i=pl;return i.stylesheets&&i.count===0&&ah(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&ah(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gc=null;function ah(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gc=new Map,s.forEach(wk,i),gc=null,mc.call(i))}function wk(i,s){if(!(s.state.loading&4)){var c=gc.get(i);if(c)var d=c.get(null);else{c=new Map,gc.set(i,c);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var C=m[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),d=C)}d&&c.set(null,d)}m=s.instance,C=m.getAttribute("data-precedence"),y=c.get(C)||d,y===d&&c.set(null,m),c.set(C,m),this.count++,d=mc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var ml={$$typeof:k,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Ck(i,s,c,d,m,y,C,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.hiddenUpdates=rf(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kv(i,s,c,d,m,y,C,T,B,U,Y,X){return i=new Ck(i,s,c,C,T,B,U,X),s=1,y===!0&&(s|=24),y=Jt(3,null,null,s),i.current=y,y.stateNode=i,s=qf(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:s},Yf(y),i}function Ov(i){return i?(i=Eo,i):Eo}function Av(i,s,c,d,m,y){m=Ov(m),d.context===null?d.context=m:d.pendingContext=m,d=Ar(s),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Nr(i,d,s),c!==null&&(on(c,i,s),$s(c,i,s))}function Nv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function ch(i,s){Nv(i,s),(i=i.alternate)&&Nv(i,s)}function Dv(i){if(i.tag===13){var s=Mo(i,67108864);s!==null&&on(s,i,67108864),ch(i,67108864)}}var yc=!0;function Mk(i,s,c,d){var m=H.T;H.T=null;var y=W.p;try{W.p=2,uh(i,s,c,d)}finally{W.p=y,H.T=m}}function Ek(i,s,c,d){var m=H.T;H.T=null;var y=W.p;try{W.p=8,uh(i,s,c,d)}finally{W.p=y,H.T=m}}function uh(i,s,c,d){if(yc){var m=fh(d);if(m===null)Qd(i,s,d,bc,c),_v(i,d);else if(kk(m,i,s,c,d))d.stopPropagation();else if(_v(i,d),s&4&&-1<Tk.indexOf(i)){for(;m!==null;){var y=fo(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=Ci(y.pendingLanes);if(C!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;C;){var B=1<<31-Qt(C);T.entanglements[1]|=B,C&=~B}In(y),(Le&6)===0&&(tc=fn()+500,al(0))}}break;case 13:T=Mo(y,2),T!==null&&on(T,y,2),rc(),ch(y,2)}if(y=fh(d),y===null&&Qd(i,s,d,bc,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else Qd(i,s,d,null,c)}}function fh(i){return i=gf(i),dh(i)}var bc=null;function dh(i){if(bc=null,i=uo(i),i!==null){var s=l(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=a(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return bc=i,null}function Rv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nf()){case wi:return 2;case Ym:return 8;case ua:case dE:return 32;case Km:return 268435456;default:return 32}default:return 32}}var hh=!1,qr=null,Fr=null,$r=null,gl=new Map,yl=new Map,Gr=[],Tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(i,s){switch(i){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":gl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(s.pointerId)}}function bl(i,s,c,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=fo(s),s!==null&&Dv(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function kk(i,s,c,d,m){switch(s){case"focusin":return qr=bl(qr,i,s,c,d,m),!0;case"dragenter":return Fr=bl(Fr,i,s,c,d,m),!0;case"mouseover":return $r=bl($r,i,s,c,d,m),!0;case"pointerover":var y=m.pointerId;return gl.set(y,bl(gl.get(y)||null,i,s,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,yl.set(y,bl(yl.get(y)||null,i,s,c,d,m)),!0}return!1}function zv(i){var s=uo(i.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=a(c),s!==null){i.blockedOn=s,xE(i.priority,function(){if(c.tag===13){var d=rn();d=of(d);var m=Mo(c,d);m!==null&&on(m,c,d),ch(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=fh(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);mf=d,c.target.dispatchEvent(d),mf=null}else return s=fo(c),s!==null&&Dv(s),i.blockedOn=c,!1;s.shift()}return!0}function Lv(i,s,c){vc(i)&&c.delete(s)}function Ok(){hh=!1,qr!==null&&vc(qr)&&(qr=null),Fr!==null&&vc(Fr)&&(Fr=null),$r!==null&&vc($r)&&($r=null),gl.forEach(Lv),yl.forEach(Lv)}function xc(i,s){i.blockedOn===s&&(i.blockedOn=null,hh||(hh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ok)))}var Sc=null;function Bv(i){Sc!==i&&(Sc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sc===i&&(Sc=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],m=i[s+2];if(typeof d!="function"){if(dh(d||c)===null)continue;break}var y=fo(c);y!==null&&(i.splice(s,3),s-=3,dd(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function vl(i){function s(B){return xc(B,i)}qr!==null&&xc(qr,i),Fr!==null&&xc(Fr,i),$r!==null&&xc($r,i),gl.forEach(s),yl.forEach(s);for(var c=0;c<Gr.length;c++){var d=Gr[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Gr.length&&(c=Gr[0],c.blockedOn===null);)zv(c),c.blockedOn===null&&Gr.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],C=m[qt]||null;if(typeof y=="function")C||Bv(c);else if(C){var T=null;if(y&&y.hasAttribute("formAction")){if(m=y,C=y[qt]||null)T=C.formAction;else if(dh(m)!==null)continue}else T=C.action;typeof T=="function"?c[d+1]=T:(c.splice(d,3),d-=3),Bv(c)}}}function ph(i){this._internalRoot=i}wc.prototype.render=ph.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=rn();Av(c,d,i,s,null,null)},wc.prototype.unmount=ph.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Av(i.current,2,null,i,null,null),rc(),s[co]=null}};function wc(i){this._internalRoot=i}wc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Jm();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Gr.length&&s!==0&&s<Gr[c].priority;c++);Gr.splice(c,0,i),c===0&&zv(i)}};var Pv=e.version;if(Pv!=="19.1.0")throw Error(r(527,Pv,"19.1.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var Ak={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Cs=Cc.inject(Ak),Wt=Cc}catch{}}return Sl.createRoot=function(i,s){if(!o(i))throw Error(r(299));var c=!1,d="",m=Jy,y=eb,C=tb,T=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=kv(i,1,!1,null,null,c,d,m,y,C,T,null),i[co]=s.current,Wd(i),new ph(s)},Sl.hydrateRoot=function(i,s,c){if(!o(i))throw Error(r(299));var d=!1,m="",y=Jy,C=eb,T=tb,B=null,U=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&(U=c.formState)),s=kv(i,1,!0,s,c??null,d,m,y,C,T,B,U),s.context=Ov(null),c=s.current,d=rn(),d=of(d),m=Ar(d),m.callback=null,Nr(c,m,d),c=d,s.current.lanes=c,Es(s,c),In(s),i[co]=s.current,Wd(i),new wc(s)},Sl.version="19.1.0",Sl}var Yv;function Ik(){if(Yv)return yh.exports;Yv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yh.exports=Hk(),yh.exports}var Uk=Ik();const Vk=Yp(Uk),w1=[{id:"template-1",name:"Daily Journal",isFolder:!1,items:[],content:`
            <h1>Daily Journal</h1>
            <p><strong>Date:</strong> <span class="placeholder-text">[Enter Date Here, e.g., May 18, 2025]</span></p>
            <h2>How are you feeling today?</h2>
            <p class="placeholder-text">Describe your overall mood, energy levels, etc.</p>
            <h2>What are you grateful for today?</h2>
            <ul>
                <li><span class="placeholder-text">Gratitude point 1...</span></li>
                <li><span class="placeholder-text">Gratitude point 2...</span></li>
                <li><span class="placeholder-text">Gratitude point 3...</span></li>
            </ul>
            <h2>Today's Highlights &amp; Reflections:</h2>
            <p class="placeholder-text">What went well? What could have been better? Any notable events?</p>
            <h2>Goals for Tomorrow:</h2>
            <p class="placeholder-text">What do you want to achieve tomorrow?</p>
        `},{id:"template-2",name:"To-Do List",isFolder:!1,items:[],content:`
            <h1>My Tasks</h1>
            <p><em>Tip: TipTap handles checkboxes in task lists. Add new items using the editor.</em></p>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Finish project proposal</div></li>
                <li data-checked="true" data-type="taskItem"><label><input type="checkbox" checked><span></span></label><div>Schedule team meeting</div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Reply to important emails</div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">New task...</span></div></li>
            </ul>
        `},{id:"template-3",name:"Grocery List",isFolder:!1,items:[],content:`
            <h1>Grocery Run</h1>
            <h3>Produce</h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Apples</div></li>
                <li data-checked="true" data-type="taskItem"><label><input type="checkbox" checked><span></span></label><div>Bananas</div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Spinach</div></li>
            </ul>
            <h3>Dairy &amp; Alternatives</h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Milk (Oat)</div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Yogurt</div></li>
            </ul>
            <h3>Pantry</h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Pasta</div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div>Rice</div></li>
            </ul>
        `},{id:"template-4",name:"Habit Tracker",isFolder:!1,items:[],content:`
            <h1>Habit Tracker</h1>
            <p><strong>Week of:</strong> <span class="placeholder-text">[Enter Start Date, e.g., May 19, 2025]</span></p>
            <table>
                <thead>
                    <tr>
                        <th>Habit</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                        <th>Sun</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Exercise (30 mins)</td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                    </tr>
                    <tr>
                        <td>Read (15 mins)</td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                    </tr>
                    <tr>
                        <td>Meditate (10 mins)</td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                        <td><span class="placeholder-text">/X</span></td>
                    </tr>
                    <tr>
                        <td><span class="placeholder-text">New Habit...</span></td>
                        <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td>
                    </tr>
                </tbody>
            </table>
            <p><em>Tip: Use symbols like , , X, or fill cell backgrounds.</em></p>
        `},{id:"template-5",name:"Meeting Notes",isFolder:!1,items:[],content:`
            <h1>Meeting Notes</h1>
            <p><strong>Meeting Title:</strong> <span class="placeholder-text">Q3 Project Kickoff</span></p>
            <p><strong>Date &amp; Time:</strong> <span class="placeholder-text">May 18, 2025, 10:00 AM</span></p>
            <h3>Attendees:</h3>
            <p class="placeholder-text">Alice, Bob, Charlie</p>
            <h3>Agenda / Key Topics:</h3>
            <ol>
                <li><span class="placeholder-text">Topic A discussion</span></li>
                <li><span class="placeholder-text">Topic B planning</span></li>
                <li><span class="placeholder-text">Q&A</span></li>
            </ol>
            <h3>Discussion &amp; Notes:</h3>
            <p class="placeholder-text">Detailed notes from the discussion...</p>
            <h3>Action Items:</h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Action Item 1 (Assigned to: Person A)</span></div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Action Item 2 (Assigned to: Person B, Due: Date)</span></div></li>
            </ul>
            <h3>Decisions Made:</h3>
            <p class="placeholder-text">Key decisions reached during the meeting.</p>
        `},{id:"template-6",name:"Project Planner",isFolder:!1,items:[],content:`
            <h1>Project: <span class="placeholder-text">[Project Name]</span></h1>
            <p><strong>Deadline:</strong> <span class="placeholder-text">[Date]</span></p>
            <h2>Overall Goal:</h2>
            <p class="placeholder-text">Clearly define the main objective of this project.</p>
            <h2>Key Milestones:</h2>
            <ol>
                <li><span class="placeholder-text">Milestone 1 (Target Date: [Date])</span></li>
                <li><span class="placeholder-text">Milestone 2 (Target Date: [Date])</span></li>
                <li><span class="placeholder-text">Milestone 3 (Target Date: [Date])</span></li>
            </ol>
            <h2>Tasks Breakdown:</h2>
            <h3>Phase 1: <span class="placeholder-text">[Name]</span></h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Task 1.1</span></div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Task 1.2</span></div></li>
            </ul>
            <h3>Phase 2: <span class="placeholder-text">[Name]</span></h3>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Task 2.1</span></div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">Task 2.2</span></div></li>
            </ul>
            <h2>Resources &amp; Links:</h2>
            <ul>
                <li><a href="#"><span class="placeholder-text">Link to relevant document/site</span></a></li>
                <li><span class="placeholder-text">Contact: Person X (email@example.com)</span></li>
            </ul>
            <h2>Notes &amp; Blockers:</h2>
            <p class="placeholder-text">Any potential issues or important notes.</p>
        `},{id:"template-7",name:"Book Notes",isFolder:!1,items:[],content:`
            <h1>Book Notes: <span class="placeholder-text">[Book Title]</span></h1>
            <p><strong>Author:</strong> <span class="placeholder-text">[Author Name]</span></p>
            <p><strong>Date Started:</strong> <span class="placeholder-text">[Date]</span> | <strong>Date Finished:</strong> <span class="placeholder-text">[Date]</span></p>
            <p><strong>My Rating:</strong> <span class="placeholder-text">[e.g., ]</span></p>
            <h2>Brief Summary:</h2>
            <p class="placeholder-text">A concise overview of the book's main plot or theme.</p>
            <h2>Key Takeaways / Insights:</h2>
            <ul>
                <li><span class="placeholder-text">Insight 1...</span></li>
                <li><span class="placeholder-text">Insight 2...</span></li>
                <li><span class="placeholder-text">Insight 3...</span></li>
            </ul>
            <h2>Memorable Quotes:</h2>
            <blockquote>
                <p class="placeholder-text">"The first quote that stood out..." (Page X)</p>
            </blockquote>
            <blockquote>
                <p class="placeholder-text">"Another impactful quote..." (Page Y)</p>
            </blockquote>
            <h2>Characters / Key People:</h2>
            <p class="placeholder-text">Brief notes on main characters or influential figures mentioned.</p>
            <h2>Personal Reflections:</h2>
            <p class="placeholder-text">How did the book make you feel? Did it change your perspective?</p>
        `},{id:"template-8",name:"Recipe Card",isFolder:!1,items:[],content:`
            <h1>Recipe: <span class="placeholder-text">[Dish Name]</span></h1>
            <p><strong>Source:</strong> <span class="placeholder-text">[e.g., Grandma's Kitchen, Website URL]</span></p>
            <p><strong>Prep Time:</strong> <span class="placeholder-text">20 mins</span> | <strong>Cook Time:</strong> <span class="placeholder-text">40 mins</span> | <strong>Servings:</strong> <span class="placeholder-text">4</span></p>
            <h2>Description:</h2>
            <p class="placeholder-text">A short, enticing description of the dish.</p>
            <h2>Ingredients:</h2>
            <ul data-type="taskList">
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">1 cup Flour</span></div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">2 Eggs</span></div></li>
                <li data-checked="false" data-type="taskItem"><label><input type="checkbox"><span></span></label><div><span class="placeholder-text">1/2 tsp Salt</span></div></li>
            </ul>
            <h2>Equipment:</h2>
            <ul>
                <li><span class="placeholder-text">Large mixing bowl</span></li>
                <li><span class="placeholder-text">9x13 inch baking pan</span></li>
            </ul>
            <h2>Instructions:</h2>
            <ol>
                <li><span class="placeholder-text">Preheat oven to 350F (175C).</span></li>
                <li><span class="placeholder-text">Combine dry ingredients in the mixing bowl.</span></li>
                <li><span class="placeholder-text">Add wet ingredients and mix until smooth.</span></li>
                <li><span class="placeholder-text">Pour into baking pan and bake for 40 minutes.</span></li>
            </ol>
            <h2>Notes / Tips:</h2>
            <p class="placeholder-text">Any variations, storage instructions, or serving suggestions.</p>
        `},{id:"template-9",name:"SWOT Analysis",isFolder:!1,items:[],content:`
            <h1>SWOT Analysis: <span class="placeholder-text">[Subject of Analysis, e.g., New Product Idea]</span></h1>
            <p><strong>Date:</strong> <span class="placeholder-text">[Date]</span></p>
            <table>
                <thead>
                    <tr>
                        <th style="width:50%;">Strengths</th>
                        <th style="width:50%;">Weaknesses</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ul>
                                <li><span class="placeholder-text">Internal positive factor 1...</span></li>
                                <li><span class="placeholder-text">Internal positive factor 2...</span></li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li><span class="placeholder-text">Internal negative factor 1...</span></li>
                                <li><span class="placeholder-text">Internal negative factor 2...</span></li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Opportunities</th>
                        <th>Threats</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ul>
                                <li><span class="placeholder-text">External positive factor 1...</span></li>
                                <li><span class="placeholder-text">External positive factor 2...</span></li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li><span class="placeholder-text">External negative factor 1...</span></li>
                                <li><span class="placeholder-text">External negative factor 2...</span></li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h2>Summary &amp; Action Plan:</h2>
            <p class="placeholder-text">Based on the SWOT, what are the key strategies or actions to take?</p>
        `},{id:"template-10",name:"Cornell Notes",isFolder:!1,items:[],content:`
            <h1>Cornell Notes</h1>
            <p><strong>Topic:</strong> <span class="placeholder-text">[Main Topic/Lecture Title]</span></p>
            <p><strong>Date:</strong> <span class="placeholder-text">[Date]</span></p>
            <table>
                <thead>
                    <tr>
                        <th style="width:30%;">Cues / Questions</th>
                        <th style="width:70%;">Main Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="vertical-align: top;">
                            <p class="placeholder-text"><em>After taking notes, formulate questions here.</em></p>
                            <br><p class="placeholder-text">What is...?</p>
                            <br><p class="placeholder-text">How does...?</p>
                            <br><p class="placeholder-text">Why is... important?</p>
                        </td>
                        <td style="vertical-align: top;">
                            <p class="placeholder-text">Main ideas, details, diagrams, examples from lecture/reading...</p>
                            <ul>
                                <li><span class="placeholder-text">Key point 1</span>
                                    <ul><li><span class="placeholder-text">Sub-point 1.1</span></li></ul>
                                </li>
                                <li><span class="placeholder-text">Key point 2</span></li>
                                <li><span class="placeholder-text">Important term: Definition</span></li>
                            </ul>
                            <p class="placeholder-text">Continue notes here...</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <hr>
            <h2>Summary:</h2>
            <p class="placeholder-text"><em>After the lecture/reading, summarize the main points from the notes section in 5-7 sentences.</em></p>
        `}],C1=O.createContext(void 0),Kv=[{id:"examples-folder",name:"Examples",isFolder:!0,items:w1}],Xv="explorer-openFileIds",Sh="explorer-activeId",Wv="explorer-tree",qk=({children:n})=>{const[e,t]=O.useState(()=>{const x=localStorage.getItem(Wv);if(x)try{return JSON.parse(x)}catch{return Kv}return Kv}),[r,o]=O.useState(()=>localStorage.getItem(Sh)||null),[l,a]=O.useState(()=>{const x=localStorage.getItem(Xv);if(x)try{return JSON.parse(x)}catch{return[]}return[]});O.useEffect(()=>{localStorage.setItem(Wv,JSON.stringify(e))},[e]),O.useEffect(()=>{r?localStorage.setItem(Sh,r):localStorage.removeItem(Sh)},[r]),O.useEffect(()=>{localStorage.setItem(Xv,JSON.stringify(l))},[l]);const u=O.useCallback((x,S,w)=>x.map((M,E,k)=>{if(M.id===S){const D={...M};return w(D,E,k),D}return M.isFolder&&M.items.length>0?{...M,items:u(M.items,S,w)}:M}),[]),f=O.useCallback((x,S)=>{const w=new Date().toISOString(),M={...S,createDate:S.createDate||w,lastUpdatedDate:S.lastUpdatedDate||w,lastOpenedDate:S.lastOpenedDate||void 0};if(!x){t(E=>[...E,M]);return}t(E=>u(E,x,k=>{k.isFolder&&(k.items=[...k.items,M])}))},[u]),h=O.useCallback(x=>{const S=w=>w.filter(M=>M.id===x?!1:(M.isFolder&&M.items.length>0&&(M.items=S(M.items)),!0));t(w=>S(w))},[]),p=O.useCallback((x,S)=>{t(w=>u(w,x,M=>{M.name=S}))},[u]),g=O.useCallback(x=>{a(w=>w.includes(x)?w:[...w,x]),o(x);const S=new Date().toISOString();t(w=>u(w,x,M=>{M.isFolder||(M.lastOpenedDate=S)}))},[u]),b=O.useCallback(x=>{const S=l.filter(w=>w!==x);o(w=>w===x?S.at(-1)??null:w),a(S)},[l]),v=O.useCallback((x,S)=>{const w=new Date().toISOString();t(M=>u(M,x,E=>{E.isFolder||(E.content=S,E.lastUpdatedDate=w)}))},[u]);return R.jsx(C1.Provider,{value:{tree:e,setTree:t,activeId:r,setActiveId:o,openFileIds:l,openFile:g,closeFile:b,addNode:f,removeNode:h,renameNode:p,updateFileContent:v},children:n})};function ta(){const n=O.useContext(C1);if(!n)throw new Error("useExplorer must be used within ExplorerProvider");return n}function Qv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Kp(...n){return e=>{let t=!1;const r=n.map(o=>{const l=Qv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():Qv(n[o],null)}}}}function ut(...n){return O.useCallback(Kp(...n),n)}function Pl(n){const e=$k(n),t=O.forwardRef((r,o)=>{const{children:l,...a}=r,u=O.Children.toArray(l),f=u.find(Yk);if(f){const h=f.props.children,p=u.map(g=>g===f?O.Children.count(h)>1?O.Children.only(null):O.isValidElement(h)?h.props.children:null:g);return R.jsx(e,{...a,ref:o,children:O.isValidElement(h)?O.cloneElement(h,void 0,p):null})}return R.jsx(e,{...a,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}var Fk=Pl("Slot");function $k(n){const e=O.forwardRef((t,r)=>{const{children:o,...l}=t,a=O.isValidElement(o)?Xk(o):void 0,u=ut(a,r);if(O.isValidElement(o)){const f=Kk(l,o.props);return o.type!==O.Fragment&&(f.ref=u),O.cloneElement(o,f)}return O.Children.count(o)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var M1=Symbol("radix.slottable");function Gk(n){const e=({children:t})=>R.jsx(R.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=M1,e}function Yk(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===M1}function Kk(n,e){const t={...e};for(const r in e){const o=n[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?t[r]=(...u)=>{const f=l(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...l}:r==="className"&&(t[r]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function Xk(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function E1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=E1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function T1(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=E1(n))&&(r&&(r+=" "),r+=e);return r}const Zv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Jv=T1,k1=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Jv(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=e,a=Object.keys(o).map(h=>{const p=t==null?void 0:t[h],g=l==null?void 0:l[h];if(p===null)return null;const b=Zv(p)||Zv(g);return o[h][b]}),u=t&&Object.entries(t).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:b,...v}=p;return Object.entries(v).every(x=>{let[S,w]=x;return Array.isArray(w)?w.includes({...l,...u}[S]):{...l,...u}[S]===w})?[...h,g,b]:h},[]);return Jv(n,a,f,t==null?void 0:t.class,t==null?void 0:t.className)},Wk=k1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-8 rounded-md px-2 text-xs",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),En=O.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},l)=>{const a=r?Fk:"button";return R.jsx(a,{className:Ye(Wk({variant:e,size:t,className:n})),ref:l,...o})});En.displayName="Button";function io(n,e=[]){let t=[];function r(l,a){const u=O.createContext(a),f=t.length;t=[...t,a];const h=g=>{var M;const{scope:b,children:v,...x}=g,S=((M=b==null?void 0:b[n])==null?void 0:M[f])||u,w=O.useMemo(()=>x,Object.values(x));return R.jsx(S.Provider,{value:w,children:v})};h.displayName=l+"Provider";function p(g,b){var S;const v=((S=b==null?void 0:b[n])==null?void 0:S[f])||u,x=O.useContext(v);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[h,p]}const o=()=>{const l=t.map(a=>O.createContext(a));return function(u){const f=(u==null?void 0:u[n])||l;return O.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return o.scopeName=n,[r,Qk(o,...e)]}function Qk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const a=r.reduce((u,{useScope:f,scopeName:h})=>{const g=f(l)[`__scope${h}`];return{...u,...g}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function Ce(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}var di=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},Zk=S1[" useInsertionEffect ".trim().toString()]||di;function Mu({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,l,a]=Jk({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:o;{const p=O.useRef(n!==void 0);O.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=O.useCallback(p=>{var g;if(u){const b=eO(p)?p(n):p;b!==n&&((g=a.current)==null||g.call(a,b))}else l(p)},[u,n,l,a]);return[f,h]}function Jk({defaultProp:n,onChange:e}){const[t,r]=O.useState(n),o=O.useRef(t),l=O.useRef(e);return Zk(()=>{l.current=e},[e]),O.useEffect(()=>{var a;o.current!==t&&((a=l.current)==null||a.call(l,t),o.current=t)},[t,o]),[t,r,l]}function eO(n){return typeof n=="function"}function tO(n){const e=O.useRef({value:n,previous:n});return O.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function O1(n){const[e,t]=O.useState(void 0);return di(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let a,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;a=h.inlineSize,u=h.blockSize}else a=n.offsetWidth,u=n.offsetHeight;t({width:a,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function nO(n,e){return O.useReducer((t,r)=>e[t][r]??t,n)}var bi=n=>{const{present:e,children:t}=n,r=rO(e),o=typeof t=="function"?t({present:r.isPresent}):O.Children.only(t),l=ut(r.ref,iO(o));return typeof t=="function"||r.isPresent?O.cloneElement(o,{ref:l}):null};bi.displayName="Presence";function rO(n){const[e,t]=O.useState(),r=O.useRef(null),o=O.useRef(n),l=O.useRef("none"),a=n?"mounted":"unmounted",[u,f]=nO(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const h=Mc(r.current);l.current=u==="mounted"?h:"none"},[u]),di(()=>{const h=r.current,p=o.current;if(p!==n){const b=l.current,v=Mc(h);n?f("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),di(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=v=>{const S=Mc(r.current).includes(v.animationName);if(v.target===e&&S&&(f("ANIMATION_END"),!o.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},b=v=>{v.target===e&&(l.current=Mc(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:O.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Mc(n){return(n==null?void 0:n.animationName)||"none"}function iO(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Eu=Cu();const A1=Yp(Eu);var oO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=oO.reduce((n,e)=>{const t=Pl(`Primitive.${e}`),r=O.forwardRef((o,l)=>{const{asChild:a,...u}=o,f=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(f,{...u,ref:l})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function N1(n,e){n&&Eu.flushSync(()=>n.dispatchEvent(e))}var Tu="Checkbox",[sO,UH]=io(Tu),[lO,Xp]=sO(Tu);function aO(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:o,disabled:l,form:a,name:u,onCheckedChange:f,required:h,value:p="on",internal_do_not_use_render:g}=n,[b,v]=Mu({prop:t,defaultProp:o??!1,onChange:f,caller:Tu}),[x,S]=O.useState(null),[w,M]=O.useState(null),E=O.useRef(!1),k=x?!!a||!!x.closest("form"):!0,D={checked:b,disabled:l,setChecked:v,control:x,setControl:S,name:u,form:a,value:p,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:si(o)?!1:o,isFormControl:k,bubbleInput:w,setBubbleInput:M};return R.jsx(lO,{scope:e,...D,children:cO(g)?g(D):r})}var D1="CheckboxTrigger",R1=O.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},o)=>{const{control:l,value:a,disabled:u,checked:f,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:x}=Xp(D1,n),S=ut(o,p),w=O.useRef(f);return O.useEffect(()=>{const M=l==null?void 0:l.form;if(M){const E=()=>g(w.current);return M.addEventListener("reset",E),()=>M.removeEventListener("reset",E)}},[l,g]),R.jsx(st.button,{type:"button",role:"checkbox","aria-checked":si(f)?"mixed":f,"aria-required":h,"data-state":P1(f),"data-disabled":u?"":void 0,disabled:u,value:a,...r,ref:S,onKeyDown:Ce(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Ce(t,M=>{g(E=>si(E)?!0:!E),x&&v&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})})});R1.displayName=D1;var Wp=O.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:o,defaultChecked:l,required:a,disabled:u,value:f,onCheckedChange:h,form:p,...g}=n;return R.jsx(aO,{__scopeCheckbox:t,checked:o,defaultChecked:l,disabled:u,required:a,onCheckedChange:h,name:r,form:p,value:f,internal_do_not_use_render:({isFormControl:b})=>R.jsxs(R.Fragment,{children:[R.jsx(R1,{...g,ref:e,__scopeCheckbox:t}),b&&R.jsx(B1,{__scopeCheckbox:t})]})})});Wp.displayName=Tu;var _1="CheckboxIndicator",z1=O.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...o}=n,l=Xp(_1,t);return R.jsx(bi,{present:r||si(l.checked)||l.checked===!0,children:R.jsx(st.span,{"data-state":P1(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...n.style}})})});z1.displayName=_1;var L1="CheckboxBubbleInput",B1=O.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:a,required:u,disabled:f,name:h,value:p,form:g,bubbleInput:b,setBubbleInput:v}=Xp(L1,n),x=ut(t,v),S=tO(l),w=O1(r);O.useEffect(()=>{const E=b;if(!E)return;const k=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(k,"checked").set,_=!o.current;if(S!==l&&N){const A=new Event("click",{bubbles:_});E.indeterminate=si(l),N.call(E,si(l)?!1:l),E.dispatchEvent(A)}},[b,S,l,o]);const M=O.useRef(si(l)?!1:l);return R.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??M.current,required:u,disabled:f,name:h,value:p,form:g,...e,tabIndex:-1,ref:x,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B1.displayName=L1;function cO(n){return typeof n=="function"}function si(n){return n==="indeterminate"}function P1(n){return si(n)?"indeterminate":n?"checked":"unchecked"}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),e0=n=>{const e=fO(n);return e.charAt(0).toUpperCase()+e.slice(1)},j1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),dO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:a,...u},f)=>O.createElement("svg",{ref:f,...hO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:j1("lucide",o),...!l&&!dO(u)&&{"aria-hidden":"true"},...u},[...a.map(([h,p])=>O.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(n,e)=>{const t=O.forwardRef(({className:r,...o},l)=>O.createElement(pO,{ref:l,iconNode:e,className:j1(`lucide-${uO(e0(n))}`,`lucide-${n}`,r),...o}));return t.displayName=e0(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],gO=Xe("bold",mO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],H1=Xe("check",yO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vO=Xe("chevron-right",bO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SO=Xe("circle",xO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],CO=Xe("code-xml",wO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EO=Xe("ellipsis-vertical",MO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],kO=Xe("file-plus",TO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AO=Xe("file-text",OO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],DO=Xe("folder-open",NO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_O=Xe("folder-plus",RO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],LO=Xe("folder",zO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],PO=Xe("italic",BO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],HO=Xe("list-ordered",jO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],UO=Xe("list",IO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],qO=Xe("moon",VO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],$O=Xe("panel-right-close",FO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],YO=Xe("panel-right-open",GO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XO=Xe("square-check-big",KO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],QO=Xe("square-code",WO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JO=Xe("sun",ZO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],tA=Xe("table",eA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],rA=Xe("underline",nA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oA=Xe("x",iA),Qp="-",sA=n=>{const e=aA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const u=a.split(Qp);return u[0]===""&&u.length!==1&&u.shift(),I1(u,e)||lA(a)},getConflictingClassGroupIds:(a,u)=>{const f=t[a]||[];return u&&r[a]?[...f,...r[a]]:f}}},I1=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?I1(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const l=n.join(Qp);return(a=e.validators.find(({validator:u})=>u(l)))==null?void 0:a.classGroupId},t0=/^\[(.+)\]$/,lA=n=>{if(t0.test(n)){const e=t0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},aA=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)lp(t[o],r,o,e);return r},lp=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const l=o===""?e:n0(e,o);l.classGroupId=t;return}if(typeof o=="function"){if(cA(o)){lp(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,a])=>{lp(a,n0(e,l),t,r)})})},n0=(n,e)=>{let t=n;return e.split(Qp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},cA=n=>n.isThemeGetter,uA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(l,a)=>{t.set(l,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(l){let a=t.get(l);if(a!==void 0)return a;if((a=r.get(l))!==void 0)return o(l,a),a},set(l,a){t.has(l)?t.set(l,a):o(l,a)}}},ap="!",cp=":",fA=cp.length,dA=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const l=[];let a=0,u=0,f=0,h;for(let x=0;x<o.length;x++){let S=o[x];if(a===0&&u===0){if(S===cp){l.push(o.slice(f,x)),f=x+fA;continue}if(S==="/"){h=x;continue}}S==="["?a++:S==="]"?a--:S==="("?u++:S===")"&&u--}const p=l.length===0?o:o.substring(f),g=hA(p),b=g!==p,v=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const o=e+cp,l=r;r=a=>a.startsWith(o)?l(a.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=l=>t({className:l,parseClassName:o})}return r},hA=n=>n.endsWith(ap)?n.substring(0,n.length-1):n.startsWith(ap)?n.substring(1):n,pA=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let l=[];return r.forEach(a=>{a[0]==="["||e[a]?(o.push(...l.sort(),a),l=[]):l.push(a)}),o.push(...l.sort()),o}},mA=n=>({cache:uA(n.cacheSize),parseClassName:dA(n),sortModifiers:pA(n),...sA(n)}),gA=/\s+/,yA=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:l}=e,a=[],u=n.trim().split(gA);let f="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:b,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:S}=t(p);if(g){f=p+(f.length>0?" "+f:f);continue}let w=!!S,M=r(w?x.substring(0,S):x);if(!M){if(!w){f=p+(f.length>0?" "+f:f);continue}if(M=r(x),!M){f=p+(f.length>0?" "+f:f);continue}w=!1}const E=l(b).join(":"),k=v?E+ap:E,D=k+M;if(a.includes(D))continue;a.push(D);const N=o(M,w);for(let _=0;_<N.length;++_){const A=N[_];a.push(k+A)}f=p+(f.length>0?" "+f:f)}return f};function bA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=U1(e))&&(r&&(r+=" "),r+=t);return r}const U1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=U1(n[r]))&&(t&&(t+=" "),t+=e);return t};function vA(n,...e){let t,r,o,l=a;function a(f){const h=e.reduce((p,g)=>g(p),n());return t=mA(h),r=t.cache.get,o=t.cache.set,l=u,u(f)}function u(f){const h=r(f);if(h)return h;const p=yA(f,t);return o(f,p),p}return function(){return l(bA.apply(null,arguments))}}const ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},V1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,q1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xA=/^\d+\/\d+$/,SA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=n=>xA.test(n),Te=n=>!!n&&!Number.isNaN(Number(n)),Kr=n=>!!n&&Number.isInteger(Number(n)),wh=n=>n.endsWith("%")&&Te(n.slice(0,-1)),hr=n=>SA.test(n),TA=()=>!0,kA=n=>wA.test(n)&&!CA.test(n),F1=()=>!1,OA=n=>MA.test(n),AA=n=>EA.test(n),NA=n=>!le(n)&&!ae(n),DA=n=>ys(n,Y1,F1),le=n=>V1.test(n),Ui=n=>ys(n,K1,kA),Ch=n=>ys(n,BA,Te),r0=n=>ys(n,$1,F1),RA=n=>ys(n,G1,AA),Ec=n=>ys(n,X1,OA),ae=n=>q1.test(n),wl=n=>bs(n,K1),_A=n=>bs(n,PA),i0=n=>bs(n,$1),zA=n=>bs(n,Y1),LA=n=>bs(n,G1),Tc=n=>bs(n,X1,!0),ys=(n,e,t)=>{const r=V1.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},bs=(n,e,t=!1)=>{const r=q1.exec(n);return r?r[1]?e(r[1]):t:!1},$1=n=>n==="position"||n==="percentage",G1=n=>n==="image"||n==="url",Y1=n=>n==="length"||n==="size"||n==="bg-size",K1=n=>n==="length",BA=n=>n==="number",PA=n=>n==="family-name",X1=n=>n==="shadow",jA=()=>{const n=ct("color"),e=ct("font"),t=ct("text"),r=ct("font-weight"),o=ct("tracking"),l=ct("leading"),a=ct("breakpoint"),u=ct("container"),f=ct("spacing"),h=ct("radius"),p=ct("shadow"),g=ct("inset-shadow"),b=ct("text-shadow"),v=ct("drop-shadow"),x=ct("blur"),S=ct("perspective"),w=ct("aspect"),M=ct("ease"),E=ct("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...D(),ae,le],_=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],z=()=>[ae,le,f],V=()=>[Xo,"full","auto",...z()],ee=()=>[Kr,"none","subgrid",ae,le],oe=()=>["auto",{span:["full",Kr,ae,le]},Kr,ae,le],ne=()=>[Kr,"auto",ae,le],fe=()=>["auto","min","max","fr",ae,le],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...z()],W=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],$=()=>[n,ae,le],Z=()=>[...D(),i0,r0,{position:[ae,le]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",zA,DA,{size:[ae,le]}],te=()=>[wh,wl,Ui],J=()=>["","none","full",h,ae,le],ie=()=>["",Te,wl,Ui],Se=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Te,wh,i0,r0],Re=()=>["","none",x,ae,le],qe=()=>["none",Te,ae,le],Vt=()=>["none",Te,ae,le],Tn=()=>[Te,ae,le],kn=()=>[Xo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hr],breakpoint:[hr],color:[TA],container:[hr],"drop-shadow":[hr],ease:["in","out","in-out"],font:[NA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hr],shadow:[hr],spacing:["px",Te],text:[hr],"text-shadow":[hr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,le,ae,w]}],container:["container"],columns:[{columns:[Te,le,ae,u]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Kr,"auto",ae,le]}],basis:[{basis:[Xo,"full","auto",u,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,Xo,"auto","initial","none",le]}],grow:[{grow:["",Te,ae,le]}],shrink:[{shrink:["",Te,ae,le]}],order:[{order:[Kr,"first","last","none",ae,le]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,wl,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ae,Ch]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wh,le]}],"font-family":[{font:[_A,le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ae,le]}],"line-clamp":[{"line-clamp":[Te,"none",ae,Ch]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",ae,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ae,Ui]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Te,"auto",ae,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kr,ae,le],radial:["",ae,le],conic:[Kr,ae,le]},LA,RA]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ae,le]}],"outline-w":[{outline:["",Te,wl,Ui]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",p,Tc,Ec]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,Tc,Ec]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Te,Ui]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,Tc,Ec]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Te,ae,le]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ae,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,le]}],filter:[{filter:["","none",ae,le]}],blur:[{blur:Re()}],brightness:[{brightness:[Te,ae,le]}],contrast:[{contrast:[Te,ae,le]}],"drop-shadow":[{"drop-shadow":["","none",v,Tc,Ec]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Te,ae,le]}],"hue-rotate":[{"hue-rotate":[Te,ae,le]}],invert:[{invert:["",Te,ae,le]}],saturate:[{saturate:[Te,ae,le]}],sepia:[{sepia:["",Te,ae,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,le]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ae,le]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ae,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ae,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ae,le]}],"backdrop-invert":[{"backdrop-invert":["",Te,ae,le]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ae,le]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ae,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ae,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ae,le]}],ease:[{ease:["linear","initial",M,ae,le]}],delay:[{delay:[Te,ae,le]}],animate:[{animate:["none",E,ae,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ae,le]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Vt()}],"scale-x":[{"scale-x":Vt()}],"scale-y":[{"scale-y":Vt()}],"scale-z":[{"scale-z":Vt()}],"scale-3d":["scale-3d"],skew:[{skew:Tn()}],"skew-x":[{"skew-x":Tn()}],"skew-y":[{"skew-y":Tn()}],transform:[{transform:[ae,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kn()}],"translate-x":[{"translate-x":kn()}],"translate-y":[{"translate-y":kn()}],"translate-z":[{"translate-z":kn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,le]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Te,wl,Ui,Ch]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HA=vA(jA);function Ye(...n){return HA(T1(n))}function IA(n){if(!n)return"";const e=new Date(n),t=new Date,r=e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),o=new Date(t);o.setDate(t.getDate()-1);const l=e.getFullYear()===o.getFullYear()&&e.getMonth()===o.getMonth()&&e.getDate()===o.getDate(),a=e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return r?`Today at ${a}`:l?`Yesterday at ${a}`:e.toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}const W1=O.forwardRef(({className:n,...e},t)=>R.jsx(Wp,{ref:t,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:R.jsx(z1,{className:Ye("flex items-center justify-center text-current"),children:R.jsx(H1,{className:"h-4 w-4"})})}));W1.displayName=Wp.displayName;const UA=k1("mx-auto px-4 sm:px-6 lg:px-8",{variants:{variant:{fullMobileConstrainedPadded:"max-w-7xl sm:px-6 lg:px-8",constrainedPadded:"max-w-7xl px-4 sm:px-6 lg:px-8",fullMobileBreakpointPadded:"container mx-auto sm:px-6 lg:px-8",breakpointPadded:"container mx-auto px-4 sm:px-6 lg:px-8",narrowConstrainedPadded:"max-w-7xl px-4 sm:px-6 lg:px-8 max-w-3xl"}},defaultVariants:{variant:"constrainedPadded"}}),Q1=({asChild:n,className:e,children:t,variant:r,...o})=>{const l=n?O.Fragment:"div",a=Ye(UA({variant:r}),e);return R.jsx(l,{className:a,...o,children:r==="narrowConstrainedPadded"?R.jsx("div",{className:"mx-auto max-w-3xl",children:t}):t})};function Z1(n){const e=n+"CollectionProvider",[t,r]=io(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:w,children:M}=S,E=Pe.useRef(null),k=Pe.useRef(new Map).current;return R.jsx(o,{scope:w,itemMap:k,collectionRef:E,children:M})};a.displayName=e;const u=n+"CollectionSlot",f=Pl(u),h=Pe.forwardRef((S,w)=>{const{scope:M,children:E}=S,k=l(u,M),D=ut(w,k.collectionRef);return R.jsx(f,{ref:D,children:E})});h.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",b=Pl(p),v=Pe.forwardRef((S,w)=>{const{scope:M,children:E,...k}=S,D=Pe.useRef(null),N=ut(w,D),_=l(p,M);return Pe.useEffect(()=>(_.itemMap.set(D,{ref:D,...k}),()=>void _.itemMap.delete(D))),R.jsx(b,{[g]:"",ref:N,children:E})});v.displayName=p;function x(S){const w=l(n+"CollectionConsumer",S);return Pe.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((_,A)=>k.indexOf(_.ref.current)-k.indexOf(A.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},x,r]}var VA=O.createContext(void 0);function J1(n){const e=O.useContext(VA);return n||e||"ltr"}function Sr(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function qA(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n);O.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var FA="DismissableLayer",up="dismissableLayer.update",$A="dismissableLayer.pointerDownOutside",GA="dismissableLayer.focusOutside",o0,eS=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zp=O.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:a,onDismiss:u,...f}=n,h=O.useContext(eS),[p,g]=O.useState(null),b=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=O.useState({}),x=ut(e,A=>g(A)),S=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),M=S.indexOf(w),E=p?S.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,D=E>=M,N=XA(A=>{const z=A.target,V=[...h.branches].some(ee=>ee.contains(z));!D||V||(o==null||o(A),a==null||a(A),A.defaultPrevented||u==null||u())},b),_=WA(A=>{const z=A.target;[...h.branches].some(ee=>ee.contains(z))||(l==null||l(A),a==null||a(A),A.defaultPrevented||u==null||u())},b);return qA(A=>{E===h.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},b),O.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(o0=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),s0(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=o0)}},[p,b,t,h]),O.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),s0())},[p,h]),O.useEffect(()=>{const A=()=>v({});return document.addEventListener(up,A),()=>document.removeEventListener(up,A)},[]),R.jsx(st.div,{...f,ref:x,style:{pointerEvents:k?D?"auto":"none":void 0,...n.style},onFocusCapture:Ce(n.onFocusCapture,_.onFocusCapture),onBlurCapture:Ce(n.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ce(n.onPointerDownCapture,N.onPointerDownCapture)})});Zp.displayName=FA;var YA="DismissableLayerBranch",KA=O.forwardRef((n,e)=>{const t=O.useContext(eS),r=O.useRef(null),o=ut(e,r);return O.useEffect(()=>{const l=r.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),R.jsx(st.div,{...n,ref:o})});KA.displayName=YA;function XA(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n),r=O.useRef(!1),o=O.useRef(()=>{});return O.useEffect(()=>{const l=u=>{if(u.target&&!r.current){let f=function(){tS($A,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function WA(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n),r=O.useRef(!1);return O.useEffect(()=>{const o=l=>{l.target&&!r.current&&tS(GA,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s0(){const n=new CustomEvent(up);document.dispatchEvent(n)}function tS(n,e,t,{discrete:r}){const o=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?N1(o,l):o.dispatchEvent(l)}var Mh=0;function QA(){O.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??l0()),document.body.insertAdjacentElement("beforeend",n[1]??l0()),Mh++,()=>{Mh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mh--}},[])}function l0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Eh="focusScope.autoFocusOnMount",Th="focusScope.autoFocusOnUnmount",a0={bubbles:!1,cancelable:!0},ZA="FocusScope",nS=O.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...a}=n,[u,f]=O.useState(null),h=Sr(o),p=Sr(l),g=O.useRef(null),b=ut(e,S=>f(S)),v=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let S=function(k){if(v.paused||!u)return;const D=k.target;u.contains(D)?g.current=D:Qr(g.current,{select:!0})},w=function(k){if(v.paused||!u)return;const D=k.relatedTarget;D!==null&&(u.contains(D)||Qr(g.current,{select:!0}))},M=function(k){if(document.activeElement===document.body)for(const N of k)N.removedNodes.length>0&&Qr(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const E=new MutationObserver(M);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),E.disconnect()}}},[r,u,v.paused]),O.useEffect(()=>{if(u){u0.add(v);const S=document.activeElement;if(!u.contains(S)){const M=new CustomEvent(Eh,a0);u.addEventListener(Eh,h),u.dispatchEvent(M),M.defaultPrevented||(JA(iN(rS(u)),{select:!0}),document.activeElement===S&&Qr(u))}return()=>{u.removeEventListener(Eh,h),setTimeout(()=>{const M=new CustomEvent(Th,a0);u.addEventListener(Th,p),u.dispatchEvent(M),M.defaultPrevented||Qr(S??document.body,{select:!0}),u.removeEventListener(Th,p),u0.remove(v)},0)}}},[u,h,p,v]);const x=O.useCallback(S=>{if(!t&&!r||v.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,M=document.activeElement;if(w&&M){const E=S.currentTarget,[k,D]=eN(E);k&&D?!S.shiftKey&&M===D?(S.preventDefault(),t&&Qr(k,{select:!0})):S.shiftKey&&M===k&&(S.preventDefault(),t&&Qr(D,{select:!0})):M===E&&S.preventDefault()}},[t,r,v.paused]);return R.jsx(st.div,{tabIndex:-1,...a,ref:b,onKeyDown:x})});nS.displayName=ZA;function JA(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Qr(r,{select:e}),document.activeElement!==t)return}function eN(n){const e=rS(n),t=c0(e,n),r=c0(e.reverse(),n);return[t,r]}function rS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function c0(n,e){for(const t of n)if(!tN(t,{upTo:e}))return t}function tN(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function nN(n){return n instanceof HTMLInputElement&&"select"in n}function Qr(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&nN(n)&&e&&n.select()}}var u0=rN();function rN(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=f0(n,e),n.unshift(e)},remove(e){var t;n=f0(n,e),(t=n[0])==null||t.resume()}}}function f0(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function iN(n){return n.filter(e=>e.tagName!=="A")}var oN=S1[" useId ".trim().toString()]||(()=>{}),sN=0;function eu(n){const[e,t]=O.useState(oN());return di(()=>{t(r=>r??String(sN++))},[n]),e?`radix-${e}`:""}const lN=["top","right","bottom","left"],hi=Math.min,sn=Math.max,tu=Math.round,kc=Math.floor,$n=n=>({x:n,y:n}),aN={left:"right",right:"left",bottom:"top",top:"bottom"},cN={start:"end",end:"start"};function fp(n,e,t){return sn(n,hi(e,t))}function wr(n,e){return typeof n=="function"?n(e):n}function Cr(n){return n.split("-")[0]}function vs(n){return n.split("-")[1]}function Jp(n){return n==="x"?"y":"x"}function em(n){return n==="y"?"height":"width"}function br(n){return["top","bottom"].includes(Cr(n))?"y":"x"}function tm(n){return Jp(br(n))}function uN(n,e,t){t===void 0&&(t=!1);const r=vs(n),o=tm(n),l=em(o);let a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=nu(a)),[a,nu(a)]}function fN(n){const e=nu(n);return[dp(n),e,dp(e)]}function dp(n){return n.replace(/start|end/g,e=>cN[e])}function dN(n,e,t){const r=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?l:a;default:return[]}}function hN(n,e,t,r){const o=vs(n);let l=dN(Cr(n),t==="start",r);return o&&(l=l.map(a=>a+"-"+o),e&&(l=l.concat(l.map(dp)))),l}function nu(n){return n.replace(/left|right|bottom|top/g,e=>aN[e])}function pN(n){return{top:0,right:0,bottom:0,left:0,...n}}function iS(n){return typeof n!="number"?pN(n):{top:n,right:n,bottom:n,left:n}}function ru(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function d0(n,e,t){let{reference:r,floating:o}=n;const l=br(e),a=tm(e),u=em(a),f=Cr(e),h=l==="y",p=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,b=r[u]/2-o[u]/2;let v;switch(f){case"top":v={x:p,y:r.y-o.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-o.width,y:g};break;default:v={x:r.x,y:r.y}}switch(vs(e)){case"start":v[a]-=b*(t&&h?-1:1);break;case"end":v[a]+=b*(t&&h?-1:1);break}return v}const mN=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:a}=t,u=l.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:p,y:g}=d0(h,r,f),b=r,v={},x=0;for(let S=0;S<u.length;S++){const{name:w,fn:M}=u[S],{x:E,y:k,data:D,reset:N}=await M({x:p,y:g,initialPlacement:r,placement:b,strategy:o,middlewareData:v,rects:h,platform:a,elements:{reference:n,floating:e}});p=E??p,g=k??g,v={...v,[w]:{...v[w],...D}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(b=N.placement),N.rects&&(h=N.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):N.rects),{x:p,y:g}=d0(h,b,f)),S=-1)}return{x:p,y:g,placement:b,strategy:o,middlewareData:v}};async function jl(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:a,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:v=0}=wr(e,n),x=iS(v),w=u[b?g==="floating"?"reference":"floating":g],M=ru(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(w)))==null||t?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),E=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),D=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},N=ru(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:k,strategy:f}):E);return{top:(M.top-N.top+x.top)/D.y,bottom:(N.bottom-M.bottom+x.bottom)/D.y,left:(M.left-N.left+x.left)/D.x,right:(N.right-M.right+x.right)/D.x}}const gN=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:l,platform:a,elements:u,middlewareData:f}=e,{element:h,padding:p=0}=wr(n,e)||{};if(h==null)return{};const g=iS(p),b={x:t,y:r},v=tm(o),x=em(v),S=await a.getDimensions(h),w=v==="y",M=w?"top":"left",E=w?"bottom":"right",k=w?"clientHeight":"clientWidth",D=l.reference[x]+l.reference[v]-b[v]-l.floating[x],N=b[v]-l.reference[v],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let A=_?_[k]:0;(!A||!await(a.isElement==null?void 0:a.isElement(_)))&&(A=u.floating[k]||l.floating[x]);const z=D/2-N/2,V=A/2-S[x]/2-1,ee=hi(g[M],V),oe=hi(g[E],V),ne=ee,fe=A-S[x]-oe,ye=A/2-S[x]/2+z,de=fp(ne,ye,fe),H=!f.arrow&&vs(o)!=null&&ye!==de&&l.reference[x]/2-(ye<ne?ee:oe)-S[x]/2<0,W=H?ye<ne?ye-ne:ye-fe:0;return{[v]:b[v]+W,data:{[v]:de,centerOffset:ye-de-W,...H&&{alignmentOffset:W}},reset:H}}}),yN=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:l,rects:a,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...w}=wr(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const M=Cr(o),E=br(u),k=Cr(u)===u,D=await(f.isRTL==null?void 0:f.isRTL(h.floating)),N=b||(k||!S?[nu(u)]:fN(u)),_=x!=="none";!b&&_&&N.push(...hN(u,S,x,D));const A=[u,...N],z=await jl(e,w),V=[];let ee=((r=l.flip)==null?void 0:r.overflows)||[];if(p&&V.push(z[M]),g){const de=uN(o,a,D);V.push(z[de[0]],z[de[1]])}if(ee=[...ee,{placement:o,overflows:V}],!V.every(de=>de<=0)){var oe,ne;const de=(((oe=l.flip)==null?void 0:oe.index)||0)+1,H=A[de];if(H){var fe;const $=g==="alignment"?E!==br(H):!1,Z=((fe=ee[0])==null?void 0:fe.overflows[0])>0;if(!$||Z)return{data:{index:de,overflows:ee},reset:{placement:H}}}let W=(ne=ee.filter($=>$.overflows[0]<=0).sort(($,Z)=>$.overflows[1]-Z.overflows[1])[0])==null?void 0:ne.placement;if(!W)switch(v){case"bestFit":{var ye;const $=(ye=ee.filter(Z=>{if(_){const L=br(Z.placement);return L===E||L==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((Z,L)=>Z[1]-L[1])[0])==null?void 0:ye[0];$&&(W=$);break}case"initialPlacement":W=u;break}if(o!==W)return{reset:{placement:W}}}return{}}}};function h0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function p0(n){return lN.some(e=>n[e]>=0)}const bN=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=wr(n,e);switch(r){case"referenceHidden":{const l=await jl(e,{...o,elementContext:"reference"}),a=h0(l,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:p0(a)}}}case"escaped":{const l=await jl(e,{...o,altBoundary:!0}),a=h0(l,t.floating);return{data:{escapedOffsets:a,escaped:p0(a)}}}default:return{}}}}};async function vN(n,e){const{placement:t,platform:r,elements:o}=n,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Cr(t),u=vs(t),f=br(t)==="y",h=["left","top"].includes(a)?-1:1,p=l&&f?-1:1,g=wr(e,n);let{mainAxis:b,crossAxis:v,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof x=="number"&&(v=u==="end"?x*-1:x),f?{x:v*p,y:b*h}:{x:b*h,y:v*p}}const xN=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:l,placement:a,middlewareData:u}=e,f=await vN(e,n);return a===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:a}}}}},SN=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:w=>{let{x:M,y:E}=w;return{x:M,y:E}}},...f}=wr(n,e),h={x:t,y:r},p=await jl(e,f),g=br(Cr(o)),b=Jp(g);let v=h[b],x=h[g];if(l){const w=b==="y"?"top":"left",M=b==="y"?"bottom":"right",E=v+p[w],k=v-p[M];v=fp(E,v,k)}if(a){const w=g==="y"?"top":"left",M=g==="y"?"bottom":"right",E=x+p[w],k=x-p[M];x=fp(E,x,k)}const S=u.fn({...e,[b]:v,[g]:x});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[b]:l,[g]:a}}}}}},wN=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:l,middlewareData:a}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=wr(n,e),p={x:t,y:r},g=br(o),b=Jp(g);let v=p[b],x=p[g];const S=wr(u,e),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const k=b==="y"?"height":"width",D=l.reference[b]-l.floating[k]+w.mainAxis,N=l.reference[b]+l.reference[k]-w.mainAxis;v<D?v=D:v>N&&(v=N)}if(h){var M,E;const k=b==="y"?"width":"height",D=["top","left"].includes(Cr(o)),N=l.reference[g]-l.floating[k]+(D&&((M=a.offset)==null?void 0:M[g])||0)+(D?0:w.crossAxis),_=l.reference[g]+l.reference[k]+(D?0:((E=a.offset)==null?void 0:E[g])||0)-(D?w.crossAxis:0);x<N?x=N:x>_&&(x=_)}return{[b]:v,[g]:x}}}},CN=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:l,platform:a,elements:u}=e,{apply:f=()=>{},...h}=wr(n,e),p=await jl(e,h),g=Cr(o),b=vs(o),v=br(o)==="y",{width:x,height:S}=l.floating;let w,M;g==="top"||g==="bottom"?(w=g,M=b===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(M=g,w=b==="end"?"top":"bottom");const E=S-p.top-p.bottom,k=x-p.left-p.right,D=hi(S-p[w],E),N=hi(x-p[M],k),_=!e.middlewareData.shift;let A=D,z=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(z=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=E),_&&!b){const ee=sn(p.left,0),oe=sn(p.right,0),ne=sn(p.top,0),fe=sn(p.bottom,0);v?z=x-2*(ee!==0||oe!==0?ee+oe:sn(p.left,p.right)):A=S-2*(ne!==0||fe!==0?ne+fe:sn(p.top,p.bottom))}await f({...e,availableWidth:z,availableHeight:A});const V=await a.getDimensions(u.floating);return x!==V.width||S!==V.height?{reset:{rects:!0}}:{}}}};function ku(){return typeof window<"u"}function xs(n){return oS(n)?(n.nodeName||"").toLowerCase():"#document"}function cn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Xn(n){var e;return(e=(oS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function oS(n){return ku()?n instanceof Node||n instanceof cn(n).Node:!1}function Rn(n){return ku()?n instanceof Element||n instanceof cn(n).Element:!1}function Gn(n){return ku()?n instanceof HTMLElement||n instanceof cn(n).HTMLElement:!1}function m0(n){return!ku()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof cn(n).ShadowRoot}function na(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=_n(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function MN(n){return["table","td","th"].includes(xs(n))}function Ou(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function nm(n){const e=rm(),t=Rn(n)?_n(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function EN(n){let e=pi(n);for(;Gn(e)&&!fs(e);){if(nm(e))return e;if(Ou(e))return null;e=pi(e)}return null}function rm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fs(n){return["html","body","#document"].includes(xs(n))}function _n(n){return cn(n).getComputedStyle(n)}function Au(n){return Rn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function pi(n){if(xs(n)==="html")return n;const e=n.assignedSlot||n.parentNode||m0(n)&&n.host||Xn(n);return m0(e)?e.host:e}function sS(n){const e=pi(n);return fs(e)?n.ownerDocument?n.ownerDocument.body:n.body:Gn(e)&&na(e)?e:sS(e)}function Hl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=sS(n),l=o===((r=n.ownerDocument)==null?void 0:r.body),a=cn(o);if(l){const u=hp(a);return e.concat(a,a.visualViewport||[],na(o)?o:[],u&&t?Hl(u):[])}return e.concat(o,Hl(o,[],t))}function hp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function lS(n){const e=_n(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Gn(n),l=o?n.offsetWidth:t,a=o?n.offsetHeight:r,u=tu(t)!==l||tu(r)!==a;return u&&(t=l,r=a),{width:t,height:r,$:u}}function im(n){return Rn(n)?n:n.contextElement}function ls(n){const e=im(n);if(!Gn(e))return $n(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:l}=lS(e);let a=(l?tu(t.width):t.width)/r,u=(l?tu(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const TN=$n(0);function aS(n){const e=cn(n);return!rm()||!e.visualViewport?TN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kN(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==cn(n)?!1:e}function Zi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),l=im(n);let a=$n(1);e&&(r?Rn(r)&&(a=ls(r)):a=ls(n));const u=kN(l,t,r)?aS(l):$n(0);let f=(o.left+u.x)/a.x,h=(o.top+u.y)/a.y,p=o.width/a.x,g=o.height/a.y;if(l){const b=cn(l),v=r&&Rn(r)?cn(r):r;let x=b,S=hp(x);for(;S&&r&&v!==x;){const w=ls(S),M=S.getBoundingClientRect(),E=_n(S),k=M.left+(S.clientLeft+parseFloat(E.paddingLeft))*w.x,D=M.top+(S.clientTop+parseFloat(E.paddingTop))*w.y;f*=w.x,h*=w.y,p*=w.x,g*=w.y,f+=k,h+=D,x=cn(S),S=hp(x)}}return ru({width:p,height:g,x:f,y:h})}function om(n,e){const t=Au(n).scrollLeft;return e?e.left+t:Zi(Xn(n)).left+t}function cS(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:om(n,r)),l=r.top+e.scrollTop;return{x:o,y:l}}function ON(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const l=o==="fixed",a=Xn(r),u=e?Ou(e.floating):!1;if(r===a||u&&l)return t;let f={scrollLeft:0,scrollTop:0},h=$n(1);const p=$n(0),g=Gn(r);if((g||!g&&!l)&&((xs(r)!=="body"||na(a))&&(f=Au(r)),Gn(r))){const v=Zi(r);h=ls(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const b=a&&!g&&!l?cS(a,f,!0):$n(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:t.y*h.y-f.scrollTop*h.y+p.y+b.y}}function AN(n){return Array.from(n.getClientRects())}function NN(n){const e=Xn(n),t=Au(n),r=n.ownerDocument.body,o=sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+om(n);const u=-t.scrollTop;return _n(r).direction==="rtl"&&(a+=sn(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:a,y:u}}function DN(n,e){const t=cn(n),r=Xn(n),o=t.visualViewport;let l=r.clientWidth,a=r.clientHeight,u=0,f=0;if(o){l=o.width,a=o.height;const h=rm();(!h||h&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:a,x:u,y:f}}function RN(n,e){const t=Zi(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,l=Gn(n)?ls(n):$n(1),a=n.clientWidth*l.x,u=n.clientHeight*l.y,f=o*l.x,h=r*l.y;return{width:a,height:u,x:f,y:h}}function g0(n,e,t){let r;if(e==="viewport")r=DN(n,t);else if(e==="document")r=NN(Xn(n));else if(Rn(e))r=RN(e,t);else{const o=aS(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ru(r)}function uS(n,e){const t=pi(n);return t===e||!Rn(t)||fs(t)?!1:_n(t).position==="fixed"||uS(t,e)}function _N(n,e){const t=e.get(n);if(t)return t;let r=Hl(n,[],!1).filter(u=>Rn(u)&&xs(u)!=="body"),o=null;const l=_n(n).position==="fixed";let a=l?pi(n):n;for(;Rn(a)&&!fs(a);){const u=_n(a),f=nm(a);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||na(a)&&!f&&uS(n,a))?r=r.filter(p=>p!==a):o=u,a=pi(a)}return e.set(n,r),r}function zN(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const a=[...t==="clippingAncestors"?Ou(e)?[]:_N(e,this._c):[].concat(t),r],u=a[0],f=a.reduce((h,p)=>{const g=g0(e,p,o);return h.top=sn(g.top,h.top),h.right=hi(g.right,h.right),h.bottom=hi(g.bottom,h.bottom),h.left=sn(g.left,h.left),h},g0(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function LN(n){const{width:e,height:t}=lS(n);return{width:e,height:t}}function BN(n,e,t){const r=Gn(e),o=Xn(e),l=t==="fixed",a=Zi(n,!0,l,e);let u={scrollLeft:0,scrollTop:0};const f=$n(0);function h(){f.x=om(o)}if(r||!r&&!l)if((xs(e)!=="body"||na(o))&&(u=Au(e)),r){const v=Zi(e,!0,l,e);f.x=v.x+e.clientLeft,f.y=v.y+e.clientTop}else o&&h();l&&!r&&o&&h();const p=o&&!r&&!l?cS(o,u):$n(0),g=a.left+u.scrollLeft-f.x-p.x,b=a.top+u.scrollTop-f.y-p.y;return{x:g,y:b,width:a.width,height:a.height}}function kh(n){return _n(n).position==="static"}function y0(n,e){if(!Gn(n)||_n(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Xn(n)===t&&(t=t.ownerDocument.body),t}function fS(n,e){const t=cn(n);if(Ou(n))return t;if(!Gn(n)){let o=pi(n);for(;o&&!fs(o);){if(Rn(o)&&!kh(o))return o;o=pi(o)}return t}let r=y0(n,e);for(;r&&MN(r)&&kh(r);)r=y0(r,e);return r&&fs(r)&&kh(r)&&!nm(r)?t:r||EN(n)||t}const PN=async function(n){const e=this.getOffsetParent||fS,t=this.getDimensions,r=await t(n.floating);return{reference:BN(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jN(n){return _n(n).direction==="rtl"}const HN={convertOffsetParentRelativeRectToViewportRelativeRect:ON,getDocumentElement:Xn,getClippingRect:zN,getOffsetParent:fS,getElementRects:PN,getClientRects:AN,getDimensions:LN,getScale:ls,isElement:Rn,isRTL:jN};function dS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function IN(n,e){let t=null,r;const o=Xn(n);function l(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function a(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=n.getBoundingClientRect(),{left:p,top:g,width:b,height:v}=h;if(u||e(),!b||!v)return;const x=kc(g),S=kc(o.clientWidth-(p+b)),w=kc(o.clientHeight-(g+v)),M=kc(p),k={rootMargin:-x+"px "+-S+"px "+-w+"px "+-M+"px",threshold:sn(0,hi(1,f))||1};let D=!0;function N(_){const A=_[0].intersectionRatio;if(A!==f){if(!D)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!dS(h,n.getBoundingClientRect())&&a(),D=!1}try{t=new IntersectionObserver(N,{...k,root:o.ownerDocument})}catch{t=new IntersectionObserver(N,k)}t.observe(n)}return a(!0),l}function UN(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=im(n),p=o||l?[...h?Hl(h):[],...Hl(e)]:[];p.forEach(M=>{o&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const g=h&&u?IN(h,t):null;let b=-1,v=null;a&&(v=new ResizeObserver(M=>{let[E]=M;E&&E.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=v)==null||k.observe(e)})),t()}),h&&!f&&v.observe(h),v.observe(e));let x,S=f?Zi(n):null;f&&w();function w(){const M=Zi(n);S&&!dS(S,M)&&t(),S=M,x=requestAnimationFrame(w)}return t(),()=>{var M;p.forEach(E=>{o&&E.removeEventListener("scroll",t),l&&E.removeEventListener("resize",t)}),g==null||g(),(M=v)==null||M.disconnect(),v=null,f&&cancelAnimationFrame(x)}}const VN=xN,qN=SN,FN=yN,$N=CN,GN=bN,b0=gN,YN=wN,KN=(n,e,t)=>{const r=new Map,o={platform:HN,...t},l={...o.platform,_c:r};return mN(n,e,{...o,platform:l})};var Fc=typeof document<"u"?O.useLayoutEffect:O.useEffect;function iu(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!iu(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const l=o[r];if(!(l==="_owner"&&n.$$typeof)&&!iu(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function hS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function v0(n,e){const t=hS(n);return Math.round(e*t)/t}function Oh(n){const e=O.useRef(n);return Fc(()=>{e.current=n}),e}function XN(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:a}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[p,g]=O.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=O.useState(r);iu(b,r)||v(r);const[x,S]=O.useState(null),[w,M]=O.useState(null),E=O.useCallback($=>{$!==_.current&&(_.current=$,S($))},[]),k=O.useCallback($=>{$!==A.current&&(A.current=$,M($))},[]),D=l||x,N=a||w,_=O.useRef(null),A=O.useRef(null),z=O.useRef(p),V=f!=null,ee=Oh(f),oe=Oh(o),ne=Oh(h),fe=O.useCallback(()=>{if(!_.current||!A.current)return;const $={placement:e,strategy:t,middleware:b};oe.current&&($.platform=oe.current),KN(_.current,A.current,$).then(Z=>{const L={...Z,isPositioned:ne.current!==!1};ye.current&&!iu(z.current,L)&&(z.current=L,Eu.flushSync(()=>{g(L)}))})},[b,e,t,oe,ne]);Fc(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[h]);const ye=O.useRef(!1);Fc(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Fc(()=>{if(D&&(_.current=D),N&&(A.current=N),D&&N){if(ee.current)return ee.current(D,N,fe);fe()}},[D,N,fe,ee,V]);const de=O.useMemo(()=>({reference:_,floating:A,setReference:E,setFloating:k}),[E,k]),H=O.useMemo(()=>({reference:D,floating:N}),[D,N]),W=O.useMemo(()=>{const $={position:t,left:0,top:0};if(!H.floating)return $;const Z=v0(H.floating,p.x),L=v0(H.floating,p.y);return u?{...$,transform:"translate("+Z+"px, "+L+"px)",...hS(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:L}},[t,u,H.floating,p.x,p.y]);return O.useMemo(()=>({...p,update:fe,refs:de,elements:H,floatingStyles:W}),[p,fe,de,H,W])}const WN=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?b0({element:r.current,padding:o}).fn(t):{}:r?b0({element:r,padding:o}).fn(t):{}}}},QN=(n,e)=>({...VN(n),options:[n,e]}),ZN=(n,e)=>({...qN(n),options:[n,e]}),JN=(n,e)=>({...YN(n),options:[n,e]}),eD=(n,e)=>({...FN(n),options:[n,e]}),tD=(n,e)=>({...$N(n),options:[n,e]}),nD=(n,e)=>({...GN(n),options:[n,e]}),rD=(n,e)=>({...WN(n),options:[n,e]});var iD="Arrow",pS=O.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...l}=n;return R.jsx(st.svg,{...l,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});pS.displayName=iD;var oD=pS,sm="Popper",[mS,Nu]=io(sm),[sD,gS]=mS(sm),yS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=O.useState(null);return R.jsx(sD,{scope:e,anchor:r,onAnchorChange:o,children:t})};yS.displayName=sm;var bS="PopperAnchor",vS=O.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,l=gS(bS,t),a=O.useRef(null),u=ut(e,a);return O.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:R.jsx(st.div,{...o,ref:u})});vS.displayName=bS;var lm="PopperContent",[lD,aD]=mS(lm),xS=O.forwardRef((n,e)=>{var we,Re,qe,Vt,Tn,kn;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:v="optimized",onPlaced:x,...S}=n,w=gS(lm,t),[M,E]=O.useState(null),k=ut(e,Qn=>E(Qn)),[D,N]=O.useState(null),_=O1(D),A=(_==null?void 0:_.width)??0,z=(_==null?void 0:_.height)??0,V=r+(l!=="center"?"-"+l:""),ee=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},oe=Array.isArray(h)?h:[h],ne=oe.length>0,fe={padding:ee,boundary:oe.filter(uD),altBoundary:ne},{refs:ye,floatingStyles:de,placement:H,isPositioned:W,middlewareData:$}=XN({strategy:"fixed",placement:V,whileElementsMounted:(...Qn)=>UN(...Qn,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[QN({mainAxis:o+z,alignmentAxis:a}),f&&ZN({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?JN():void 0,...fe}),f&&eD({...fe}),tD({...fe,apply:({elements:Qn,rects:ao,availableWidth:ef,availableHeight:tf})=>{const{width:fn,height:nf}=ao.reference,wi=Qn.floating.style;wi.setProperty("--radix-popper-available-width",`${ef}px`),wi.setProperty("--radix-popper-available-height",`${tf}px`),wi.setProperty("--radix-popper-anchor-width",`${fn}px`),wi.setProperty("--radix-popper-anchor-height",`${nf}px`)}}),D&&rD({element:D,padding:u}),fD({arrowWidth:A,arrowHeight:z}),b&&nD({strategy:"referenceHidden",...fe})]}),[Z,L]=CS(H),G=Sr(x);di(()=>{W&&(G==null||G())},[W,G]);const te=(we=$.arrow)==null?void 0:we.x,J=(Re=$.arrow)==null?void 0:Re.y,ie=((qe=$.arrow)==null?void 0:qe.centerOffset)!==0,[Se,he]=O.useState();return di(()=>{M&&he(window.getComputedStyle(M).zIndex)},[M]),R.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:W?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Vt=$.transformOrigin)==null?void 0:Vt.x,(Tn=$.transformOrigin)==null?void 0:Tn.y].join(" "),...((kn=$.hide)==null?void 0:kn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:R.jsx(lD,{scope:t,placedSide:Z,onArrowChange:N,arrowX:te,arrowY:J,shouldHideArrow:ie,children:R.jsx(st.div,{"data-side":Z,"data-align":L,...S,ref:k,style:{...S.style,animation:W?void 0:"none"}})})})});xS.displayName=lm;var SS="PopperArrow",cD={top:"bottom",right:"left",bottom:"top",left:"right"},wS=O.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,l=aD(SS,r),a=cD[l.placedSide];return R.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:R.jsx(oD,{...o,ref:t,style:{...o.style,display:"block"}})})});wS.displayName=SS;function uD(n){return n!==null}var fD=n=>({name:"transformOrigin",options:n,fn(e){var w,M,E;const{placement:t,rects:r,middlewareData:o}=e,a=((w=o.arrow)==null?void 0:w.centerOffset)!==0,u=a?0:n.arrowWidth,f=a?0:n.arrowHeight,[h,p]=CS(t),g={start:"0%",center:"50%",end:"100%"}[p],b=(((M=o.arrow)==null?void 0:M.x)??0)+u/2,v=(((E=o.arrow)==null?void 0:E.y)??0)+f/2;let x="",S="";return h==="bottom"?(x=a?g:`${b}px`,S=`${-f}px`):h==="top"?(x=a?g:`${b}px`,S=`${r.floating.height+f}px`):h==="right"?(x=`${-f}px`,S=a?g:`${v}px`):h==="left"&&(x=`${r.floating.width+f}px`,S=a?g:`${v}px`),{data:{x,y:S}}}});function CS(n){const[e,t="center"]=n.split("-");return[e,t]}var MS=yS,ES=vS,TS=xS,kS=wS,dD="Portal",am=O.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[o,l]=O.useState(!1);di(()=>l(!0),[]);const a=t||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?A1.createPortal(R.jsx(st.div,{...r,ref:e}),a):null});am.displayName=dD;var Ah="rovingFocusGroup.onEntryFocus",hD={bubbles:!1,cancelable:!0},ra="RovingFocusGroup",[pp,OS,pD]=Z1(ra),[mD,AS]=io(ra,[pD]),[gD,yD]=mD(ra),NS=O.forwardRef((n,e)=>R.jsx(pp.Provider,{scope:n.__scopeRovingFocusGroup,children:R.jsx(pp.Slot,{scope:n.__scopeRovingFocusGroup,children:R.jsx(bD,{...n,ref:e})})}));NS.displayName=ra;var bD=O.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:l,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=n,b=O.useRef(null),v=ut(e,b),x=J1(l),[S,w]=Mu({prop:a,defaultProp:u??null,onChange:f,caller:ra}),[M,E]=O.useState(!1),k=Sr(h),D=OS(t),N=O.useRef(!1),[_,A]=O.useState(0);return O.useEffect(()=>{const z=b.current;if(z)return z.addEventListener(Ah,k),()=>z.removeEventListener(Ah,k)},[k]),R.jsx(gD,{scope:t,orientation:r,dir:x,loop:o,currentTabStopId:S,onItemFocus:O.useCallback(z=>w(z),[w]),onItemShiftTab:O.useCallback(()=>E(!0),[]),onFocusableItemAdd:O.useCallback(()=>A(z=>z+1),[]),onFocusableItemRemove:O.useCallback(()=>A(z=>z-1),[]),children:R.jsx(st.div,{tabIndex:M||_===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...n.style},onMouseDown:Ce(n.onMouseDown,()=>{N.current=!0}),onFocus:Ce(n.onFocus,z=>{const V=!N.current;if(z.target===z.currentTarget&&V&&!M){const ee=new CustomEvent(Ah,hD);if(z.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const oe=D().filter(H=>H.focusable),ne=oe.find(H=>H.active),fe=oe.find(H=>H.id===S),de=[ne,fe,...oe].filter(Boolean).map(H=>H.ref.current);_S(de,p)}}N.current=!1}),onBlur:Ce(n.onBlur,()=>E(!1))})})}),DS="RovingFocusGroupItem",RS=O.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:l,children:a,...u}=n,f=eu(),h=l||f,p=yD(DS,t),g=p.currentTabStopId===h,b=OS(t),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:S}=p;return O.useEffect(()=>{if(r)return v(),()=>x()},[r,v,x]),R.jsx(pp.ItemSlot,{scope:t,id:h,focusable:r,active:o,children:R.jsx(st.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:Ce(n.onMouseDown,w=>{r?p.onItemFocus(h):w.preventDefault()}),onFocus:Ce(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ce(n.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){p.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const M=SD(w,p.orientation,p.dir);if(M!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let k=b().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")k.reverse();else if(M==="prev"||M==="next"){M==="prev"&&k.reverse();const D=k.indexOf(w.currentTarget);k=p.loop?wD(k,D+1):k.slice(D+1)}setTimeout(()=>_S(k))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:S!=null}):a})})});RS.displayName=DS;var vD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xD(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SD(n,e,t){const r=xD(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return vD[r]}function _S(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function wD(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var CD=NS,MD=RS,ED=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Wo=new WeakMap,Oc=new WeakMap,Ac={},Nh=0,zS=function(n){return n&&(n.host||zS(n.parentNode))},TD=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=zS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},kD=function(n,e,t,r){var o=TD(e,Array.isArray(n)?n:[n]);Ac[t]||(Ac[t]=new WeakMap);var l=Ac[t],a=[],u=new Set,f=new Set(o),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};o.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))p(b);else try{var v=b.getAttribute(r),x=v!==null&&v!=="false",S=(Wo.get(b)||0)+1,w=(l.get(b)||0)+1;Wo.set(b,S),l.set(b,w),a.push(b),S===1&&x&&Oc.set(b,!0),w===1&&b.setAttribute(t,"true"),x||b.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return p(e),u.clear(),Nh++,function(){a.forEach(function(g){var b=Wo.get(g)-1,v=l.get(g)-1;Wo.set(g,b),l.set(g,v),b||(Oc.has(g)||g.removeAttribute(r),Oc.delete(g)),v||g.removeAttribute(t)}),Nh--,Nh||(Wo=new WeakMap,Wo=new WeakMap,Oc=new WeakMap,Ac={})}},OD=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=ED(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),kD(r,o,t,"aria-hidden")):function(){return null}},qn=function(){return qn=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},qn.apply(this,arguments)};function LS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function AD(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var $c="right-scroll-bar-position",Gc="width-before-scroll-bar",ND="with-scroll-bars-hidden",DD="--removed-body-scroll-bar-size";function Dh(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function RD(n,e){var t=O.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var _D=typeof window<"u"?O.useLayoutEffect:O.useEffect,x0=new WeakMap;function zD(n,e){var t=RD(null,function(r){return n.forEach(function(o){return Dh(o,r)})});return _D(function(){var r=x0.get(t);if(r){var o=new Set(r),l=new Set(n),a=t.current;o.forEach(function(u){l.has(u)||Dh(u,null)}),l.forEach(function(u){o.has(u)||Dh(u,a)})}x0.set(t,n)},[n]),t}function LD(n){return n}function BD(n,e){e===void 0&&(e=LD);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var a=e(l,r);return t.push(a),function(){t=t.filter(function(u){return u!==a})}},assignSyncMedium:function(l){for(r=!0;t.length;){var a=t;t=[],a.forEach(l)}t={push:function(u){return l(u)},filter:function(){return t}}},assignMedium:function(l){r=!0;var a=[];if(t.length){var u=t;t=[],u.forEach(l),a=t}var f=function(){var p=a;a=[],p.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),t}}}};return o}function PD(n){n===void 0&&(n={});var e=BD(null);return e.options=qn({async:!0,ssr:!1},n),e}var BS=function(n){var e=n.sideCar,t=LS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,qn({},t))};BS.isSideCarExport=!0;function jD(n,e){return n.useMedium(e),BS}var PS=PD(),Rh=function(){},Du=O.forwardRef(function(n,e){var t=O.useRef(null),r=O.useState({onScrollCapture:Rh,onWheelCapture:Rh,onTouchMoveCapture:Rh}),o=r[0],l=r[1],a=n.forwardProps,u=n.children,f=n.className,h=n.removeScrollBar,p=n.enabled,g=n.shards,b=n.sideCar,v=n.noIsolation,x=n.inert,S=n.allowPinchZoom,w=n.as,M=w===void 0?"div":w,E=n.gapMode,k=LS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,N=zD([t,e]),_=qn(qn({},k),o);return O.createElement(O.Fragment,null,p&&O.createElement(D,{sideCar:PS,removeScrollBar:h,shards:g,noIsolation:v,inert:x,setCallbacks:l,allowPinchZoom:!!S,lockRef:t,gapMode:E}),a?O.cloneElement(O.Children.only(u),qn(qn({},_),{ref:N})):O.createElement(M,qn({},_,{className:f,ref:N}),u))});Du.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Du.classNames={fullWidth:Gc,zeroRight:$c};var HD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ID(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=HD();return e&&n.setAttribute("nonce",e),n}function UD(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function VD(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var qD=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ID())&&(UD(e,t),VD(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FD=function(){var n=qD();return function(e,t){O.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jS=function(){var n=FD(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},$D={left:0,top:0,right:0,gap:0},_h=function(n){return parseInt(n||"",10)||0},GD=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[_h(t),_h(r),_h(o)]},YD=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $D;var e=GD(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},KD=jS(),as="data-scroll-locked",XD=function(n,e,t,r){var o=n.left,l=n.top,a=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(ND,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(as,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(as,`] {
    `).concat(DD,": ").concat(u,`px;
  }
`)},S0=function(){var n=parseInt(document.body.getAttribute(as)||"0",10);return isFinite(n)?n:0},WD=function(){O.useEffect(function(){return document.body.setAttribute(as,(S0()+1).toString()),function(){var n=S0()-1;n<=0?document.body.removeAttribute(as):document.body.setAttribute(as,n.toString())}},[])},QD=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;WD();var l=O.useMemo(function(){return YD(o)},[o]);return O.createElement(KD,{styles:XD(l,!e,o,t?"":"!important")})},mp=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return mp=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{mp=!1}var Qo=mp?{passive:!1}:!1,ZD=function(n){return n.tagName==="TEXTAREA"},HS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ZD(n)&&t[e]==="visible")},JD=function(n){return HS(n,"overflowY")},eR=function(n){return HS(n,"overflowX")},w0=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=IS(n,r);if(o){var l=US(n,r),a=l[1],u=l[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},tR=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},nR=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},IS=function(n,e){return n==="v"?JD(e):eR(e)},US=function(n,e){return n==="v"?tR(e):nR(e)},rR=function(n,e){return n==="h"&&e==="rtl"?-1:1},iR=function(n,e,t,r,o){var l=rR(n,window.getComputedStyle(e).direction),a=l*r,u=t.target,f=e.contains(u),h=!1,p=a>0,g=0,b=0;do{var v=US(n,u),x=v[0],S=v[1],w=v[2],M=S-w-l*x;(x||M)&&IS(n,u)&&(g+=M,b+=x),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Dc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},C0=function(n){return[n.deltaX,n.deltaY]},M0=function(n){return n&&"current"in n?n.current:n},oR=function(n,e){return n[0]===e[0]&&n[1]===e[1]},sR=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},lR=0,Zo=[];function aR(n){var e=O.useRef([]),t=O.useRef([0,0]),r=O.useRef(),o=O.useState(lR++)[0],l=O.useState(jS)[0],a=O.useRef(n);O.useEffect(function(){a.current=n},[n]),O.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var S=AD([n.lockRef.current],(n.shards||[]).map(M0),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var u=O.useCallback(function(S,w){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var M=Dc(S),E=t.current,k="deltaX"in S?S.deltaX:E[0]-M[0],D="deltaY"in S?S.deltaY:E[1]-M[1],N,_=S.target,A=Math.abs(k)>Math.abs(D)?"h":"v";if("touches"in S&&A==="h"&&_.type==="range")return!1;var z=w0(A,_);if(!z)return!0;if(z?N=A:(N=A==="v"?"h":"v",z=w0(A,_)),!z)return!1;if(!r.current&&"changedTouches"in S&&(k||D)&&(r.current=N),!N)return!0;var V=r.current||N;return iR(V,w,S,V==="h"?k:D)},[]),f=O.useCallback(function(S){var w=S;if(!(!Zo.length||Zo[Zo.length-1]!==l)){var M="deltaY"in w?C0(w):Dc(w),E=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&oR(N.delta,M)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var k=(a.current.shards||[]).map(M0).filter(Boolean).filter(function(N){return N.contains(w.target)}),D=k.length>0?u(w,k[0]):!a.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),h=O.useCallback(function(S,w,M,E){var k={name:S,delta:w,target:M,should:E,shadowParent:cR(M)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(D){return D!==k})},1)},[]),p=O.useCallback(function(S){t.current=Dc(S),r.current=void 0},[]),g=O.useCallback(function(S){h(S.type,C0(S),S.target,u(S,n.lockRef.current))},[]),b=O.useCallback(function(S){h(S.type,Dc(S),S.target,u(S,n.lockRef.current))},[]);O.useEffect(function(){return Zo.push(l),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Qo),document.addEventListener("touchmove",f,Qo),document.addEventListener("touchstart",p,Qo),function(){Zo=Zo.filter(function(S){return S!==l}),document.removeEventListener("wheel",f,Qo),document.removeEventListener("touchmove",f,Qo),document.removeEventListener("touchstart",p,Qo)}},[]);var v=n.removeScrollBar,x=n.inert;return O.createElement(O.Fragment,null,x?O.createElement(l,{styles:sR(o)}):null,v?O.createElement(QD,{gapMode:n.gapMode}):null)}function cR(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const uR=jD(PS,aR);var VS=O.forwardRef(function(n,e){return O.createElement(Du,qn({},n,{ref:e,sideCar:uR}))});VS.classNames=Du.classNames;var gp=["Enter"," "],fR=["ArrowDown","PageUp","Home"],qS=["ArrowUp","PageDown","End"],dR=[...fR,...qS],hR={ltr:[...gp,"ArrowRight"],rtl:[...gp,"ArrowLeft"]},pR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ia="Menu",[Il,mR,gR]=Z1(ia),[oo,FS]=io(ia,[gR,Nu,AS]),Ru=Nu(),$S=AS(),[yR,so]=oo(ia),[bR,oa]=oo(ia),GS=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:l,modal:a=!0}=n,u=Ru(e),[f,h]=O.useState(null),p=O.useRef(!1),g=Sr(l),b=J1(o);return O.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),R.jsx(MS,{...u,children:R.jsx(yR,{scope:e,open:t,onOpenChange:g,content:f,onContentChange:h,children:R.jsx(bR,{scope:e,onClose:O.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:b,modal:a,children:r})})})};GS.displayName=ia;var vR="MenuAnchor",cm=O.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Ru(t);return R.jsx(ES,{...o,...r,ref:e})});cm.displayName=vR;var um="MenuPortal",[xR,YS]=oo(um,{forceMount:void 0}),KS=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,l=so(um,e);return R.jsx(xR,{scope:e,forceMount:t,children:R.jsx(bi,{present:t||l.open,children:R.jsx(am,{asChild:!0,container:o,children:r})})})};KS.displayName=um;var Cn="MenuContent",[SR,fm]=oo(Cn),XS=O.forwardRef((n,e)=>{const t=YS(Cn,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,l=so(Cn,n.__scopeMenu),a=oa(Cn,n.__scopeMenu);return R.jsx(Il.Provider,{scope:n.__scopeMenu,children:R.jsx(bi,{present:r||l.open,children:R.jsx(Il.Slot,{scope:n.__scopeMenu,children:a.modal?R.jsx(wR,{...o,ref:e}):R.jsx(CR,{...o,ref:e})})})})}),wR=O.forwardRef((n,e)=>{const t=so(Cn,n.__scopeMenu),r=O.useRef(null),o=ut(e,r);return O.useEffect(()=>{const l=r.current;if(l)return OD(l)},[]),R.jsx(dm,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ce(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),CR=O.forwardRef((n,e)=>{const t=so(Cn,n.__scopeMenu);return R.jsx(dm,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),MR=Pl("MenuContent.ScrollLock"),dm=O.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:v,disableOutsideScroll:x,...S}=n,w=so(Cn,t),M=oa(Cn,t),E=Ru(t),k=$S(t),D=mR(t),[N,_]=O.useState(null),A=O.useRef(null),z=ut(e,A,w.onContentChange),V=O.useRef(0),ee=O.useRef(""),oe=O.useRef(0),ne=O.useRef(null),fe=O.useRef("right"),ye=O.useRef(0),de=x?VS:O.Fragment,H=x?{as:MR,allowPinchZoom:!0}:void 0,W=Z=>{var we,Re;const L=ee.current+Z,G=D().filter(qe=>!qe.disabled),te=document.activeElement,J=(we=G.find(qe=>qe.ref.current===te))==null?void 0:we.textValue,ie=G.map(qe=>qe.textValue),Se=BR(ie,L,J),he=(Re=G.find(qe=>qe.textValue===Se))==null?void 0:Re.ref.current;(function qe(Vt){ee.current=Vt,window.clearTimeout(V.current),Vt!==""&&(V.current=window.setTimeout(()=>qe(""),1e3))})(L),he&&setTimeout(()=>he.focus())};O.useEffect(()=>()=>window.clearTimeout(V.current),[]),QA();const $=O.useCallback(Z=>{var G,te;return fe.current===((G=ne.current)==null?void 0:G.side)&&jR(Z,(te=ne.current)==null?void 0:te.area)},[]);return R.jsx(SR,{scope:t,searchRef:ee,onItemEnter:O.useCallback(Z=>{$(Z)&&Z.preventDefault()},[$]),onItemLeave:O.useCallback(Z=>{var L;$(Z)||((L=A.current)==null||L.focus(),_(null))},[$]),onTriggerLeave:O.useCallback(Z=>{$(Z)&&Z.preventDefault()},[$]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:O.useCallback(Z=>{ne.current=Z},[]),children:R.jsx(de,{...H,children:R.jsx(nS,{asChild:!0,trapped:o,onMountAutoFocus:Ce(l,Z=>{var L;Z.preventDefault(),(L=A.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:R.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:v,children:R.jsx(CD,{asChild:!0,...k,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Ce(f,Z=>{M.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:R.jsx(TS,{role:"menu","aria-orientation":"vertical","data-state":fw(w.open),"data-radix-menu-content":"",dir:M.dir,...E,...S,ref:z,style:{outline:"none",...S.style},onKeyDown:Ce(S.onKeyDown,Z=>{const G=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,te=Z.ctrlKey||Z.altKey||Z.metaKey,J=Z.key.length===1;G&&(Z.key==="Tab"&&Z.preventDefault(),!te&&J&&W(Z.key));const ie=A.current;if(Z.target!==ie||!dR.includes(Z.key))return;Z.preventDefault();const he=D().filter(we=>!we.disabled).map(we=>we.ref.current);qS.includes(Z.key)&&he.reverse(),zR(he)}),onBlur:Ce(n.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(V.current),ee.current="")}),onPointerMove:Ce(n.onPointerMove,Ul(Z=>{const L=Z.target,G=ye.current!==Z.clientX;if(Z.currentTarget.contains(L)&&G){const te=Z.clientX>ye.current?"right":"left";fe.current=te,ye.current=Z.clientX}}))})})})})})})});XS.displayName=Cn;var ER="MenuGroup",hm=O.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(st.div,{role:"group",...r,ref:e})});hm.displayName=ER;var TR="MenuLabel",WS=O.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(st.div,{...r,ref:e})});WS.displayName=TR;var ou="MenuItem",E0="menu.itemSelect",_u=O.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,l=O.useRef(null),a=oa(ou,n.__scopeMenu),u=fm(ou,n.__scopeMenu),f=ut(e,l),h=O.useRef(!1),p=()=>{const g=l.current;if(!t&&g){const b=new CustomEvent(E0,{bubbles:!0,cancelable:!0});g.addEventListener(E0,v=>r==null?void 0:r(v),{once:!0}),N1(g,b),b.defaultPrevented?h.current=!1:a.onClose()}};return R.jsx(QS,{...o,ref:f,disabled:t,onClick:Ce(n.onClick,p),onPointerDown:g=>{var b;(b=n.onPointerDown)==null||b.call(n,g),h.current=!0},onPointerUp:Ce(n.onPointerUp,g=>{var b;h.current||(b=g.currentTarget)==null||b.click()}),onKeyDown:Ce(n.onKeyDown,g=>{const b=u.searchRef.current!=="";t||b&&g.key===" "||gp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_u.displayName=ou;var QS=O.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...l}=n,a=fm(ou,t),u=$S(t),f=O.useRef(null),h=ut(e,f),[p,g]=O.useState(!1),[b,v]=O.useState("");return O.useEffect(()=>{const x=f.current;x&&v((x.textContent??"").trim())},[l.children]),R.jsx(Il.ItemSlot,{scope:t,disabled:r,textValue:o??b,children:R.jsx(MD,{asChild:!0,...u,focusable:!r,children:R.jsx(st.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:h,onPointerMove:Ce(n.onPointerMove,Ul(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(n.onPointerLeave,Ul(x=>a.onItemLeave(x))),onFocus:Ce(n.onFocus,()=>g(!0)),onBlur:Ce(n.onBlur,()=>g(!1))})})})}),kR="MenuCheckboxItem",ZS=O.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return R.jsx(rw,{scope:n.__scopeMenu,checked:t,children:R.jsx(_u,{role:"menuitemcheckbox","aria-checked":su(t)?"mixed":t,...o,ref:e,"data-state":mm(t),onSelect:Ce(o.onSelect,()=>r==null?void 0:r(su(t)?!0:!t),{checkForDefaultPrevented:!1})})})});ZS.displayName=kR;var JS="MenuRadioGroup",[OR,AR]=oo(JS,{value:void 0,onValueChange:()=>{}}),ew=O.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,l=Sr(r);return R.jsx(OR,{scope:n.__scopeMenu,value:t,onValueChange:l,children:R.jsx(hm,{...o,ref:e})})});ew.displayName=JS;var tw="MenuRadioItem",nw=O.forwardRef((n,e)=>{const{value:t,...r}=n,o=AR(tw,n.__scopeMenu),l=t===o.value;return R.jsx(rw,{scope:n.__scopeMenu,checked:l,children:R.jsx(_u,{role:"menuitemradio","aria-checked":l,...r,ref:e,"data-state":mm(l),onSelect:Ce(r.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,t)},{checkForDefaultPrevented:!1})})})});nw.displayName=tw;var pm="MenuItemIndicator",[rw,NR]=oo(pm,{checked:!1}),iw=O.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,l=NR(pm,t);return R.jsx(bi,{present:r||su(l.checked)||l.checked===!0,children:R.jsx(st.span,{...o,ref:e,"data-state":mm(l.checked)})})});iw.displayName=pm;var DR="MenuSeparator",ow=O.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ow.displayName=DR;var RR="MenuArrow",sw=O.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Ru(t);return R.jsx(kS,{...o,...r,ref:e})});sw.displayName=RR;var _R="MenuSub",[VH,lw]=oo(_R),Nl="MenuSubTrigger",aw=O.forwardRef((n,e)=>{const t=so(Nl,n.__scopeMenu),r=oa(Nl,n.__scopeMenu),o=lw(Nl,n.__scopeMenu),l=fm(Nl,n.__scopeMenu),a=O.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,h={__scopeMenu:n.__scopeMenu},p=O.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return O.useEffect(()=>p,[p]),O.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),R.jsx(cm,{asChild:!0,...h,children:R.jsx(QS,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":fw(t.open),...n,ref:Kp(e,o.onTriggerChange),onClick:g=>{var b;(b=n.onClick)==null||b.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ce(n.onPointerMove,Ul(g=>{l.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(l.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:Ce(n.onPointerLeave,Ul(g=>{var v,x;p();const b=(v=t.content)==null?void 0:v.getBoundingClientRect();if(b){const S=(x=t.content)==null?void 0:x.dataset.side,w=S==="right",M=w?-5:5,E=b[w?"left":"right"],k=b[w?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+M,y:g.clientY},{x:E,y:b.top},{x:k,y:b.top},{x:k,y:b.bottom},{x:E,y:b.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(n.onKeyDown,g=>{var v;const b=l.searchRef.current!=="";n.disabled||b&&g.key===" "||hR[r.dir].includes(g.key)&&(t.onOpenChange(!0),(v=t.content)==null||v.focus(),g.preventDefault())})})})});aw.displayName=Nl;var cw="MenuSubContent",uw=O.forwardRef((n,e)=>{const t=YS(Cn,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,l=so(Cn,n.__scopeMenu),a=oa(Cn,n.__scopeMenu),u=lw(cw,n.__scopeMenu),f=O.useRef(null),h=ut(e,f);return R.jsx(Il.Provider,{scope:n.__scopeMenu,children:R.jsx(bi,{present:r||l.open,children:R.jsx(Il.Slot,{scope:n.__scopeMenu,children:R.jsx(dm,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ce(n.onFocusOutside,p=>{p.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ce(n.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:Ce(n.onKeyDown,p=>{var v;const g=p.currentTarget.contains(p.target),b=pR[a.dir].includes(p.key);g&&b&&(l.onOpenChange(!1),(v=u.trigger)==null||v.focus(),p.preventDefault())})})})})})});uw.displayName=cw;function fw(n){return n?"open":"closed"}function su(n){return n==="indeterminate"}function mm(n){return su(n)?"indeterminate":n?"checked":"unchecked"}function zR(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function LR(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function BR(n,e,t){const o=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let a=LR(n,Math.max(l,0));o.length===1&&(a=a.filter(h=>h!==t));const f=a.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function PR(n,e){const{x:t,y:r}=n;let o=!1;for(let l=0,a=e.length-1;l<e.length;a=l++){const u=e[l],f=e[a],h=u.x,p=u.y,g=f.x,b=f.y;p>r!=b>r&&t<(g-h)*(r-p)/(b-p)+h&&(o=!o)}return o}function jR(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return PR(t,e)}function Ul(n){return e=>e.pointerType==="mouse"?n(e):void 0}var HR=GS,IR=cm,UR=KS,VR=XS,qR=hm,FR=WS,$R=_u,GR=ZS,YR=ew,KR=nw,XR=iw,WR=ow,QR=sw,ZR=aw,JR=uw,zu="DropdownMenu",[e2,qH]=io(zu,[FS]),Ht=FS(),[t2,dw]=e2(zu),hw=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:l,onOpenChange:a,modal:u=!0}=n,f=Ht(e),h=O.useRef(null),[p,g]=Mu({prop:o,defaultProp:l??!1,onChange:a,caller:zu});return R.jsx(t2,{scope:e,triggerId:eu(),triggerRef:h,contentId:eu(),open:p,onOpenChange:g,onOpenToggle:O.useCallback(()=>g(b=>!b),[g]),modal:u,children:R.jsx(HR,{...f,open:p,onOpenChange:g,dir:r,modal:u,children:t})})};hw.displayName=zu;var pw="DropdownMenuTrigger",mw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,l=dw(pw,t),a=Ht(t);return R.jsx(IR,{asChild:!0,...a,children:R.jsx(st.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Kp(e,l.triggerRef),onPointerDown:Ce(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:Ce(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});mw.displayName=pw;var n2="DropdownMenuPortal",gw=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Ht(e);return R.jsx(UR,{...r,...t})};gw.displayName=n2;var yw="DropdownMenuContent",bw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=dw(yw,t),l=Ht(t),a=O.useRef(!1);return R.jsx(VR,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...r,ref:e,onCloseAutoFocus:Ce(n.onCloseAutoFocus,u=>{var f;a.current||(f=o.triggerRef.current)==null||f.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:Ce(n.onInteractOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!o.modal||p)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bw.displayName=yw;var r2="DropdownMenuGroup",i2=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(qR,{...o,...r,ref:e})});i2.displayName=r2;var o2="DropdownMenuLabel",vw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(FR,{...o,...r,ref:e})});vw.displayName=o2;var s2="DropdownMenuItem",xw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx($R,{...o,...r,ref:e})});xw.displayName=s2;var l2="DropdownMenuCheckboxItem",Sw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(GR,{...o,...r,ref:e})});Sw.displayName=l2;var a2="DropdownMenuRadioGroup",c2=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(YR,{...o,...r,ref:e})});c2.displayName=a2;var u2="DropdownMenuRadioItem",ww=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(KR,{...o,...r,ref:e})});ww.displayName=u2;var f2="DropdownMenuItemIndicator",Cw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(XR,{...o,...r,ref:e})});Cw.displayName=f2;var d2="DropdownMenuSeparator",Mw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(WR,{...o,...r,ref:e})});Mw.displayName=d2;var h2="DropdownMenuArrow",p2=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(QR,{...o,...r,ref:e})});p2.displayName=h2;var m2="DropdownMenuSubTrigger",Ew=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(ZR,{...o,...r,ref:e})});Ew.displayName=m2;var g2="DropdownMenuSubContent",Tw=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Ht(t);return R.jsx(JR,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tw.displayName=g2;var y2=hw,b2=mw,v2=gw,kw=bw,Ow=vw,Aw=xw,Nw=Sw,Dw=ww,Rw=Cw,_w=Mw,zw=Ew,Lw=Tw;const Bw=y2,Pw=b2,x2=O.forwardRef(({className:n,inset:e,children:t,...r},o)=>R.jsxs(zw,{ref:o,className:Ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,R.jsx(vO,{className:"ml-auto"})]}));x2.displayName=zw.displayName;const S2=O.forwardRef(({className:n,...e},t)=>R.jsx(Lw,{ref:t,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e}));S2.displayName=Lw.displayName;const gm=O.forwardRef(({className:n,sideOffset:e=4,...t},r)=>R.jsx(v2,{children:R.jsx(kw,{ref:r,sideOffset:e,className:Ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t})}));gm.displayName=kw.displayName;const rs=O.forwardRef(({className:n,inset:e,...t},r)=>R.jsx(Aw,{ref:r,className:Ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));rs.displayName=Aw.displayName;const w2=O.forwardRef(({className:n,children:e,checked:t,...r},o)=>R.jsxs(Nw,{ref:o,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(Rw,{children:R.jsx(H1,{className:"h-4 w-4"})})}),e]}));w2.displayName=Nw.displayName;const C2=O.forwardRef(({className:n,children:e,...t},r)=>R.jsxs(Dw,{ref:r,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(Rw,{children:R.jsx(SO,{className:"h-2 w-2 fill-current"})})}),e]}));C2.displayName=Dw.displayName;const M2=O.forwardRef(({className:n,inset:e,...t},r)=>R.jsx(Ow,{ref:r,className:Ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));M2.displayName=Ow.displayName;const E2=O.forwardRef(({className:n,...e},t)=>R.jsx(_w,{ref:t,className:Ye("-mx-1 my-1 h-px bg-muted",n),...e}));E2.displayName=_w.displayName;const ym=O.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>R.jsx("div",{ref:o,role:t?"separator":void 0,"aria-orientation":e,className:["shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-6 w-[1px]",n].filter(Boolean).join(" "),...r}));ym.displayName="Separator";var T2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k2="VisuallyHidden",jw=O.forwardRef((n,e)=>R.jsx(st.span,{...n,ref:e,style:{...T2,...n.style}}));jw.displayName=k2;var O2=jw,[Lu,FH]=io("Tooltip",[Nu]),Bu=Nu(),Hw="TooltipProvider",A2=700,yp="tooltip.open",[N2,bm]=Lu(Hw),Iw=n=>{const{__scopeTooltip:e,delayDuration:t=A2,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:l}=n,a=O.useRef(!0),u=O.useRef(!1),f=O.useRef(0);return O.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),R.jsx(N2,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:O.useCallback(()=>{window.clearTimeout(f.current),a.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:O.useCallback(h=>{u.current=h},[]),disableHoverableContent:o,children:l})};Iw.displayName=Hw;var Vl="Tooltip",[D2,sa]=Lu(Vl),Uw=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:o,onOpenChange:l,disableHoverableContent:a,delayDuration:u}=n,f=bm(Vl,n.__scopeTooltip),h=Bu(e),[p,g]=O.useState(null),b=eu(),v=O.useRef(0),x=a??f.disableHoverableContent,S=u??f.delayDuration,w=O.useRef(!1),[M,E]=Mu({prop:r,defaultProp:o??!1,onChange:A=>{A?(f.onOpen(),document.dispatchEvent(new CustomEvent(yp))):f.onClose(),l==null||l(A)},caller:Vl}),k=O.useMemo(()=>M?w.current?"delayed-open":"instant-open":"closed",[M]),D=O.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w.current=!1,E(!0)},[E]),N=O.useCallback(()=>{window.clearTimeout(v.current),v.current=0,E(!1)},[E]),_=O.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{w.current=!0,E(!0),v.current=0},S)},[S,E]);return O.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),R.jsx(MS,{...h,children:R.jsx(D2,{scope:e,contentId:b,open:M,stateAttribute:k,trigger:p,onTriggerChange:g,onTriggerEnter:O.useCallback(()=>{f.isOpenDelayedRef.current?_():D()},[f.isOpenDelayedRef,_,D]),onTriggerLeave:O.useCallback(()=>{x?N():(window.clearTimeout(v.current),v.current=0)},[N,x]),onOpen:D,onClose:N,disableHoverableContent:x,children:t})})};Uw.displayName=Vl;var bp="TooltipTrigger",Vw=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=sa(bp,t),l=bm(bp,t),a=Bu(t),u=O.useRef(null),f=ut(e,u,o.onTriggerChange),h=O.useRef(!1),p=O.useRef(!1),g=O.useCallback(()=>h.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),R.jsx(ES,{asChild:!0,...a,children:R.jsx(st.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Ce(n.onPointerMove,b=>{b.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ce(n.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:Ce(n.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ce(n.onFocus,()=>{h.current||o.onOpen()}),onBlur:Ce(n.onBlur,o.onClose),onClick:Ce(n.onClick,o.onClose)})})});Vw.displayName=bp;var vm="TooltipPortal",[R2,_2]=Lu(vm,{forceMount:void 0}),qw=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:o}=n,l=sa(vm,e);return R.jsx(R2,{scope:e,forceMount:t,children:R.jsx(bi,{present:t||l.open,children:R.jsx(am,{asChild:!0,container:o,children:r})})})};qw.displayName=vm;var ds="TooltipContent",Fw=O.forwardRef((n,e)=>{const t=_2(ds,n.__scopeTooltip),{forceMount:r=t.forceMount,side:o="top",...l}=n,a=sa(ds,n.__scopeTooltip);return R.jsx(bi,{present:r||a.open,children:a.disableHoverableContent?R.jsx($w,{side:o,...l,ref:e}):R.jsx(z2,{side:o,...l,ref:e})})}),z2=O.forwardRef((n,e)=>{const t=sa(ds,n.__scopeTooltip),r=bm(ds,n.__scopeTooltip),o=O.useRef(null),l=ut(e,o),[a,u]=O.useState(null),{trigger:f,onClose:h}=t,p=o.current,{onPointerInTransitChange:g}=r,b=O.useCallback(()=>{u(null),g(!1)},[g]),v=O.useCallback((x,S)=>{const w=x.currentTarget,M={x:x.clientX,y:x.clientY},E=j2(M,w.getBoundingClientRect()),k=H2(M,E),D=I2(S.getBoundingClientRect()),N=V2([...k,...D]);u(N),g(!0)},[g]);return O.useEffect(()=>()=>b(),[b]),O.useEffect(()=>{if(f&&p){const x=w=>v(w,p),S=w=>v(w,f);return f.addEventListener("pointerleave",x),p.addEventListener("pointerleave",S),()=>{f.removeEventListener("pointerleave",x),p.removeEventListener("pointerleave",S)}}},[f,p,v,b]),O.useEffect(()=>{if(a){const x=S=>{const w=S.target,M={x:S.clientX,y:S.clientY},E=(f==null?void 0:f.contains(w))||(p==null?void 0:p.contains(w)),k=!U2(M,a);E?b():k&&(b(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[f,p,a,h,b]),R.jsx($w,{...n,ref:l})}),[L2,B2]=Lu(Vl,{isInside:!1}),P2=Gk("TooltipContent"),$w=O.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:a,...u}=n,f=sa(ds,t),h=Bu(t),{onClose:p}=f;return O.useEffect(()=>(document.addEventListener(yp,p),()=>document.removeEventListener(yp,p)),[p]),O.useEffect(()=>{if(f.trigger){const g=b=>{const v=b.target;v!=null&&v.contains(f.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,p]),R.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:R.jsxs(TS,{"data-state":f.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(P2,{children:r}),R.jsx(L2,{scope:t,isInside:!0,children:R.jsx(O2,{id:f.contentId,role:"tooltip",children:o||r})})]})})});Fw.displayName=ds;var Gw="TooltipArrow",Yw=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=Bu(t);return B2(Gw,t).isInside?null:R.jsx(kS,{...o,...r,ref:e})});Yw.displayName=Gw;function j2(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(t,r,o,l)){case l:return"left";case o:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function H2(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function I2(n){const{top:e,right:t,bottom:r,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:r},{x:o,y:r}]}function U2(n,e){const{x:t,y:r}=n;let o=!1;for(let l=0,a=e.length-1;l<e.length;a=l++){const u=e[l],f=e[a],h=u.x,p=u.y,g=f.x,b=f.y;p>r!=b>r&&t<(g-h)*(r-p)/(b-p)+h&&(o=!o)}return o}function V2(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),q2(e)}function q2(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const o=n[r];for(;e.length>=2;){const l=e[e.length-1],a=e[e.length-2];if((l.x-a.x)*(o.y-a.y)>=(l.y-a.y)*(o.x-a.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const o=n[r];for(;t.length>=2;){const l=t[t.length-1],a=t[t.length-2];if((l.x-a.x)*(o.y-a.y)>=(l.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var F2=Iw,$2=Uw,G2=Vw,Y2=qw,K2=Fw,X2=Yw;function lu({content:n,shortcut:e,side:t="top",children:r,className:o}){return R.jsx(F2,{delayDuration:200,children:R.jsxs($2,{children:[R.jsx(G2,{asChild:!0,children:r}),R.jsx(Y2,{children:R.jsxs(K2,{side:t,className:Ye("z-50 max-w-xs rounded-md bg-popover px-3 py-2 text-xs text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",o),children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{children:n}),e&&R.jsx("span",{className:"ml-2 text-[10px] font-mono bg-muted px-1.5 py-0.5 rounded text-muted-foreground border border-muted-foreground/20",children:e})]}),R.jsx(X2,{className:"fill-popover"})]})})]})})}function Ct(n){this.content=n}Ct.prototype={constructor:Ct,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),l=r.content.slice();return o==-1?l.push(t||n,e):(l[o+1]=e,t&&(l[o]=t)),new Ct(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Ct(t)},addToStart:function(n,e){return new Ct([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Ct(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),l=r.find(n);return o.splice(l==-1?o.length:l,0,e,t),new Ct(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Ct.from(n),n.size?new Ct(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Ct.from(n),n.size?new Ct(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Ct.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Ct.from=function(n){if(n instanceof Ct)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Ct(e)};function Kw(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=Kw(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function Xw(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),u=e.child(--l),f=a.nodeSize;if(a==u){t-=f,r-=f;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let h=0,p=Math.min(a.text.length,u.text.length);for(;h<p&&a.text[a.text.length-h-1]==u.text[u.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let h=Xw(a.content,u.content,t-1,r-1);if(h)return h}t-=f,r-=f}}class Q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,u=0;u<t;a++){let f=this.content[a],h=u+f.nodeSize;if(h>e&&r(f,o+u,l||null,a)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),r,o+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(u,f)=>{let h=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new Q(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let u=this.content[l],f=a+u.nodeSize;f>e&&((a<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),o+=u.nodeSize),a=f}return new Q(r,o)}cutByIndex(e,t){return e==t?Q.empty:e==0&&t==this.content.length?this:new Q(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new Q(o,l)}addToStart(e){return new Q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return Kw(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Xw(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Rc(0,e);if(e==this.size)return Rc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?Rc(r+1,a):Rc(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Q.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new Q(t||e,r)}static from(e){if(!e)return Q.empty;if(e instanceof Q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Q.empty=new Q([],0);const zh={index:0,offset:0};function Rc(n,e){return zh.index=n,zh.offset=e,zh}function au(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!au(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!au(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ve=class vp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&au(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return vp.none;if(e instanceof vp)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Ve.none=[];class cu extends Error{}class re{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Qw(this.content,e+this.openStart,t);return r&&new re(r,this.openStart,this.openEnd)}removeBetween(e,t){return new re(Ww(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return re.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new re(Q.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new re(e,r,o)}}re.empty=new re(Q.empty,0,0);function Ww(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(o==e||l.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(Ww(l.content,e-o-1,t-o-1)))}function Qw(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=Qw(a.content,e-l-1,t);return u&&n.replaceChild(o,a.copy(u))}function W2(n,e,t){if(t.openStart>n.depth)throw new cu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new cu("Inconsistent open depths");return Zw(n,e,t,0)}function Zw(n,e,t,r){let o=n.index(r),l=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=Zw(n,e,t,r+1);return l.copy(l.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return Ki(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=Q2(t,n);return Ki(l,eC(n,a,u,e,r))}else return Ki(l,uu(n,e,r))}function Jw(n,e){if(!e.type.compatibleContent(n.type))throw new cu("Cannot join "+e.type.name+" onto "+n.type.name)}function xp(n,e,t){let r=n.node(t);return Jw(r,e.node(t)),r}function Yi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function zl(n,e,t,r){let o=(e||n).node(t),l=0,a=e?e.index(t):o.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(Yi(n.nodeAfter,r),l++));for(let u=l;u<a;u++)Yi(o.child(u),r);e&&e.depth==t&&e.textOffset&&Yi(e.nodeBefore,r)}function Ki(n,e){return n.type.checkContent(e),n.copy(e)}function eC(n,e,t,r,o){let l=n.depth>o&&xp(n,e,o+1),a=r.depth>o&&xp(t,r,o+1),u=[];return zl(null,n,o,u),l&&a&&e.index(o)==t.index(o)?(Jw(l,a),Yi(Ki(l,eC(n,e,t,r,o+1)),u)):(l&&Yi(Ki(l,uu(n,e,o+1)),u),zl(e,t,o,u),a&&Yi(Ki(a,uu(t,r,o+1)),u)),zl(r,null,o,u),new Q(u)}function uu(n,e,t){let r=[];if(zl(null,n,t,r),n.depth>t){let o=xp(n,e,t+1);Yi(Ki(o,uu(n,e,t+1)),r)}return zl(e,null,t,r),new Q(r)}function Q2(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)o=e.node(l).copy(Q.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class ql{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ve.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let u=r;r=o,o=u}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new fu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,l=t;for(let a=e;;){let{index:u,offset:f}=a.content.findIndex(l),h=l-f;if(r.push(a,u,o+f),!h||(a=a.child(u),a.isText))break;l=h-1,o+=f+1}return new ql(t,r,l)}static resolveCached(e,t){let r=T0.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else T0.set(e,r=new Z2);let o=r.elts[r.i]=ql.resolve(e,t);return r.i=(r.i+1)%J2,o}}class Z2{constructor(){this.elts=[],this.i=0}}const J2=12,T0=new WeakMap;class fu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const e_=Object.create(null);let li=class Sp{constructor(e,t,r,o=Ve.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||Q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&au(this.attrs,t||e.defaultAttrs||e_)&&Ve.sameSet(this.marks,r||Ve.none)}copy(e=null){return e==this.content?this:new Sp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Sp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return re.empty;let o=this.resolve(e),l=this.resolve(t),a=r?0:o.sharedDepth(t),u=o.start(a),h=o.node(a).content.cut(o.pos-u,l.pos-u);return new re(h,o.depth-a,l.depth-a)}replace(e,t,r){return W2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return ql.resolveCached(this,e)}resolveNoCache(e){return ql.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),tC(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Q.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=o;f<l;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ve.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ve.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=Q.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};li.prototype.text=void 0;class du extends li{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new du(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new du(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function tC(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ji{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new t_(e,t);if(r.next==null)return Ji.empty;let o=nC(r);r.next&&r.err("Unexpected trailing text");let l=a_(l_(o));return c_(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let l=t;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function l(a,u){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return Q.from(u.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:g}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(g)==-1){o.push(g);let b=l(g,u.concat(p));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let u=o;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:u,next:f}=l.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!o.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}Ji.empty=new Ji(!0);class t_{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function nC(n){let e=[];do e.push(n_(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function n_(n){let e=[];do e.push(r_(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function r_(n){let e=s_(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=i_(n,e);else break;return e}function k0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function i_(n,e){let t=k0(n),r=t;return n.eat(",")&&(n.next!="}"?r=k0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function o_(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let l in t){let a=t[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function s_(n){if(n.eat("(")){let e=nC(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=o_(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function l_(n){let e=[[]];return o(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,f){let h={term:f,to:u};return e[a].push(h),h}function o(a,u){a.forEach(f=>f.to=u)}function l(a,u){if(a.type=="choice")return a.exprs.reduce((f,h)=>f.concat(l(h,u)),[]);if(a.type=="seq")for(let f=0;;f++){let h=l(a.exprs[f],u);if(f==a.exprs.length-1)return h;o(h,u=t())}else if(a.type=="star"){let f=t();return r(u,f),o(l(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return o(l(a.expr,u),f),o(l(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(u)].concat(l(a.expr,u));if(a.type=="range"){let f=u;for(let h=0;h<a.min;h++){let p=t();o(l(a.expr,f),p),f=p}if(a.max==-1)o(l(a.expr,f),f);else for(let h=a.min;h<a.max;h++){let p=t();r(f,p),o(l(a.expr,f),p),f=p}return[r(f)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function rC(n,e){return e-n}function O0(n,e){let t=[];return r(e),t.sort(rC);function r(o){let l=n[o];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(o);for(let a=0;a<l.length;a++){let{term:u,to:f}=l[a];!u&&t.indexOf(f)==-1&&r(f)}}}function a_(n){let e=Object.create(null);return t(O0(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let p=0;p<o.length;p++)o[p][0]==u&&(h=o[p][1]);O0(n,f).forEach(p=>{h||o.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let l=e[r.join(",")]=new Ji(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let u=o[a][1].sort(rC);l.next.push({type:o[a][0],next:e[u.join(",")]||t(u)})}return l}}function c_(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],l=!o.validEnd,a=[];for(let u=0;u<o.next.length;u++){let{type:f,next:h}=o.next[u];a.push(f.name),l&&!(f.isText||f.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function iC(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function oC(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let l=n[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function sC(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let l=n[o];l.validate&&l.validate(e[o])}}function lC(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new f_(n,r,e[r]);return t}let A0=class aC{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=lC(e,r.attrs),this.defaultAttrs=iC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ji.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:oC(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new li(this,this.computeAttrs(e),Q.from(t),Ve.setFrom(r))}createChecked(e=null,t,r){return t=Q.from(t),this.checkContent(t),new li(this,this.computeAttrs(e),t,Ve.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Q.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),l=o&&o.fillBefore(Q.empty,!0);return l?new li(this,e,t.append(l),Ve.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){sC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ve.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new aC(l,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function u_(n,e,t){let r=t.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class f_{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?u_(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Pu{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=lC(e,o.attrs),this.excluded=null;let l=iC(this.attrs);this.instance=l?new Ve(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Ve(this,oC(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new Pu(l,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){sC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class cC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=Ct.from(e.nodes),t.marks=Ct.from(e.marks||{}),this.nodes=A0.compile(this.spec.nodes,this),this.marks=Pu.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=Ji.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?N0(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:N0(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new du(r,r.defaultAttrs,e,Ve.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return li.fromJSON(this,e)}markFromJSON(e){return Ve.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function N0(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],l=n.marks[o],a=l;if(l)t.push(l);else for(let u in n.marks){let f=n.marks[u];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function d_(n){return n.tag!=null}function h_(n){return n.style!=null}class ai{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(d_(o))this.tags.push(o);else if(h_(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new R0(this,t,!1);return r.addAll(e,Ve.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new R0(this,t,!0);return r.addAll(e,Ve.none,t.from,t.to),re.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(g_(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<l)break}t.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=_0(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=_0(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ai(e,ai.schemaRules(e)))}}const uC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},p_={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},fC={ol:!0,ul:!0},Fl=1,wp=2,Yc=4;function D0(n,e,t){return e!=null?(e?Fl:0)|(e==="full"?wp:0):n&&n.whitespace=="pre"?Fl|wp:t&-5}class _c{constructor(e,t,r,o,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Ve.none,this.match=l||(a&Yc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Fl)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let t=Q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!uC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class R0{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,l,a=D0(null,t.preserveWhitespace,0)|(r?Yc:0);o?l=new _c(o.type,o.attrs,Ve.none,!0,t.topMatch||o.type.contentMatch,a):r?l=new _c(null,null,Ve.none,!0,null,a):l=new _c(e.schema.topNodeType,null,Ve.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,l=o.options&wp?"full":this.localPreserveWS||(o.options&Fl)>0;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;fC.hasOwnProperty(a)&&this.parser.normalizeLists&&m_(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:p_.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(uC.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=f&&f.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=p}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let u=void 0;;){let f=this.parser.matchStyle(l,a,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(h=>!f.clearMark(h)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return t}addElementByRule(e,t,r,o){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(l=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}l&&this.sync(u)&&this.open--}addAll(e,t,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=o==null?null:e.childNodes[o];a!=u;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t,r){let o,l;for(let a=this.open,u=0;a>=0;a--){let f=this.nodes[a],h=f.findWrapping(e);if(h&&(!o||o.length>h.length+u)&&(o=h,l=f,!h.length))break;if(f.solid){if(r)break;u+=2}}if(!o)return null;this.sync(l);for(let a=0;a<o.length;a++)t=this.enterInner(o[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let o=this.findPlace(e,t,r);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let a=Ve.none;for(let u of o.concat(e.marks))(l.type?l.type.allowsMarkType(u.type):z0(u.type,e.type))&&(a=u.addToSet(a));return l.content.push(e.mark(a)),!0}return!1}enter(e,t,r,o){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,o)),l}enterInner(e,t,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=D0(e,l,a.options);a.options&Yc&&a.content.length==0&&(u|=Yc);let f=Ve.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):z0(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new _c(e,t,f,o,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Fl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(u,f)=>{for(;u>=0;u--){let h=t[u];if(h==""){if(u==t.length-1||u==0)continue;for(;f>=l;f--)if(a(u-1,f))return!0;return!1}else{let p=f>0||f==0&&o?this.nodes[f].type:r&&f>=l?r.node(f-l).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function m_(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&fC.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function g_(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function _0(n){let e={};for(let t in n)e[t]=n[t];return e}function z0(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let l=[],a=u=>{l.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:p}=u.edge(f);if(h==e||l.indexOf(p)<0&&a(p))return!0}};if(a(o.contentMatch))return!0}}class lo{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Lh(t).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let u=0,f=0;for(;u<l.length&&f<a.marks.length;){let h=a.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<l.length;)o=l.pop()[1];for(;f<a.marks.length;){let h=a.marks[f++],p=this.serializeMark(h,a.isInline,t);p&&(l.push([h,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Kc(Lh(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Kc(Lh(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return Kc(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=L0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return L0(e.marks)}}function L0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Lh(n){return n.document||window.document}const B0=new WeakMap;function y_(n){let e=B0.get(n);return e===void 0&&B0.set(n,e=b_(n)),e}function b_(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function Kc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=y_(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let u,f=t?n.createElementNS(t,o):n.createElement(o),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?f.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):f.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:x}=Kc(n,b,t,r);if(f.appendChild(v),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:f,contentDOM:u}}const dC=65535,hC=Math.pow(2,16);function v_(n,e){return n+e*hC}function P0(n){return n&dC}function x_(n){return(n-(n&dC))/hC}const pC=1,mC=2,Xc=4,gC=8;class Cp{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&gC)>0}get deletedBefore(){return(this.delInfo&(pC|Xc))>0}get deletedAfter(){return(this.delInfo&(mC|Xc))>0}get deletedAcross(){return(this.delInfo&Xc)>0}}class ln{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ln.empty)return ln.empty}recover(e){let t=0,r=P0(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+x_(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?o:0);if(f>e)break;let h=this.ranges[u+l],p=this.ranges[u+a],g=f+h;if(e<=g){let b=h?e==f?-1:e==g?1:t:t,v=f+o+(b<0?0:p);if(r)return v;let x=e==(t<0?f:g)?null:v_(u/3,e-f),S=e==f?mC:e==g?pC:Xc;return(t<0?e!=f:e!=g)&&(S|=gC),new Cp(v,S,x)}o+=p-h}return r?e+o:new Cp(e+o,0,null)}touches(e,t){let r=0,o=P0(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[u+l],p=f+h;if(e<=p&&u==o*3)return!0;r+=this.ranges[u+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],u=a-(this.inverted?l:0),f=a+(this.inverted?0:l),h=this.ranges[o+t],p=this.ranges[o+r];e(u,u+h,f,f+p),l+=p-h}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ln.empty:new ln(e<0?[0,-e,0]:[0,0,e])}}ln.empty=new ln([]);class $l{constructor(e,t,r=0,o=e?e.length:0){this.mirror=t,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new $l(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let o=e.getMirror(t);this.appendMap(e._maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e._maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new $l;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],u=a.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(l);if(f!=null&&f>l&&f<this.to){l=f,e=this._maps[f].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new Cp(e,o,null)}}const Bh=Object.create(null);class Rt{getMap(){return ln.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Bh[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Bh)throw new RangeError("Duplicate use of step JSON ID "+e);return Bh[e]=t,t.prototype.jsonID=e,t}}class ot{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ot(e,null)}static fail(e){return new ot(null,e)}static fromReplace(e,t,r,o){try{return ot.ok(e.replace(t,r,o))}catch(l){if(l instanceof cu)return ot.fail(l.message);throw l}}}function xm(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(xm(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return Q.fromArray(r)}class ri extends Rt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new re(xm(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return ot.fromReplace(e,this.from,this.to,l)}invert(){return new Fn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ri(t.pos,r.pos,this.mark)}merge(e){return e instanceof ri&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ri(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ri(t.from,t.to,e.markFromJSON(t.mark))}}Rt.jsonID("addMark",ri);class Fn extends Rt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new re(xm(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return ot.fromReplace(e,this.from,this.to,r)}invert(){return new ri(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Fn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(t.from,t.to,e.markFromJSON(t.mark))}}Rt.jsonID("removeMark",Fn);class ii extends Rt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ot.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ot.fromReplace(e,this.pos,this.pos+1,new re(Q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new ii(this.pos,t.marks[o]);return new ii(this.pos,this.mark)}}return new eo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ii(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ii(t.pos,e.markFromJSON(t.mark))}}Rt.jsonID("addNodeMark",ii);class eo extends Rt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ot.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ot.fromReplace(e,this.pos,this.pos+1,new re(Q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ii(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new eo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new eo(t.pos,e.markFromJSON(t.mark))}}Rt.jsonID("removeNodeMark",eo);class gt extends Rt{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&Mp(e,this.from,this.to)?ot.fail("Structure replace would overwrite content"):ot.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new gt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new gt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?re.empty:new re(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?re.empty:new re(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gt(t.from,t.to,re.fromJSON(e,t.slice),!!t.structure)}}Rt.jsonID("replace",gt);class yt extends Rt{constructor(e,t,r,o,l,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=u}apply(e){if(this.structure&&(Mp(e,this.from,this.gapFrom)||Mp(e,this.gapTo,this.to)))return ot.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ot.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ot.fromReplace(e,this.from,this.to,r):ot.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new yt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new yt(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yt(t.from,t.to,t.gapFrom,t.gapTo,re.fromJSON(e,t.slice),t.insert,!!t.structure)}}Rt.jsonID("replaceAround",yt);function Mp(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function S_(n,e,t,r){let o=[],l=[],a,u;n.doc.nodesBetween(e,t,(f,h,p)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+f.nodeSize,t),x=r.addToSet(g);for(let S=0;S<g.length;S++)g[S].isInSet(x)||(a&&a.to==b&&a.mark.eq(g[S])?a.to=v:o.push(a=new Fn(b,v,g[S])));u&&u.to==b?u.to=v:l.push(u=new ri(b,v,r))}}),o.forEach(f=>n.step(f)),l.forEach(f=>n.step(f))}function w_(n,e,t,r){let o=[],l=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;l++;let f=null;if(r instanceof Pu){let h=a.marks,p;for(;p=r.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let h=Math.min(u+a.nodeSize,t);for(let p=0;p<f.length;p++){let g=f[p],b;for(let v=0;v<o.length;v++){let x=o[v];x.step==l-1&&g.eq(o[v].style)&&(b=x)}b?(b.to=h,b.step=l):o.push({style:g,from:Math.max(u,e),to:h,step:l})}}}),o.forEach(a=>n.step(new Fn(a.from,a.to,a.style)))}function Sm(n,e,t,r=t.contentMatch,o=!0){let l=n.doc.nodeAt(e),a=[],u=e+1;for(let f=0;f<l.childCount;f++){let h=l.child(f),p=u+h.nodeSize,g=r.matchType(h.type);if(!g)a.push(new gt(u,p,re.empty));else{r=g;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Fn(u,p,h.marks[b]));if(o&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new re(Q.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new gt(u+b.index,u+b.index+b[0].length,x))}}u=p}if(!r.validEnd){let f=r.fillBefore(Q.empty,!0);n.replace(u,u,new re(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function C_(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ss(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!C_(o,l,a))break}return null}function M_(n,e,t){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),u=o.after(l+1),f=a,h=u,p=Q.empty,g=0;for(let x=l,S=!1;x>t;x--)S||r.index(x)>0?(S=!0,p=Q.from(r.node(x).copy(p)),g++):f--;let b=Q.empty,v=0;for(let x=l,S=!1;x>t;x--)S||o.after(x+1)<o.end(x)?(S=!0,b=Q.from(o.node(x).copy(b)),v++):h++;n.step(new yt(f,h,a,u,new re(p.append(b),g,v),p.size-g,!0))}function wm(n,e,t=null,r=n){let o=E_(n,e),l=o&&T_(r,e);return l?o.map(j0).concat({type:e,attrs:t}).concat(l.map(j0)):null}function j0(n){return{type:n,attrs:null}}function E_(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,o,a)?l:null}function T_(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;f&&h<o;h++)f=f.matchType(t.child(h).type);return!f||!f.validEnd?null:a}function k_(n,e,t){let r=Q.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Q.from(t[a].type.create(t[a].attrs,r))}let o=e.start,l=e.end;n.step(new yt(o,l,o,l,new re(r,0,0),t.length,!0))}function O_(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let f=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,f)&&A_(n.doc,n.mapping.slice(l).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&bC(n,a,u,l),Sm(n,n.mapping.slice(l).map(u,1),r,void 0,h===null);let p=n.mapping.slice(l),g=p.map(u,1),b=p.map(u+a.nodeSize,1);return n.step(new yt(g,b,g+1,b-1,new re(Q.from(r.create(f,null,a.marks)),0,0),1,!0)),h===!0&&yC(n,a,u,l),!1}})}function yC(n,e,t,r){e.forEach((o,l)=>{if(o.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(o.text);){let f=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function bC(n,e,t,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function A_(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function N_(n,e,t,r,o){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,o||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new yt(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new re(Q.from(a),0,0),1,!0))}function vr(n,e,t=1,r){let o=n.resolve(e),l=o.depth-t,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let h=o.depth-1,p=t-2;h>l;h--,p--){let g=o.node(h),b=o.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(b,g.childCount),x=r&&r[p+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let S=r&&r[p]||g;if(!g.canReplace(b+1,g.childCount)||!S.type.validContent(v))return!1}let u=o.indexAfter(l),f=r&&r[0];return o.node(l).canReplaceWith(u,u,f?f.type:o.node(l+1).type)}function D_(n,e,t=1,r){let o=n.doc.resolve(e),l=Q.empty,a=Q.empty;for(let u=o.depth,f=o.depth-t,h=t-1;u>f;u--,h--){l=Q.from(o.node(u).copy(l));let p=r&&r[h];a=Q.from(p?p.type.create(p.attrs,a):o.node(u).copy(a))}n.step(new gt(e,e,new re(l.append(a),t,t),!0))}function vi(n,e){let t=n.resolve(e),r=t.index();return vC(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function R_(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function vC(n,e){return!!(n&&e&&!n.isLeaf&&R_(n,e))}function ju(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let l,a,u=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(o+1),u++,a=r.node(o).maybeChild(u)):(l=r.node(o).maybeChild(u-1),a=r.node(o+1)),l&&!l.isTextblock&&vC(l,a)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function __(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(o&&a.inlineContent){let p=a.whitespace=="pre",g=!!a.contentMatch.matchType(o);p&&!g?r=!1:!p&&g&&(r=!0)}let u=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);bC(n,p.node(),p.before(),u)}a.inlineContent&&Sm(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let f=n.mapping.slice(u),h=f.map(e-t);if(n.step(new gt(h,f.map(e+t,-1),re.empty,!0)),r===!0){let p=n.doc.resolve(h);yC(n,p.node(),p.before(),n.steps.length)}return n}function z_(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,t))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,t))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function L_(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let l=0;l<t.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(u>0?1:0),h=r.node(a),p=!1;if(l==1)p=h.canReplace(f,f,o);else{let g=h.contentMatchAt(f).findWrapping(o.firstChild.type);p=g&&h.canReplaceWith(f,f,g[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Hu(n,e,t=e,r=re.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),l=n.resolve(t);return xC(o,l,r)?new gt(e,t,r):new B_(o,l,r).fit()}function xC(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class B_{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Q.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=Q.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,u=o.depth;for(;a&&u&&l.childCount==1;)l=l.firstChild.content,a--,u--;let f=new re(l,a,u);return e>-1?new yt(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new gt(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Ph(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],p,g=null;if(t==1&&(a?h.matchType(a.type)||(g=h.fillBefore(Q.from(a),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:g};if(t==2&&a&&(p=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:p};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Ph(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new re(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Ph(e,t);if(o.childCount<=1&&t>0){let l=e.size-t<=t+o.size;this.unplaced=new re(Dl(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new re(Dl(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let a=this.unplaced,u=r?r.content:a.content,f=a.openStart-e,h=0,p=[],{match:g,type:b}=this.frontier[t];if(o){for(let S=0;S<o.childCount;S++)p.push(o.child(S));g=g.matchFragment(o)}let v=u.size+e-(a.content.size-a.openEnd);for(;h<u.childCount;){let S=u.child(h),w=g.matchType(S.type);if(!w)break;h++,(h>1||f==0||S.content.size)&&(g=w,p.push(SC(S.mark(b.allowedMarks(S.marks)),h==1?f:0,h==u.childCount?v:-1)))}let x=h==u.childCount;x||(v=-1),this.placed=Rl(this.placed,t,Q.from(p)),this.frontier[t].match=g,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,w=u;S<v;S++){let M=w.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),w=M.content}this.unplaced=x?e==0?re.empty:new re(Dl(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new re(Dl(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!jh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=jh(e,t,o,r,l);if(a){for(let u=t-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],p=jh(e,u,h,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Rl(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Rl(this.placed,this.depth,Q.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Q.empty,!0);t.childCount&&(this.placed=Rl(this.placed,this.frontier.length,t))}}function Dl(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Dl(n.firstChild.content,e-1,t)))}function Rl(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Rl(n.lastChild.content,e-1,t)))}function Ph(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function SC(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,SC(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Q.empty,!0)))),n.copy(r)}function jh(n,e,t,r,o){let l=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,a);return u&&!P_(t,l.content,a)?u:null}function P_(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function j_(n){return n.spec.defining||n.spec.definingForContent}function H_(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),l=n.doc.resolve(t);if(xC(o,l,r))return n.step(new gt(e,t,r));let a=CC(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(o.depth+1);a.unshift(u);for(let b=o.depth,v=o.pos-1;b>0;b--,v--){let x=o.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(b)>-1?u=b:o.before(b)==v&&a.splice(1,0,-b)}let f=a.indexOf(u),h=[],p=r.openStart;for(let b=r.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==r.openStart)break;b=x.content}for(let b=p-1;b>=0;b--){let v=h[b],x=j_(v.type);if(x&&!v.sameMarkup(o.node(Math.abs(u)-1)))p=b;else if(x||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+p+1)%(r.openStart+1),x=h[v];if(x)for(let S=0;S<a.length;S++){let w=a[(S+f)%a.length],M=!0;w<0&&(M=!1,w=-w);let E=o.node(w-1),k=o.index(w-1);if(E.canReplaceWith(k,k,x.type,x.marks))return n.replace(o.before(w),M?l.after(w):t,new re(wC(r.content,0,r.openStart,v),v,r.openEnd))}}let g=n.steps.length;for(let b=a.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>g));b--){let v=a[b];v<0||(e=o.before(v),t=l.after(v))}}function wC(n,e,t,r,o){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(wC(l.content,e+1,t,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore(Q.empty,!0))}return n}function I_(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=z_(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new re(Q.from(r),0,0))}function U_(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),l=CC(r,o);for(let a=0;a<l.length;a++){let u=l[a],f=a==l.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),o.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return n.delete(r.before(u),o.after(u))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function CC(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let l=n.start(o);if(l<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&t.push(o)}return t}class cs extends Rt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ot.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return ot.fromReplace(e,this.pos,this.pos+1,new re(Q.from(o),0,t.isLeaf?0:1))}getMap(){return ln.empty}invert(e){return new cs(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new cs(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new cs(t.pos,t.attr,t.value)}}Rt.jsonID("attr",cs);class Gl extends Rt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ot.ok(r)}getMap(){return ln.empty}invert(e){return new Gl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gl(t.attr,t.value)}}Rt.jsonID("docAttr",Gl);let hs=class extends Error{};hs=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};hs.prototype=Object.create(Error.prototype);hs.prototype.constructor=hs;hs.prototype.name="TransformError";class MC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $l}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new hs(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=re.empty){let o=Hu(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new re(Q.from(r),0,0))}delete(e,t){return this.replace(e,t,re.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return H_(this,e,t,r),this}replaceRangeWith(e,t,r){return I_(this,e,t,r),this}deleteRange(e,t){return U_(this,e,t),this}lift(e,t){return M_(this,e,t),this}join(e,t=1){return __(this,e,t),this}wrap(e,t){return k_(this,e,t),this}setBlockType(e,t=e,r,o=null){return O_(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return N_(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new cs(e,t,r)),this}setDocAttribute(e,t){return this.step(new Gl(e,t)),this}addNodeMark(e,t){return this.step(new ii(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ve)t.isInSet(r.marks)&&this.step(new eo(e,t));else{let o=r.marks,l,a=[];for(;l=t.isInSet(o);)a.push(new eo(e,l)),o=l.removeFromSet(o);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(e,t=1,r){return D_(this,e,t,r),this}addMark(e,t,r){return S_(this,e,t,r),this}removeMark(e,t,r){return w_(this,e,t,r),this}clearIncompatible(e,t,r){return Sm(this,e,t,r),this}}const Hh=Object.create(null);class xe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new EC(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=re.empty){let r=t.content.lastChild,o=null;for(let u=0;u<t.openEnd;u++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:f,$to:h}=a[u],p=e.mapping.slice(l);e.replaceRange(p.map(f.pos),p.map(h.pos),u?re.empty:t),u==0&&U0(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],f=e.mapping.slice(r),h=f.map(a.pos),p=f.map(u.pos);l?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),U0(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new ve(e):ts(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=t<0?ts(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):ts(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new un(e.node(0))}static atStart(e){return ts(e,e,0,0,1)||new un(e)}static atEnd(e){return ts(e,e,e.content.size,e.childCount,-1)||new un(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Hh[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Hh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Hh[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}}xe.prototype.visible=!0;class EC{constructor(e,t){this.$from=e,this.$to=t}}let H0=!1;function I0(n){!H0&&!n.parent.inlineContent&&(H0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ve extends xe{constructor(e,t=e){I0(e),I0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return xe.near(r);let o=e.resolve(t.map(this.anchor));return new ve(o.parent.inlineContent?o:r,r)}replace(e,t=re.empty){if(super.replace(e,t),t==re.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Iu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let l=xe.findFrom(t,r,!0)||xe.findFrom(t,-r,!0);if(l)t=l.$head;else return xe.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(xe.findFrom(e,-r,!0)||xe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new ve(e,t)}}xe.jsonID("text",ve);class Iu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Iu(e.map(this.anchor),e.map(this.head))}resolve(e){return ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends xe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),l=e.resolve(o);return r?xe.near(l):new pe(l)}content(){return new re(Q.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Cm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(t.anchor))}static create(e,t){return new pe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;xe.jsonID("node",pe);class Cm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Iu(r,r):new Cm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&pe.isSelectable(r)?new pe(t):xe.near(t)}}class un extends xe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=re.empty){if(t==re.empty){e.delete(0,e.doc.content.size);let r=xe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new un(e)}map(e){return new un(e)}eq(e){return e instanceof un}getBookmark(){return V_}}xe.jsonID("all",un);const V_={map(){return this},resolve(n){return new un(n)}};function ts(n,e,t,r,o,l=!1){if(e.inlineContent)return ve.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let u=e.child(a);if(u.isAtom){if(!l&&pe.isSelectable(u))return pe.create(n,t-(o<0?u.nodeSize:0))}else{let f=ts(n,u,t+o,o<0?u.childCount:0,o,l);if(f)return f}t+=u.nodeSize*o}return null}function U0(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof gt||o instanceof yt))return;let l=n.mapping.maps[r],a;l.forEach((u,f,h,p)=>{a==null&&(a=p)}),n.setSelection(xe.near(n.doc.resolve(a),t))}const V0=1,q0=2,F0=4;class q_ extends MC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V0)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&V0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=q0,this}ensureMarks(e){return Ve.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&q0)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ve.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,l)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=F0,this}get scrolledIntoView(){return(this.updated&F0)>0}}function $0(n,e){return!e||!n?n:n.bind(e)}class _l{constructor(e,t,r){this.name=e,this.init=$0(t.init,r),this.apply=$0(t.apply,r)}}const F_=[new _l("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new _l("selection",{init(n,e){return n.selection||xe.atStart(e.doc)},apply(n){return n.selection}}),new _l("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new _l("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Ih{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=F_.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _l(r.key,r.spec.state,r))})}}class is{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let f=o?o[a].n:0,h=o?o[a].state:this,p=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let g=0;g<this.config.plugins.length;g++)o.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),l=!0}o&&(o[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new is(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new q_(this)}static create(e){let t=new Ih(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new is(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new Ih(this.schema,e.plugins),r=t.fields,o=new is(t);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Ih(e.schema,e.plugins),l=new is(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=li.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=xe.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],h=f.spec.state;if(f.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){l[a.name]=h.fromJSON.call(f,e,t[u],l);return}}l[a.name]=a.init(e,l)}}),l}}function TC(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=TC(o,e,{})),t[r]=o}return t}class _t{constructor(e){this.spec=e,this.props={},e.props&&TC(e.props,this,this.props),this.key=e.key?e.key.key:kC("plugin")}getState(e){return e[this.key]}}const Uh=Object.create(null);function kC(n){return n in Uh?n+"$"+ ++Uh[n]:(Uh[n]=0,n+"$")}class It{constructor(e="key"){this.key=kC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},ps=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Ep=null;const gr=function(n,e,t){let r=Ep||(Ep=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},$_=function(){Ep=null},to=function(n,e,t,r){return t&&(G0(n,e,t,r,-1)||G0(n,e,t,r,1))},G_=/^(img|br|input|textarea|hr)$/i;function G0(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:wn(n))){let l=n.parentNode;if(!l||l.nodeType!=1||la(n)||G_.test(n.nodeName)||n.contentEditable=="false")return!1;e=Mt(n)+(o<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?wn(n):0}else return!1}}function wn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Y_(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=wn(n)}else if(n.parentNode&&!la(n))e=Mt(n),n=n.parentNode;else return null}}function K_(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!la(n))e=Mt(n)+1,n=n.parentNode;else return null}}function X_(n,e,t){for(let r=e==0,o=e==wn(n);r||o;){if(n==t)return!0;let l=Mt(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,o=o&&l==wn(n)}}function la(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Uu=function(n){return n.focusNode&&to(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Vi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function W_(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Q_(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(wn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(wn(r.startContainer),r.startOffset)}}}const Yn=typeof navigator<"u"?navigator:null,Y0=typeof document<"u"?document:null,xi=Yn&&Yn.userAgent||"",Tp=/Edge\/(\d+)/.exec(xi),OC=/MSIE \d/.exec(xi),kp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xi),Kt=!!(OC||kp||Tp),ci=OC?document.documentMode:kp?+kp[1]:Tp?+Tp[1]:0,zn=!Kt&&/gecko\/(\d+)/i.test(xi);zn&&+(/Firefox\/(\d+)/.exec(xi)||[0,0])[1];const Op=!Kt&&/Chrome\/(\d+)/.exec(xi),Nt=!!Op,AC=Op?+Op[1]:0,Bt=!Kt&&!!Yn&&/Apple Computer/.test(Yn.vendor),ms=Bt&&(/Mobile\/\w+/.test(xi)||!!Yn&&Yn.maxTouchPoints>2),Sn=ms||(Yn?/Mac/.test(Yn.platform):!1),Z_=Yn?/Win/.test(Yn.platform):!1,yr=/Android \d/.test(xi),aa=!!Y0&&"webkitFontSmoothing"in Y0.documentElement.style,J_=aa?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ez(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function pr(n,e){return typeof n=="number"?n:n[e]}function tz(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function K0(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=ps(a);continue}let u=a,f=u==l.body,h=f?ez(l):tz(u),p=0,g=0;if(e.top<h.top+pr(r,"top")?g=-(h.top-e.top+pr(o,"top")):e.bottom>h.bottom-pr(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+pr(o,"top")-h.top:e.bottom-h.bottom+pr(o,"bottom")),e.left<h.left+pr(r,"left")?p=-(h.left-e.left+pr(o,"left")):e.right>h.right-pr(r,"right")&&(p=e.right-h.right+pr(o,"right")),p||g)if(f)l.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,x=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let S=u.scrollLeft-v,w=u.scrollTop-x;e={left:e.left-S,top:e.top-w,right:e.right-S,bottom:e.bottom-w}}let b=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:ps(a)}}function nz(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(l,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){r=u,o=f.top;break}}return{refDOM:r,refTop:o,stack:NC(n.dom)}}function NC(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=ps(r));return e}function rz({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;DC(t,r==0?0:r-e)}function DC(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:l}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Jo=null;function iz(n){if(n.setActive)return n.setActive();if(Jo)return n.focus(Jo);let e=NC(n);n.focus(Jo==null?{get preventScroll(){return Jo={preventScroll:!0},!0}}:void 0),Jo||(Jo=!1,DC(e,0))}function RC(n,e){let t,r=2e8,o,l=0,a=e.top,u=e.top,f,h;for(let p=n.firstChild,g=0;p;p=p.nextSibling,g++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=gr(p).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=a&&x.bottom>=u){a=Math.max(x.bottom,a),u=Math.min(x.top,u);let S=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(S<r){t=p,r=S,o=S&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&S&&(l=g+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!f&&x.left<=e.left&&x.right>=e.left&&(f=p,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(l=g+1)}}return!t&&f&&(t=f,o=h,r=0),t&&t.nodeType==3?oz(t,o):!t||r&&t.nodeType==1?{node:n,offset:l}:RC(t,o)}function oz(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=Zr(r,1);if(l.top!=l.bottom&&Mm(e,l))return{node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function Mm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function sz(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function lz(n,e,t){let{node:r,offset:o}=RC(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,l)}function az(n,e,t,r){let o=-1;for(let l=e,a=!1;l!=n.dom;){let u=n.docView.nearestDesc(l,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&(!a&&f.left>r.left||f.top>r.top?o=u.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(o=u.posAfter),a=!0),!u.contentDOM&&o<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function _C(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=o;;){let a=n.childNodes[l];if(a.nodeType==1){let u=a.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(Mm(e,h))return _C(a,e,h)}}if((l=(l+1)%r)==o)break}return n}function cz(n,e){let t=n.dom.ownerDocument,r,o=0,l=Q_(t,e.left,e.top);l&&({node:r,offset:o}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!Mm(e,h)||(a=_C(n.dom,e,h),!a))return null}if(Bt)for(let h=a;r&&h;h=ps(h))h.draggable&&(r=void 0);if(a=sz(a,e),r){if(zn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&o++}let h;aa&&o&&r.nodeType==1&&(h=r.childNodes[o-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=az(n,r,o,e))}u==null&&(u=lz(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function X0(n){return n.top<n.bottom||n.left<n.right}function Zr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(X0(r))return r}return Array.prototype.find.call(t,X0)||n.getBoundingClientRect()}const uz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function zC(n,e,t){let{node:r,offset:o,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=aa||zn;if(r.nodeType==3)if(a&&(uz.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=Zr(gr(r,o,o),t);if(zn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let h=Zr(gr(r,o-1,o-1),-1);if(h.top==f.top){let p=Zr(gr(r,o,o+1),-1);if(p.top!=f.top)return Cl(p,p.left<h.left)}}return f}else{let f=o,h=o,p=t<0?1:-1;return t<0&&!o?(h++,p=-1):t>=0&&o==r.nodeValue.length?(f--,p=1):t<0?f--:h++,Cl(Zr(gr(r,f,h),p),p<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(t<0||o==wn(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return Vh(f.getBoundingClientRect(),!1)}if(l==null&&o<wn(r)){let f=r.childNodes[o];if(f.nodeType==1)return Vh(f.getBoundingClientRect(),!0)}return Vh(r.getBoundingClientRect(),t>=0)}if(l==null&&o&&(t<0||o==wn(r))){let f=r.childNodes[o-1],h=f.nodeType==3?gr(f,wn(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return Cl(Zr(h,1),!1)}if(l==null&&o<wn(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?gr(f,0,a?0:1):f.nodeType==1?f:null:null;if(h)return Cl(Zr(h,-1),!0)}return Cl(Zr(r.nodeType==3?gr(r):r,-t),t>=0)}function Cl(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Vh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function LC(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function fz(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return LC(n,e,()=>{let{node:l}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let a=zC(n,o.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=gr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(t=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const dz=/[\u0590-\u08ac]/;function hz(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,u=n.domSelection();return u?!dz.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?l:a:LC(n,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:g}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:S}=n.domSelectionRange(),w=x&&!v.contains(x.nodeType==1?x:x.parentNode)||f==x&&h==S;try{u.collapse(p,g),f&&(f!=p||h!=g)&&u.extend&&u.extend(f,h)}catch{}return b!=null&&(u.caretBidiLevel=b),w}):r.pos==r.start()||r.pos==r.end()}let W0=null,Q0=null,Z0=!1;function pz(n,e,t){return W0==e&&Q0==t?Z0:(W0=e,Q0=t,Z0=t=="up"||t=="down"?fz(n,e,t):hz(n,e,t))}const Mn=0,J0=1,Fi=2,Kn=3;class ca{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=Mn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let u=o.children[a];if(u.size){o=u;break}}return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],u=l+a.size;if(u>e||a instanceof PC){o=e-l;break}l=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof BC&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Mt(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Mt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,u=0;;u++){let f=this.children[u],h=a+f.size;if(o==-1&&e<=h){let p=a+f.border;if(e>=p&&t<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=a;for(let g=u;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){o=Mt(b.dom)+1;break}e-=b.size}o==-1&&(o=0)}if(o>-1&&(h>t||u==this.children.length-1)){t=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Mt(g.dom);break}t+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let v=0,x=0;v<this.children.length;v++){let S=this.children[v],w=x+S.size;if(l>x&&a<w)return S.setSelection(e-x-S.border,t-x-S.border,r,o);x=w}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((zn||Bt)&&e==t){let{node:v,offset:x}=u;if(v.nodeType==3){if(g=!!(x&&v.nodeValue[x-1]==`
`),g&&x==v.nodeValue.length)for(let S=v,w;S;S=S.parentNode){if(w=S.nextSibling){w.nodeName=="BR"&&(u=f={node:w.parentNode,offset:Mt(w)+1});break}let M=S.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let S=v.childNodes[x-1];g=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(zn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||g&&Bt)&&to(u.node,u.offset,p.anchorNode,p.anchorOffset)&&to(f.node,f.offset,p.focusNode,p.focusOffset))return;let b=!1;if((h.extend||e==t)&&!g){h.collapse(u.node,u.offset);try{e!=t&&h.extend(f.node,f.offset),b=!0}catch{}}if(!b){if(e>t){let x=u;u=f,f=x}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+l.border,f=a-l.border;if(e>=u&&t<=f){this.dirty=e==r||t==a?Fi:J0,e==u&&t==f&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Kn:l.markDirty(e-u,t-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Fi:Kn}r=a}this.dirty=Fi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Fi:J0;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class BC extends ca{constructor(e,t,r,o){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==Mn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class mz extends ca{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class no extends ca{constructor(e,t,r,o,l){super(e,[],r,o),this.mark=t,this.spec=l}static create(e,t,r,o){let l=o.nodeViews[t.type.name],a=l&&l(t,o,r);return(!a||!a.dom)&&(a=lo.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new no(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Mn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Mn}}slice(e,t,r){let o=no.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=Np(l,t,a,r)),e>0&&(l=Np(l,0,e,r));for(let u=0;u<l.length;u++)l[u].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ui extends ca{constructor(e,t,r,o,l,a,u,f,h){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,t,r,o,l,a){let u=l.nodeViews[t.type.name],f,h=u&&u(t,l,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,o),p=h&&h.dom,g=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=lo.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let b=p;return p=IC(p,r,t),h?f=new gz(e,t,r,o,p,g||null,b,h,l,a+1):t.isText?new Vu(e,t,r,o,p,b,l):new ui(e,t,r,o,p,g||null,b,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Q.empty)}return e}matchesNode(e,t,r){return this.dirty==Mn&&e.eq(this.node)&&hu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,u=l&&l.pos<0,f=new bz(this,a&&a.node,e);Sz(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&f.syncToMarks(p==this.node.childCount?Ve.none:this.node.child(p).marks,r,e),f.placeWidget(h,e,o)},(h,p,g,b)=>{f.syncToMarks(h.marks,r,e);let v;f.findNodeMatch(h,p,g,b)||u&&e.state.selection.from>o&&e.state.selection.to<o+h.nodeSize&&(v=f.findIndexWithChild(l.node))>-1&&f.updateNodeAt(h,p,g,v,e)||f.updateNextNode(h,p,g,e,b,o)||f.addNode(h,p,g,e,o),o+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Fi)&&(a&&this.protectLocalComposition(e,a),jC(this.contentDOM,this.children,e),ms&&wz(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof ve)||r<t||o>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,u=Cz(this.node.content,a,r-t,o-t);return u<0?null:{node:l,pos:u,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new mz(this,l,t,o);e.input.compositionNodes.push(a),this.children=Np(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Mn}updateOuterDeco(e){if(hu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=HC(this.dom,this.nodeDOM,Ap(this.outerDeco,this.node,t),Ap(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ex(n,e,t,r,o){IC(r,e,n);let l=new ui(void 0,n,e,t,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Vu extends ui{constructor(e,t,r,o,l,a,u){super(e,t,r,o,l,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==Kn||this.dirty!=Mn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Mn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Mn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),l=document.createTextNode(o.text);return new Vu(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class PC extends ca{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Mn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gz extends ui{constructor(e,t,r,o,l,a,u,f,h,p){super(e,t,r,o,l,a,u,h,p),this.spec=f}update(e,t,r,o){if(this.dirty==Kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function jC(n,e,t){let r=n.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=tx(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(u,r);if(a instanceof no){let f=r?r.previousSibling:n.lastChild;jC(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=tx(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const Ll=function(n){n&&(this.nodeName=n)};Ll.prototype=Object.create(null);const $i=[new Ll];function Ap(n,e,t){if(n.length==0)return $i;let r=t?$i[0]:new Ll,o=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&o.push(r=new Ll(a.nodeName));for(let u in a){let f=a[u];f!=null&&(t&&o.length==1&&o.push(r=new Ll(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return o}function HC(n,e,t,r){if(t==$i&&r==$i)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],u=t[l];if(l){let f;u&&u.nodeName==a.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(o),u=$i[0]),o=f}yz(o,u||$i[0],a)}return o}function yz(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&n.classList.add(o[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function IC(n,e,t){return HC(n,n,$i,Ap(e,t,n.nodeType!=1))}function hu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function tx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class bz{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=vz(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;o<a&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=Mn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=no.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,o,l){let a=this.top.children[o];return a.dirty==Kn&&a.dom==a.contentDOM&&(a.dirty=Fi),a.update(e,t,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,l,a){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof ui){let h=this.preMatch.matched.get(f);if(h!=null&&h!=l)return!1;let p=f.dom,g,b=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Kn&&hu(t,f.outerDeco));if(!b&&f.update(e,t,r,o))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(f,e,t,r,o,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Fi,g.updateChildren(o,a+1),g.dirty=Mn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!hu(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let u=ui.create(this.top,t,r,o,l,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,r,o,l){let a=ui.create(this.top,e,t,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new BC(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof no;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Vu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bt||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new PC(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function vz(n,e){let t=e,r=t.children.length,o=n.childCount,l=new Map,a=[];e:for(;o>0;){let u;for(;;)if(r){let h=t.children[r-1];if(h instanceof no)t=h,r=h.children.length;else{u=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=n.child(o-1))break;--o,l.set(u,o),a.push(u)}}return{index:o,matched:l,matches:a.reverse()}}function xz(n,e){return n.type.side-e.type.side}function Sz(n,e,t,r){let o=e.locals(n),l=0;if(o.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,o,e.forChild(l,p),h),l+=p.nodeSize}return}let a=0,u=[],f=null;for(let h=0;;){let p,g;for(;a<o.length&&o[a].to==l;){let w=o[a++];w.widget&&(p?(g||(g=[p])).push(w):p=w)}if(p)if(g){g.sort(xz);for(let w=0;w<g.length;w++)t(g[w],h,!!f)}else t(p,h,!!f);let b,v;if(f)v=-1,b=f,f=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let w=0;w<u.length;w++)u[w].to<=l&&u.splice(w--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)u.push(o[a++]);let x=l+b.nodeSize;if(b.isText){let w=x;a<o.length&&o[a].from<w&&(w=o[a].from);for(let M=0;M<u.length;M++)u[M].to<w&&(w=u[M].to);w<x&&(f=b.cut(w-l),b=b.cut(0,w-l),x=w,v=-1)}else for(;a<o.length&&o[a].to<x;)a++;let S=b.isInline&&!b.isLeaf?u.filter(w=>!w.inline):u.slice();r(b,S,e.forChild(l,b),v),l=x}}function wz(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Cz(n,e,t,r){for(let o=0,l=0;o<n.childCount&&l<=r;){let a=n.child(o++),u=l;if(l+=a.nodeSize,!a.isText)continue;let f=a.text;for(;o<n.childCount;){let h=n.child(o++);if(l+=h.nodeSize,!h.isText)break;f+=h.text}if(l>=t){if(l>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?f.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=t)return u+h;if(t==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function Np(n,e,t,r,o){let l=[];for(let a=0,u=0;a<n.length;a++){let f=n[a],h=u,p=u+=f.size;h>=t||p<=e?l.push(f):(h<e&&l.push(f.slice(0,e-h,r)),o&&(l.push(o),o=void 0),p>t&&l.push(f.slice(t-h,f.size,r)))}return l}function Em(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),l=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),f,h;if(Uu(t)){for(f=a;o&&!o.node;)o=o.parent;let g=o.node;if(o&&g.isAtom&&pe.isSelectable(g)&&o.parent&&!(g.isInline&&X_(t.focusNode,t.focusOffset,o.dom))){let b=o.posBefore;h=new pe(a==b?u:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,b=a;for(let v=0;v<t.rangeCount;v++){let x=t.getRangeAt(v);g=Math.min(g,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(g<0)return null;[f,a]=b==n.state.selection.anchor?[b,g]:[g,b],u=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!h){let g=e=="pointer"||n.state.selection.head<u.pos&&!l?1:-1;h=Tm(n,p,u,g)}return h}function UC(n){return n.editable?n.hasFocus():qC(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function xr(n,e=!1){let t=n.state.selection;if(VC(n,t),!!UC(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Nt){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&to(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Ez(n);else{let{anchor:r,head:o}=t,l,a;nx&&!(t instanceof ve)&&(t.$from.parent.inlineContent||(l=rx(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=rx(n,t.to))),n.docView.setSelection(r,o,n,e),nx&&(l&&ix(l),a&&ix(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Mz(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const nx=Bt||Nt&&AC<63;function rx(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(Bt&&o&&o.contentEditable=="false")return qh(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return qh(o);if(l)return qh(l)}}function qh(n){return n.contentEditable="true",Bt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function ix(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Mz(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!UC(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ez(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,Mt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&Kt&&ci<=11&&(r.disabled=!0,r.disabled=!1)}function VC(n,e){if(e instanceof pe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(ox(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else ox(n)}function ox(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Tm(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||ve.between(e,t,r)}function sx(n){return n.editable&&!n.hasFocus()?!1:qC(n)}function qC(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Tz(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return to(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Dp(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),l=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return l&&xe.findFrom(l,e)}function Jr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function lx(n,e,t){let r=n.state.selection;if(r instanceof ve)if(t.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return Jr(n,new ve(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=Dp(n.state,e);return o&&o instanceof pe?Jr(n,o):!1}else if(!(Sn&&t.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let u=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?pe.isSelectable(l)?Jr(n,new pe(e<0?n.state.doc.resolve(o.pos-l.nodeSize):o)):aa?Jr(n,new ve(n.state.doc.resolve(e<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return Jr(n,new ve(e>0?r.$to:r.$from));{let o=Dp(n.state,e);return o?Jr(n,o):!1}}}function pu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Bl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function es(n,e){return e<0?kz(n):Oz(n)}function kz(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,l,a=!1;for(zn&&t.nodeType==1&&r<pu(t)&&Bl(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(Bl(u,-1))o=t,l=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(FC(t))break;{let u=t.previousSibling;for(;u&&Bl(u,-1);)o=t.parentNode,l=Mt(u),u=u.previousSibling;if(u)t=u,r=pu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?Rp(n,t,r):o&&Rp(n,o,l)}function Oz(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=pu(t),l,a;for(;;)if(r<o){if(t.nodeType!=1)break;let u=t.childNodes[r];if(Bl(u,1))l=t,a=++r;else break}else{if(FC(t))break;{let u=t.nextSibling;for(;u&&Bl(u,1);)l=u.parentNode,a=Mt(u)+1,u=u.nextSibling;if(u)t=u,r=0,o=pu(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}l&&Rp(n,l,a)}function FC(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Az(n,e){for(;n&&e==n.childNodes.length&&!la(n);)e=Mt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Nz(n,e){for(;n&&!e&&!la(n);)e=Mt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Rp(n,e,t){if(e.nodeType!=3){let l,a;(a=Az(e,t))?(e=a,t=0):(l=Nz(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Uu(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&xr(n)},50)}function ax(n,e){let t=n.state.doc.resolve(e);if(!(Nt||Z_)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function cx(n,e,t){let r=n.state.selection;if(r instanceof ve&&!r.empty||t.indexOf("s")>-1||Sn&&t.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=Dp(n.state,e);if(a&&a instanceof pe)return Jr(n,a)}if(!o.parent.inlineContent){let a=e<0?o:l,u=r instanceof un?xe.near(a,e):xe.findFrom(a,e);return u?Jr(n,u):!1}return!1}function ux(n,e){if(!(n.state.selection instanceof ve))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function fx(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Dz(n){if(!Bt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;fx(n,r,"true"),setTimeout(()=>fx(n,r,"false"),20)}return!1}function Rz(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function _z(n,e){let t=e.keyCode,r=Rz(e);if(t==8||Sn&&t==72&&r=="c")return ux(n,-1)||es(n,-1);if(t==46&&!e.shiftKey||Sn&&t==68&&r=="c")return ux(n,1)||es(n,1);if(t==13||t==27)return!0;if(t==37||Sn&&t==66&&r=="c"){let o=t==37?ax(n,n.state.selection.from)=="ltr"?-1:1:-1;return lx(n,o,r)||es(n,o)}else if(t==39||Sn&&t==70&&r=="c"){let o=t==39?ax(n,n.state.selection.from)=="ltr"?1:-1:1;return lx(n,o,r)||es(n,o)}else{if(t==38||Sn&&t==80&&r=="c")return cx(n,-1,r)||es(n,-1);if(t==40||Sn&&t==78&&r=="c")return Dz(n)||cx(n,1,r)||es(n,1);if(r==(Sn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function km(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=n.someProp("clipboardSerializer")||lo.fromSchema(n.state.schema),u=WC(),f=u.createElement("div");f.appendChild(a.serializeFragment(r,{document:u}));let h=f.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=XC[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let x=u.createElement(p[v]);for(;f.firstChild;)x.appendChild(f.firstChild);f.appendChild(x),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${o} ${l}${g?` -${g}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:b,slice:e}}function $C(n,e,t,r,o){let l=o.parent.type.spec.code,a,u;if(!t&&!e)return null;let f=e&&(r||l||!t);if(f){if(n.someProp("transformPastedText",b=>{e=b(e,l||r,n)}),l)return e?new re(Q.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):re.empty;let g=n.someProp("clipboardTextParser",b=>b(e,o,r,n));if(g)u=g;else{let b=o.marks(),{schema:v}=n.state,x=lo.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let w=a.appendChild(document.createElement("p"));S&&w.appendChild(x.serializeNode(v.text(S,b)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=Pz(t),aa&&jz(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||ai.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||p),context:o,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!zz.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)u=Hz(dx(u,+p[1],+p[2]),p[4]);else if(u=re.maxOpen(Lz(u.content,o),!0),u.openStart||u.openEnd){let g=0,b=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=dx(u,g,b)}return n.someProp("transformPasted",g=>{u=g(u,n)}),u}const zz=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Lz(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(u=>{if(!a)return;let f=o.findWrapping(u.type),h;if(!f)return a=null;if(h=a.length&&l.length&&YC(f,l,u,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=KC(a[a.length-1],l.length));let p=GC(u,f);a.push(p),o=o.matchType(p.type),l=f}}),a)return Q.from(a)}return n}function GC(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Q.from(n));return n}function YC(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let l=YC(n,e,t,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(Q.from(GC(t,n,o+1))))}}function KC(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,KC(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Q.empty,!0);return n.copy(t.append(r))}function _p(n,e,t,r,o,l){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(l=0),o<r-1&&(u=_p(u,e,t,r,o+1,l)),o>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,l<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(Q.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function dx(n,e,t){return e<n.openStart&&(n=new re(_p(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new re(_p(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const XC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hx=null;function WC(){return hx||(hx=document.implementation.createHTMLDocument("title"))}let Fh=null;function Bz(n){let e=window.trustedTypes;return e?(Fh||(Fh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Fh.createHTML(n)):n}function Pz(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=WC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&XC[r[1].toLowerCase()])&&(n=o.map(l=>"<"+l+">").join("")+n+o.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=Bz(n),o)for(let l=0;l<o.length;l++)t=t.querySelector(o[l])||t;return t}function jz(n){let e=n.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Hz(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:l,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let f=t.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;o=Q.from(f.create(r[u+1],o)),l++,a++}return new re(o,l,a)}const Pt={},jt={},Iz={touchstart:!0,touchmove:!0};class Uz{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Vz(n){for(let e in Pt){let t=Pt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Fz(n,r)&&!Om(n,r)&&(n.editable||!(r.type in jt))&&t(n,r)},Iz[e]?{passive:!0}:void 0)}Bt&&n.dom.addEventListener("input",()=>null),zp(n)}function oi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function qz(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function zp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Om(n,r))})}function Om(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function Fz(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function $z(n,e){!Om(n,e)&&Pt[e.type]&&(n.editable||!(e.type in jt))&&Pt[e.type](n,e)}jt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!ZC(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(yr&&Nt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ms&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,Vi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||_z(n,t)?t.preventDefault():oi(n,"key")};jt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};jt.keypress=(n,e)=>{let t=e;if(ZC(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Sn&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ve)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function qu(n){return{left:n.clientX,top:n.clientY}}function Gz(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Am(n,e,t,r,o){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,u=>a>l.depth?u(n,t,l.nodeAfter,l.before(a),o,!0):u(n,t,l.node(a),l.before(a),o,!1)))return!0;return!1}function us(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Yz(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(us(n,new pe(t)),!0):!1}function Kz(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof pe&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let u=a>l.depth?l.nodeAfter:l.node(a);if(pe.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?o=l.before(t.$from.depth):o=l.before(a);break}}return o!=null?(us(n,pe.create(n.state.doc,o)),!0):!1}function Xz(n,e,t,r,o){return Am(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(o?Kz(n,t):Yz(n,t))}function Wz(n,e,t,r){return Am(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function Qz(n,e,t,r){return Am(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||Zz(n,t,r)}function Zz(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(us(n,ve.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),u=o.before(l);if(a.inlineContent)us(n,ve.create(r,u+1,u+1+a.content.size));else if(pe.isSelectable(a))us(n,pe.create(r,u));else continue;return!0}}function Nm(n){return mu(n)}const QC=Sn?"metaKey":"ctrlKey";Pt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Nm(n),o=Date.now(),l="singleClick";o-n.input.lastClick.time<500&&Gz(t,n.input.lastClick)&&!t[QC]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l,button:t.button};let a=n.posAtCoords(qu(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Jz(n,a,t,!!r)):(l=="doubleClick"?Wz:Qz)(n,a.pos,a.inside,t)?t.preventDefault():oi(n,"pointer"))};class Jz{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[QC],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let p=e.state.doc.resolve(t.pos);l=p.parent,a=p.depth?p.before():0}const u=o?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof pe&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),oi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(qu(e))),this.updateAllowDefault(e),this.allowDefault||!t?oi(this.view,"pointer"):Xz(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bt&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(us(this.view,xe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):oi(this.view,"pointer")}move(e){this.updateAllowDefault(e),oi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Pt.touchstart=n=>{n.input.lastTouch=Date.now(),Nm(n),oi(n,"pointer")};Pt.touchmove=n=>{n.input.lastTouch=Date.now(),oi(n,"pointer")};Pt.contextmenu=n=>Nm(n);function ZC(n,e){return n.composing?!0:Bt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const e3=yr?5e3:-1;jt.compositionstart=jt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ve&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),mu(n,!0),n.markCursor=null;else if(mu(n,!e.selection.empty),zn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}n.input.composing=!0}JC(n,e3)};jt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,JC(n,20))};function JC(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>mu(n),e))}function eM(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=n3());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function t3(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Y_(e.focusNode,e.focusOffset),r=K_(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function n3(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function mu(n,e=!1){if(!(yr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),eM(n),e||n.docView&&n.docView.dirty){let t=Em(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function r3(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Yl=Kt&&ci<15||ms&&J_<604;Pt.copy=jt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let l=Yl?null:t.clipboardData,a=r.content(),{dom:u,text:f}=km(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",f)):r3(n,u),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function i3(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function o3(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Kl(n,r.value,null,o,e):Kl(n,r.textContent,r.innerHTML,o,e)},50)}function Kl(n,e,t,r,o){let l=$C(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,l||re.empty)))return!0;if(!l)return!1;let a=i3(l),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tM(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}jt.paste=(n,e)=>{let t=e;if(n.composing&&!yr)return;let r=Yl?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Kl(n,tM(r),r.getData("text/html"),o,t)?t.preventDefault():o3(n,t)};class nM{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const s3=Sn?"altKey":"ctrlKey";function rM(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[s3]}Pt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,l=o.empty?null:n.posAtCoords(qu(t)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof pe?o.to-1:o.to))){if(r&&r.mightDrag)a=pe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=pe.create(n.state.doc,g.posBefore))}}let u=(a||n.state.selection).content(),{dom:f,text:h,slice:p}=km(n,u);(!t.dataTransfer.files.length||!Nt||AC>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Yl?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",Yl||t.dataTransfer.setData("text/plain",h),n.dragging=new nM(p,rM(n,t),a)};Pt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};jt.dragover=jt.dragenter=(n,e)=>e.preventDefault();jt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(qu(t));if(!o)return;let l=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",x=>{a=x(a,n)}):a=$C(n,tM(t.dataTransfer),Yl?null:t.dataTransfer.getData("text/html"),!1,l);let u=!!(r&&rM(n,t));if(n.someProp("handleDrop",x=>x(n,t,a||re.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?L_(n.state.doc,l.pos,a):l.pos;f==null&&(f=l.pos);let h=n.state.tr;if(u){let{node:x}=r;x?x.replace(h):h.deleteSelection()}let p=h.mapping.map(f),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(b))return;let v=h.doc.resolve(p);if(g&&pe.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new pe(v));else{let x=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((S,w,M,E)=>x=E),h.setSelection(Tm(n,v,h.doc.resolve(x)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};Pt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&xr(n)},20))};Pt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Pt.beforeinput=(n,e)=>{if(Nt&&yr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,Vi(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in jt)Pt[n]=jt[n];function Xl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class gu{constructor(e,t){this.toDOM=e,this.spec=t||Xi,this.side=this.spec.side||0}map(e,t,r,o){let{pos:l,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new Lt(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof gu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class fi{constructor(e,t){this.attrs=e,this.spec=t||Xi}map(e,t,r,o){let l=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new Lt(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof fi&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}static is(e){return e.type instanceof fi}destroy(){}}class Dm{constructor(e,t){this.attrs=e,this.spec=t||Xi}map(e,t,r,o){let l=e.mapResult(t.from+o,1);if(l.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=l.pos?null:new Lt(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),l;return o==t.from&&!(l=e.child(r)).isText&&o+l.nodeSize==t.to}eq(e){return this==e||e instanceof Dm&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}destroy(){}}class Lt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Lt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Lt(e,e,new gu(t,r))}static inline(e,t,r,o){return new Lt(e,t,new fi(r,o))}static node(e,t,r,o){return new Lt(e,t,new Dm(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof fi}get widget(){return this.type instanceof gu}}const ns=[],Xi={};class Ze{constructor(e,t){this.local=e.length?e:ns,this.children=t.length?t:ns}static create(e,t){return t.length?yu(t,e,0,Xi):At}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,l){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!l||l(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,o+u,l)}}map(e,t,r){return this==At||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Xi)}mapInner(e,t,r,o,l){let a;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,o);f&&f.type.valid(t,f)?(a||(a=[])).push(f):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?l3(this.children,a||[],e,t,r,o,l):a?new Ze(a.sort(Wi),ns):At}add(e,t){return t.length?this==At?Ze.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,l=0;e.forEach((u,f)=>{let h=f+r,p;if(p=oM(t,u,h)){for(o||(o=this.children.slice());l<o.length&&o[l]<f;)l+=3;o[l]==f?o[l+2]=o[l+2].addInner(u,p,h+1):o.splice(l,0,f,f+u.nodeSize,yu(p,u,h+1,Xi)),l+=3}});let a=iM(l?sM(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new Ze(a.length?this.local.concat(a).sort(Wi):this.local,o||this.children)}remove(e){return e.length==0||this==At?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,u=r[l]+t,f=r[l+1]+t;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<f&&(e[p]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,u+1);h!=At?r[l+2]=h:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let u=0;u<o.length;u++)o[u].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Ze(o,r):At}forChild(e,t){if(this==At)return this;if(t.isLeaf)return Ze.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let l=e+1,a=l+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<a&&f.to>l&&f.type instanceof fi){let h=Math.max(l,f.from)-l,p=Math.min(a,f.to)-l;h<p&&(o||(o=[])).push(f.copy(h,p))}}if(o){let u=new Ze(o.sort(Wi),ns);return r?new ti([u,r]):u}return r||At}eq(e){if(this==e)return!0;if(!(e instanceof Ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Rm(this.localsInner(e))}localsInner(e){if(this==At)return ns;if(e.inlineContent||!this.local.some(fi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof fi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ze.empty=new Ze([],[]);Ze.removeOverlap=Rm;const At=Ze.empty;class ti{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,Xi));return ti.from(r)}forChild(e,t){if(t.isLeaf)return Ze.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,t);l!=At&&(l instanceof ti?r=r.concat(l.members):r.push(l))}return ti.from(r)}eq(e){if(!(e instanceof ti)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?Rm(r?t:t.sort(Wi)):ns}static from(e){switch(e.length){case 0:return At;case 1:return e[0];default:return new ti(e.every(t=>t instanceof Ze)?e:e.reduce((t,r)=>t.concat(r instanceof Ze?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function l3(n,e,t,r,o,l,a){let u=n.slice();for(let h=0,p=l;h<t.maps.length;h++){let g=0;t.maps[h].forEach((b,v,x,S)=>{let w=S-x-(v-b);for(let M=0;M<u.length;M+=3){let E=u[M+1];if(E<0||b>E+p-g)continue;let k=u[M]+p-g;v>=k?u[M+1]=b<=k?-2:-1:b>=p&&w&&(u[M]+=w,u[M+1]+=w)}g+=w}),p=t.maps[h].map(p,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let p=t.map(n[h]+l),g=p-o;if(g<0||g>=r.content.size){f=!0;continue}let b=t.map(n[h+1]+l,-1),v=b-o,{index:x,offset:S}=r.content.findIndex(g),w=r.maybeChild(x);if(w&&S==g&&S+w.nodeSize==v){let M=u[h+2].mapInner(t,w,p+1,n[h]+l+1,a);M!=At?(u[h]=g,u[h+1]=v,u[h+2]=M):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=a3(u,n,e,t,o,l,a),p=yu(h,r,0,a);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,b=0;g<p.children.length;g+=3){let v=p.children[g];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ze(e.sort(Wi),u)}function iM(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new Lt(o.from+e,o.to+e,o.type))}return t}function a3(n,e,t,r,o,l,a){function u(f,h){for(let p=0;p<f.local.length;p++){let g=f.local[p].map(r,o,h);g?t.push(g):a.onRemove&&a.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&u(n[f+2],e[f]+l+1);return t}function oM(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[l]=null);return o}function sM(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function yu(n,e,t,r){let o=[],l=!1;e.forEach((u,f)=>{let h=oM(n,u,f+t);if(h){l=!0;let p=yu(h,u,t+f+1,r);p!=At&&o.push(f,f+u.nodeSize,p)}});let a=iM(l?sM(n):n,-t).sort(Wi);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||o.length?new Ze(a,o):At}function Wi(n,e){return n.from-e.from||n.to-e.to}function Rm(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[o]=l.copy(l.from,r.to),px(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),px(e,o,r.copy(l.from,r.to)));break}}}return e}function px(n,e,t){for(;e<n.length&&Wi(t,n[e])>0;)e++;n.splice(e,0,t)}function $h(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=At&&e.push(r)}),n.cursorWrapper&&e.push(Ze.create(n.state.doc,[n.cursorWrapper.deco])),ti.from(e)}const c3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},u3=Kt&&ci<=11;class f3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class d3{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new f3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Kt&&ci<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),u3&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,c3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(sx(this.view)){if(this.suppressingSelectionUpdates)return xr(this.view);if(Kt&&ci<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&to(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=ps(l))t.add(l);for(let l=e.anchorNode;l;l=ps(l))if(t.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&sx(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,u=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let g=this.registerMutation(t[p],f);g&&(l=l<0?g.from:Math.min(g.from,l),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(zn&&f.length){let p=f.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,b]=p;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of p){let v=b.parentNode;v&&v.nodeName=="LI"&&(!g||m3(e,g)!=v)&&b.remove()}}}let h=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Uu(r)&&(h=Em(e))&&h.eq(xe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xr(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),h3(e)),this.handleDOMChange(l,a,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(Kt&&ci<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:b}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let a=o&&o.parentNode==e.target?Mt(o)+1:0,u=r.localPosFromDOM(e.target,a,-1),f=l&&l.parentNode==e.target?Mt(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let mx=new WeakMap,gx=!1;function h3(n){if(!mx.has(n)&&(mx.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=zn,gx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gx=!0}}function yx(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return to(a.node,a.offset,o,l)&&([t,r,o,l]=[o,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:l}}function p3(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return yx(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?yx(n,t):null}function m3(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function g3(n,e,t){let{node:r,fromOffset:o,toOffset:l,from:a,to:u}=n.docView.parseRange(e,t),f=n.domSelectionRange(),h,p=f.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],Uu(f)||h.push({node:f.focusNode,offset:f.focusOffset})),Nt&&n.input.lastKeyCode===8)for(let w=l;w>o;w--){let M=r.childNodes[w-1],E=M.pmViewDesc;if(M.nodeName=="BR"&&!E){l=w;break}if(!E||E.size)break}let g=n.state.doc,b=n.someProp("domParser")||ai.fromSchema(n.state.schema),v=g.resolve(a),x=null,S=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:y3,context:v});if(h&&h[0].pos!=null){let w=h[0].pos,M=h[1]&&h[1].pos;M==null&&(M=w),x={anchor:w+a,head:M+a}}return{doc:S,sel:x,from:a,to:u}}function y3(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Bt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Bt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const b3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function v3(n,e,t,r,o){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let V=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ee=Em(n,V);if(ee&&!n.state.selection.eq(ee)){if(Nt&&yr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ne=>ne(n,Vi(13,"Enter"))))return;let oe=n.state.tr.setSelection(ee);V=="pointer"?oe.setMeta("pointer",!0):V=="key"&&oe.scrollIntoView(),l&&oe.setMeta("composition",l),n.dispatch(oe)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let f=n.state.selection,h=g3(n,e,t),p=n.state.doc,g=p.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let x=w3(g.content,h.doc.content,h.from,b,v);if(x&&n.input.domChangeCount++,(ms&&n.input.lastIOSEnter>Date.now()-225||yr)&&o.some(V=>V.nodeType==1&&!b3.test(V.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",V=>V(n,Vi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&f instanceof ve&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let V=bx(n,n.state.doc,h.sel);if(V&&!V.eq(n.state.selection)){let ee=n.state.tr.setSelection(V);l&&ee.setMeta("composition",l),n.dispatch(ee)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof ve&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Kt&&ci<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)==" "&&(x.start--,x.endA--,x.endB--);let S=h.doc.resolveNoCache(x.start-h.from),w=h.doc.resolveNoCache(x.endB-h.from),M=p.resolve(x.start),E=S.sameParent(w)&&S.parent.inlineContent&&M.end()>=x.endA,k;if((ms&&n.input.lastIOSEnter>Date.now()-225&&(!E||o.some(V=>V.nodeName=="DIV"||V.nodeName=="P"))||!E&&S.pos<h.doc.content.size&&(!S.sameParent(w)||!S.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(S.pos,w.pos,"",""))&&(k=xe.findFrom(h.doc.resolve(S.pos+1),1,!0))&&k.head>S.pos)&&n.someProp("handleKeyDown",V=>V(n,Vi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&S3(p,x.start,x.endA,S,w)&&n.someProp("handleKeyDown",V=>V(n,Vi(8,"Backspace")))){yr&&Nt&&n.domObserver.suppressSelectionUpdates();return}Nt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),yr&&!E&&S.start()!=w.start()&&w.parentOffset==0&&S.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,w=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(V){return V(n,Vi(13,"Enter"))})},20));let D=x.start,N=x.endA,_,A,z;if(E){if(S.pos==w.pos)Kt&&ci<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>xr(n),20)),_=n.state.tr.delete(D,N),A=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(z=x3(S.parent.content.cut(S.parentOffset,w.parentOffset),M.parent.content.cut(M.parentOffset,x.endA-M.start()))))_=n.state.tr,z.type=="add"?_.addMark(D,N,z.mark):_.removeMark(D,N,z.mark);else if(S.parent.child(S.index()).isText&&S.index()==w.index()-(w.textOffset?0:1)){let V=S.parent.textBetween(S.parentOffset,w.parentOffset);if(n.someProp("handleTextInput",ee=>ee(n,D,N,V)))return;_=n.state.tr.insertText(V,D,N)}}if(_||(_=n.state.tr.replace(D,N,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let V=bx(n,_.doc,h.sel);V&&!(Nt&&n.composing&&V.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(V.head==D||V.head==_.mapping.map(N)-1)||Kt&&V.empty&&V.head==D)&&_.setSelection(V)}A&&_.ensureMarks(A),l&&_.setMeta("composition",l),n.dispatch(_.scrollIntoView())}function bx(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Tm(n,e.resolve(t.anchor),e.resolve(t.head))}function x3(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,l=r,a,u,f;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<t.length;p++)l=t[p].removeFromSet(l);if(o.length==1&&l.length==0)u=o[0],a="add",f=p=>p.mark(u.addToSet(p.marks));else if(o.length==0&&l.length==1)u=l[0],a="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(Q.from(h).eq(n))return{mark:u,type:a}}function S3(n,e,t,r,o){if(t-e<=o.pos-r.pos||Gh(r,!0,!1)<o.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&t==e+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(Gh(l,!0,!0));return!a.parent.isTextblock||a.pos>t||Gh(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Gh(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function w3(n,e,t,r,o){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,l-Math.min(a,u));r-=a+f-l}if(a<l&&n.size<e.size){let f=r<=l&&r>=a?l-r:0;l-=f,l&&l<e.size&&vx(e.textBetween(l-1,l+1))&&(l+=f?1:-1),u=l+(u-a),a=l}else if(u<l){let f=r<=l&&r>=u?l-r:0;l-=f,l&&l<n.size&&vx(n.textBetween(l-1,l+1))&&(l+=f?1:-1),a=l+(a-u),u=l}return{start:l,endA:a,endB:u}}function vx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class C3{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Uz,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=wx(this),Sx(this),this.nodeViews=Cx(this),this.docView=ex(this.state.doc,xx(this),$h(this),this.dom,this),this.domObserver=new d3(this,(r,o,l,a)=>v3(this,r,o,l,a)),this.domObserver.start(),Vz(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&zp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(eM(this),a=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=Cx(this);E3(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&zp(this),this.editable=wx(this),Sx(this);let f=$h(this),h=xx(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,f);(g||!e.selection.eq(o.selection))&&(a=!0);let b=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&nz(this);if(a){this.domObserver.stop();let v=g&&(Kt||Nt)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&M3(o.selection,e.selection);if(g){let x=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=t3(this)),(l||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=ex(e.doc,h,f,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Tz(this))?xr(this,v):(VC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&rz(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof pe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&K0(this,t.getBoundingClientRect(),e)}else K0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new nM(e.slice,e.move,o<0?void 0:pe.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(o=t?t(u):u))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let u=l[a].props[e];if(u!=null&&(o=t?t(u):u))return o}}hasFocus(){if(Kt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&iz(this.dom),xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cz(this,e)}coordsAtPos(e,t=1){return zC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return pz(this,t||this.state,e)}pasteHTML(e,t){return Kl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Kl(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return km(this,e)}destroy(){this.docView&&(qz(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$h(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$_())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $z(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Bt&&this.root.nodeType===11&&W_(this.dom.ownerDocument)==this.dom&&p3(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function xx(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Lt.node(0,n.state.doc.content.size,e)]}function Sx(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Lt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function wx(n){return!n.someProp("editable",e=>e(n.state)===!1)}function M3(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Cx(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function E3(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function Mx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},T3=typeof navigator<"u"&&/Mac/.test(navigator.platform),k3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Et=0;Et<10;Et++)mi[48+Et]=mi[96+Et]=String(Et);for(var Et=1;Et<=24;Et++)mi[Et+111]="F"+Et;for(var Et=65;Et<=90;Et++)mi[Et]=String.fromCharCode(Et+32),bu[Et]=String.fromCharCode(Et);for(var Yh in mi)bu.hasOwnProperty(Yh)||(bu[Yh]=mi[Yh]);function O3(n){var e=T3&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||k3&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?bu:mi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const A3=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),N3=typeof navigator<"u"&&/Win/.test(navigator.platform);function D3(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,l,a;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))A3?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function R3(n){let e=Object.create(null);for(let t in n)e[D3(t)]=n[t];return e}function Kh(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function _3(n){return new _t({props:{handleKeyDown:lM(n)}})}function lM(n){let e=R3(n);return function(t,r){let o=O3(r),l,a=e[Kh(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[Kh(o,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(N3&&r.ctrlKey&&r.altKey)&&(l=mi[r.keyCode])&&l!=o){let u=e[Kh(l,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const _m=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function aM(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const cM=(n,e,t)=>{let r=aM(n,t);if(!r)return!1;let o=zm(r);if(!o){let a=r.blockRange(),u=a&&Ss(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let l=o.nodeBefore;if(bM(n,o,e,-1))return!0;if(r.parent.content.size==0&&(gs(l,"end")||pe.isSelectable(l)))for(let a=r.depth;;a--){let u=Hu(n.doc,r.before(a),r.after(a),re.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(gs(l,"end")?xe.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):pe.create(f.doc,o.pos-l.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},z3=(n,e,t)=>{let r=aM(n,t);if(!r)return!1;let o=zm(r);return o?uM(n,o,e):!1},L3=(n,e,t)=>{let r=dM(n,t);if(!r)return!1;let o=Lm(r);return o?uM(n,o,e):!1};function uM(n,e,t){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let a=e.nodeAfter,u=a,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=Hu(n.doc,l,f,re.empty);if(!h||h.from!=l||h instanceof gt&&h.slice.size>=f-l)return!1;if(t){let p=n.tr.step(h);p.setSelection(ve.create(p.doc,l)),t(p.scrollIntoView())}return!0}function gs(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const fM=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=zm(r)}let a=l&&l.nodeBefore;return!a||!pe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(pe.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function zm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function dM(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const hM=(n,e,t)=>{let r=dM(n,t);if(!r)return!1;let o=Lm(r);if(!o)return!1;let l=o.nodeAfter;if(bM(n,o,e,1))return!0;if(r.parent.content.size==0&&(gs(l,"start")||pe.isSelectable(l))){let a=Hu(n.doc,r.before(),r.after(),re.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(gs(l,"start")?xe.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):pe.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},pM=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=Lm(r)}let a=l&&l.nodeAfter;return!a||!pe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(pe.create(n.doc,l.pos)).scrollIntoView()),!0)};function Lm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const B3=(n,e)=>{let t=n.selection,r=t instanceof pe,o;if(r){if(t.node.isTextblock||!vi(n.doc,t.from))return!1;o=t.from}else if(o=ju(n.doc,t.from,-1),o==null)return!1;if(e){let l=n.tr.join(o);r&&l.setSelection(pe.create(l.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},P3=(n,e)=>{let t=n.selection,r;if(t instanceof pe){if(t.node.isTextblock||!vi(n.doc,t.to))return!1;r=t.to}else if(r=ju(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},j3=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),l=o&&Ss(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)},mM=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Bm(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const H3=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),l=t.indexAfter(-1),a=Bm(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let u=t.after(),f=n.tr.replaceWith(u,u,a.createAndFill());f.setSelection(xe.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},gM=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof un||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=Bm(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=n.tr.insert(a,l.createAndFill());u.setSelection(ve.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},yM=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(vr(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),o=r&&Ss(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)};function I3(n){return(e,t)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!vr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,u,f=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){f=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=Bm(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(f&&u?{type:u}:null),a=v;break}else{if(v==1)return!1;l.unshift(null)}let p=e.tr;(e.selection instanceof ve||e.selection instanceof un)&&p.deleteSelection();let g=p.mapping.map(r.pos),b=vr(p.doc,g,l.length,l);if(b||(l[0]=u?{type:u}:null,b=vr(p.doc,g,l.length,l)),!b)return!1;if(p.split(g,l.length,l),!f&&h&&r.node(a).type!=u){let v=p.mapping.map(r.before(a)),x=p.doc.resolve(v);u&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return t&&t(p.scrollIntoView()),!0}}const U3=I3(),V3=(n,e)=>{let{$from:t,to:r}=n.selection,o,l=t.sharedDepth(r);return l==0?!1:(o=t.before(l),e&&e(n.tr.setSelection(pe.create(n.doc,o))),!0)};function q3(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||vi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function bM(n,e,t,r){let o=e.nodeBefore,l=e.nodeAfter,a,u,f=o.type.spec.isolating||l.type.spec.isolating;if(!f&&q3(n,e,t))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(u=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&u.matchType(a[0]||l.type).validEnd){if(t){let v=e.pos+l.nodeSize,x=Q.empty;for(let M=a.length-1;M>=0;M--)x=Q.from(a[M].create(null,x));x=Q.from(o.copy(x));let S=n.tr.step(new yt(e.pos-1,v,e.pos,v,new re(x,1,0),a.length,!0)),w=S.doc.resolve(v+2*a.length);w.nodeAfter&&w.nodeAfter.type==o.type&&vi(S.doc,w.pos)&&S.join(w.pos),t(S.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&f?null:xe.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),b=g&&Ss(g);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(g,b).scrollIntoView()),!0;if(h&&gs(l,"start",!0)&&gs(o,"end")){let v=o,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let S=l,w=1;for(;!S.isTextblock;S=S.firstChild)w++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(t){let M=Q.empty;for(let k=x.length-1;k>=0;k--)M=Q.from(x[k].copy(M));let E=n.tr.step(new yt(e.pos-x.length,e.pos+l.nodeSize,e.pos+w,e.pos+l.nodeSize-w,new re(M,x.length,0),0,!0));t(E.scrollIntoView())}return!0}}return!1}function vM(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(t&&t(e.tr.setSelection(ve.create(e.doc,n<0?o.start(l):o.end(l)))),!0):!1}}const F3=vM(-1),$3=vM(1);function G3(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l),u=a&&wm(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function Ex(n,e=null){return function(t,r){let o=!1;for(let l=0;l<t.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[l];t.doc.nodesBetween(a,u,(f,h)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let p=t.doc.resolve(h),g=p.index();o=p.parent.canReplaceWith(g,g+1,n)}})}if(!o)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];l.setBlockType(u,f,n,e)}r(l.scrollIntoView())}return!0}}function Pm(...n){return function(e,t,r){for(let o=0;o<n.length;o++)if(n[o](e,t,r))return!0;return!1}}Pm(_m,cM,fM);Pm(_m,hM,pM);Pm(mM,gM,yM,U3);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Y3(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l);if(!a)return!1;let u=r?t.tr:null;return K3(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function K3(n,e,t,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);l=new fu(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new fu(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let u=wm(l,t,r,e);return u?(n&&X3(n,e,u,o,t),!0):!1}function X3(n,e,t,r,o){let l=Q.empty;for(let p=t.length-1;p>=0;p--)l=Q.from(t[p].type.create(t[p].attrs,l));n.step(new yt(e.start-(r?2:0),e.end,e.start,e.end,new re(l,0,0),t.length,!0));let a=0;for(let p=0;p<t.length;p++)t[p].type==o&&(a=p+1);let u=t.length-a,f=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,b=!0;p<g;p++,b=!1)!b&&vr(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=h.child(p).nodeSize;return n}function W3(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?Q3(e,t,n,l):Z3(e,t,l):!0:!1}}function Q3(n,e,t,r){let o=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new yt(l-1,a,l,a,new re(Q.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new fu(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const u=Ss(r);if(u==null)return!1;o.lift(r,u);let f=o.doc.resolve(o.mapping.map(l,-1)-1);return vi(o.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&o.join(f.pos),e(o.scrollIntoView()),!0}function Z3(n,e,t){let r=n.tr,o=t.parent;for(let v=t.end,x=t.endIndex-1,S=t.startIndex;x>S;x--)v-=o.child(x).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,f=t.endIndex==o.childCount,h=l.node(-1),p=l.index(-1);if(!h.canReplace(p+(u?0:1),p+1,a.content.append(f?Q.empty:Q.from(o))))return!1;let g=l.pos,b=g+a.nodeSize;return r.step(new yt(g-(u?1:0),b+(f?1:0),g+1,b-1,new re((u?Q.empty:Q.from(o.copy(Q.empty))).append(f?Q.empty:Q.from(o.copy(Q.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function J3(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let u=l.parent,f=u.child(a-1);if(f.type!=n)return!1;if(t){let h=f.lastChild&&f.lastChild.type==u.type,p=Q.from(h?n.create():null),g=new re(Q.from(n.create(null,Q.from(u.type.create(null,p)))),h?3:1,0),b=l.start,v=l.end;t(e.tr.step(new yt(b-(h?3:1),v,b,v,g,1,!0)).scrollIntoView())}return!0}}function Fu(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,l=t.storedMarks,t}}}class $u{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...p)=>{const g=f(...p)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,u=[],f=!!e,h=e||l.tr,p=()=>(!f&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),u.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(...S)=>{const w=this.buildProps(h,t),M=v(...S)(w);return u.push(M),g}])),run:p};return g}createCan(e){const{rawCommands:t,state:r}=this,o=!1,l=e||r.tr,a=this.buildProps(l,o);return{...Object.fromEntries(Object.entries(t).map(([f,h])=>[f,(...p)=>h(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,u={tr:e,editor:o,view:a,state:Fu({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...p)=>h(...p)(u)]))}};return u}}class eL{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ce(n,e,t){return n.config[e]===void 0&&n.parent?ce(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ce(n.parent,e,t):null}):n.config[e]}function Gu(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function xM(n){const e=[],{nodeExtensions:t,markExtensions:r}=Gu(n),o=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:o},f=ce(a,"addGlobalAttributes",u);if(!f)return;f().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([b,v])=>{e.push({type:g,name:b,attribute:{...l,...v}})})})})}),o.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},f=ce(a,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([p,g])=>{const b={...l,...g};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:a.name,name:p,attribute:b})})}),e}function vt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ft(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const u=l?String(l).split(" "):[],f=r[o]?r[o].split(" "):[],h=u.filter(p=>!f.includes(p));r[o]=[...f,...h].join(" ")}else if(o==="style"){const u=l?l.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[o]?r[o].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[g,b]=p.split(":").map(v=>v.trim());h.set(g,b)}),u.forEach(p=>{const[g,b]=p.split(":").map(v=>v.trim());h.set(g,b)}),r[o]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[o]=l}),r},{})}function vu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>ft(t,r),{})}function SM(n){return typeof n=="function"}function Oe(n,e=void 0,...t){return SM(n)?e?n.bind(e)(...t):n(...t):n}function tL(n={}){return Object.keys(n).length===0&&n.constructor===Object}function nL(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Tx(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):nL(t.getAttribute(a.name));return u==null?l:{...l,[a.name]:u}},{});return{...r,...o}}}}function kx(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&tL(t)?!1:t!=null))}function rL(n,e){var t;const r=xM(n),{nodeExtensions:o,markExtensions:l}=Gu(n),a=(t=o.find(h=>ce(h,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(o.map(h=>{const p=r.filter(M=>M.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((M,E)=>{const k=ce(E,"extendNodeSchema",g);return{...M,...k?k(h):{}}},{}),v=kx({...b,content:Oe(ce(h,"content",g)),marks:Oe(ce(h,"marks",g)),group:Oe(ce(h,"group",g)),inline:Oe(ce(h,"inline",g)),atom:Oe(ce(h,"atom",g)),selectable:Oe(ce(h,"selectable",g)),draggable:Oe(ce(h,"draggable",g)),code:Oe(ce(h,"code",g)),whitespace:Oe(ce(h,"whitespace",g)),linebreakReplacement:Oe(ce(h,"linebreakReplacement",g)),defining:Oe(ce(h,"defining",g)),isolating:Oe(ce(h,"isolating",g)),attrs:Object.fromEntries(p.map(M=>{var E;return[M.name,{default:(E=M==null?void 0:M.attribute)===null||E===void 0?void 0:E.default}]}))}),x=Oe(ce(h,"parseHTML",g));x&&(v.parseDOM=x.map(M=>Tx(M,p)));const S=ce(h,"renderHTML",g);S&&(v.toDOM=M=>S({node:M,HTMLAttributes:vu(M,p)}));const w=ce(h,"renderText",g);return w&&(v.toText=w),[h.name,v]})),f=Object.fromEntries(l.map(h=>{const p=r.filter(w=>w.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((w,M)=>{const E=ce(M,"extendMarkSchema",g);return{...w,...E?E(h):{}}},{}),v=kx({...b,inclusive:Oe(ce(h,"inclusive",g)),excludes:Oe(ce(h,"excludes",g)),group:Oe(ce(h,"group",g)),spanning:Oe(ce(h,"spanning",g)),code:Oe(ce(h,"code",g)),attrs:Object.fromEntries(p.map(w=>{var M;return[w.name,{default:(M=w==null?void 0:w.attribute)===null||M===void 0?void 0:M.default}]}))}),x=Oe(ce(h,"parseHTML",g));x&&(v.parseDOM=x.map(w=>Tx(w,p)));const S=ce(h,"renderHTML",g);return S&&(v.toDOM=w=>S({mark:w,HTMLAttributes:vu(w,p)})),[h.name,v]}));return new cC({topNode:a,nodes:u,marks:f})}function Xh(n,e){return e.nodes[n]||e.marks[n]||null}function Ox(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function jm(n,e){const t=lo.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const iL=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,u)=>{var f,h;const p=((h=(f=o.type.spec).toText)===null||h===void 0?void 0:h.call(f,{node:o,pos:l,parent:a,index:u}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?p:p.slice(0,Math.max(0,r-l))}),t};function Hm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Im{constructor(e){this.find=e.find,this.handler=e.handler}}const oL=(n,e)=>{if(Hm(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function zc(n){var e;const{editor:t,from:r,to:o,text:l,rules:a,plugin:u}=n,{view:f}=t;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const g=iL(h)+l;return a.forEach(b=>{if(p)return;const v=oL(g,b.find);if(!v)return;const x=f.state.tr,S=Fu({state:f.state,transaction:x}),w={from:r-(v[0].length-l.length),to:o},{commands:M,chain:E,can:k}=new $u({editor:t,state:S});b.handler({state:S,range:w,match:v,commands:M,chain:E,can:k})===null||!x.steps.length||(x.setMeta(u,{transform:x,from:r,to:o,text:l}),f.dispatch(x),p=!0)}),p}function sL(n){const{editor:e,rules:t}=n,r=new _t({state:{init(){return null},apply(o,l,a){const u=o.getMeta(r);if(u)return u;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=jm(Q.from(p),a.schema);const{from:g}=f,b=g+p.length;zc({editor:e,from:g,to:b,text:p,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,u){return zc({editor:e,from:l,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&zc({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?zc({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function lL(n){return Object.prototype.toString.call(n).slice(8,-1)}function Lc(n){return lL(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Yu(n,e){const t={...n};return Lc(n)&&Lc(e)&&Object.keys(e).forEach(r=>{Lc(e[r])&&Lc(n[r])?t[r]=Yu(n[r],e[r]):t[r]=e[r]}),t}class gi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ce(this,"addOptions",{name:this.name}))),this.storage=Oe(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gi(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Yu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new gi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ce(t,"addOptions",{name:t.name})),t.storage=Oe(ce(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const f=a.find(h=>(h==null?void 0:h.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function aL(n){return typeof n=="number"}class cL{constructor(e){this.find=e.find,this.handler=e.handler}}const uL=(n,e,t)=>{if(Hm(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=n,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function fL(n){const{editor:e,state:t,from:r,to:o,rule:l,pasteEvent:a,dropEvent:u}=n,{commands:f,chain:h,can:p}=new $u({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,o,(v,x)=>{if(!v.isTextblock||v.type.spec.code)return;const S=Math.max(r,x),w=Math.min(o,x+v.content.size),M=v.textBetween(S-x,w-x,void 0,"");uL(M,l.find,a).forEach(k=>{if(k.index===void 0)return;const D=S+k.index+1,N=D+k[0].length,_={from:t.tr.mapping.map(D),to:t.tr.mapping.map(N)},A=l.handler({state:t,range:_,match:k,commands:f,chain:h,can:p,pasteEvent:a,dropEvent:u});g.push(A)})}),g.every(v=>v!==null)}let Bc=null;const dL=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function hL(n){const{editor:e,rules:t}=n;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:p,from:g,to:b,rule:v,pasteEvt:x})=>{const S=p.tr,w=Fu({state:p,transaction:S});if(!(!fL({editor:e,state:w,from:Math.max(g-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:u})||!S.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(p=>new _t({view(g){const b=x=>{var S;r=!((S=g.dom.parentElement)===null||S===void 0)&&S.contains(x.target)?g.dom.parentElement:null,r&&(Bc=e)},v=()=>{Bc&&(Bc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=r===g.dom.parentElement,u=b,!l){const v=Bc;v&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(g,b)=>{var v;const x=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=b,o=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(g,b,v)=>{const x=g[0],S=x.getMeta("uiEvent")==="paste"&&!o,w=x.getMeta("uiEvent")==="drop"&&!l,M=x.getMeta("applyPasteRules"),E=!!M;if(!S&&!w&&!E)return;if(E){let{text:N}=M;typeof N=="string"?N=N:N=jm(Q.from(N),v.schema);const{from:_}=M,A=_+N.length,z=dL(N);return f({rule:p,state:v,from:_,to:{b:A},pasteEvt:z})}const k=b.doc.content.findDiffStart(v.doc.content),D=b.doc.content.findDiffEnd(v.doc.content);if(!(!aL(k)||!D||k===D.b))return f({rule:p,state:v,from:k,to:D,pasteEvt:a})}}))}function pL(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ss{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ss.resolve(e),this.schema=rL(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ss.sort(ss.flatten(e)),r=pL(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=ce(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const l=ce(r,"priority")||100,a=ce(o,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Xh(t.name,this.schema)},o=ce(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=ss.sort([...this.extensions].reverse()),r=[],o=[],l=t.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:Xh(a.name,this.schema)},f=[],h=ce(a,"addKeyboardShortcuts",u);let p={};if(a.type==="mark"&&ce(a,"exitable",u)&&(p.ArrowRight=()=>gi.handleExit({editor:e,mark:a})),h){const S=Object.fromEntries(Object.entries(h()).map(([w,M])=>[w,()=>M({editor:e})]));p={...p,...S}}const g=_3(p);f.push(g);const b=ce(a,"addInputRules",u);Ox(a,e.options.enableInputRules)&&b&&r.push(...b());const v=ce(a,"addPasteRules",u);Ox(a,e.options.enablePasteRules)&&v&&o.push(...v());const x=ce(a,"addProseMirrorPlugins",u);if(x){const S=x();f.push(...S)}return f}).flat();return[sL({editor:e,rules:r}),...hL({editor:e,rules:o}),...l]}get attributes(){return xM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Gu(this.extensions);return Object.fromEntries(t.filter(r=>!!ce(r,"addNodeView")).map(r=>{const o=this.attributes.filter(f=>f.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:vt(r.name,this.schema)},a=ce(r,"addNodeView",l);if(!a)return[];const u=(f,h,p,g,b)=>{const v=vu(f,o);return a()({node:f,view:h,getPos:p,decorations:g,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Xh(e.name,this.schema)};e.type==="mark"&&(!((t=Oe(ce(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=ce(e,"onBeforeCreate",r),l=ce(e,"onCreate",r),a=ce(e,"onUpdate",r),u=ce(e,"onSelectionUpdate",r),f=ce(e,"onTransaction",r),h=ce(e,"onFocus",r),p=ce(e,"onBlur",r),g=ce(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}}class Xt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ce(this,"addOptions",{name:this.name}))),this.storage=Oe(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Yu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Xt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ce(t,"addOptions",{name:t.name})),t.storage=Oe(ce(t,"addStorage",{name:t.name,options:t.options})),t}}function wM(n,e,t){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,o,(f,h,p,g)=>{var b;f.isBlock&&h>r&&(u+=l);const v=a==null?void 0:a[f.type.name];if(v)return p&&(u+=v({node:f,pos:h,parent:p,index:g,range:e})),!1;f.isText&&(u+=(b=f==null?void 0:f.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,o-h))}),u}function CM(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const mL=Xt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _t({key:new It("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(p=>p.$from.pos)),u=Math.max(...l.map(p=>p.$to.pos)),f=CM(t);return wM(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),gL=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),yL=(n=!1)=>({commands:e})=>e.setContent("",n),bL=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(f)),b=h.resolve(p.map(f+u.nodeSize)),v=g.blockRange(b);if(!v)return;const x=Ss(v);if(u.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,S)}(x||x===0)&&e.lift(v,x)})}),!0},vL=n=>e=>n(e),xL=()=>({state:n,dispatch:e})=>gM(n,e),SL=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,l=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new ve(r.doc.resolve(a-1))),!0},wL=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const u=o.before(l),f=o.after(l);n.delete(u,f).scrollIntoView()}return!0}return!1},CL=n=>({tr:e,state:t,dispatch:r})=>{const o=vt(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const f=l.before(a),h=l.after(a);e.delete(f,h).scrollIntoView()}return!0}return!1},ML=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},EL=()=>({state:n,dispatch:e})=>_m(n,e),TL=()=>({commands:n})=>n.keyboardShortcut("Enter"),kL=()=>({state:n,dispatch:e})=>H3(n,e);function xu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:Hm(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function MM(n,e,t={}){return n.find(r=>r.type===e&&xu(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function Ax(n,e,t={}){return!!MM(n,e,t)}function Um(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(p=>p.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(p=>p.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!MM([...o.node.marks],e,t)))return;let a=o.index,u=n.start()+o.offset,f=a+1,h=u+o.node.nodeSize;for(;a>0&&Ax([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&Ax([...n.parent.child(f).marks],e,t);)h+=n.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function Si(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const OL=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const l=Si(n,r.schema),{doc:a,selection:u}=t,{$from:f,from:h,to:p}=u;if(o){const g=Um(f,l,e);if(g&&g.from<=h&&g.to>=p){const b=ve.create(a,g.from,g.to);t.setSelection(b)}}return!0},AL=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function EM(n){return n instanceof ve}function Gi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function TM(n,e=null){if(!e)return null;const t=xe.atStart(n),r=xe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,l=r.to;return e==="all"?ve.create(n,Gi(0,o,l),Gi(n.content.size,o,l)):ve.create(n,Gi(e,o,l),Gi(e,o,l))}function kM(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ku(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const NL=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(Ku()||kM())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!EM(t.state.selection))return a(),!0;const u=TM(o.doc,n)||t.state.selection,f=t.state.selection.eq(u);return l&&(f||o.setSelection(u),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},DL=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),RL=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),OM=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&OM(r)}return n};function Pc(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return OM(t)}function Su(n,e,t){if(n instanceof li||n instanceof Q)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Q.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),Su("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,u="";const f=new cC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?ai.fromSchema(f).parseSlice(Pc(n),t.parseOptions):ai.fromSchema(f).parse(Pc(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=ai.fromSchema(e);return t.slice?l.parseSlice(Pc(n),t.parseOptions).content:l.parse(Pc(n),t.parseOptions)}return Su("",e,t)}function _L(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof gt||o instanceof yt))return;const l=n.mapping.maps[r];let a=0;l.forEach((u,f,h,p)=>{a===0&&(a=p)}),n.setSelection(xe.near(n.doc.resolve(a),t))}const zL=n=>!("type"in n),LL=(n,e,t)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;try{u=Su(e,l.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(x){return l.emit("contentError",{editor:l,error:x,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,g=!0;if((zL(u)?u:[u]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),f===h&&g){const{parent:x}=r.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,h+=1)}let v;if(p){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof Q){let x="";e.forEach(S=>{S.text&&(x+=S.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,f,h)}else v=u,r.replaceWith(f,h,v);t.updateSelection&&_L(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:v})}return!0},BL=()=>({state:n,dispatch:e})=>B3(n,e),PL=()=>({state:n,dispatch:e})=>P3(n,e),jL=()=>({state:n,dispatch:e})=>cM(n,e),HL=()=>({state:n,dispatch:e})=>hM(n,e),IL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=ju(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},UL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=ju(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},VL=()=>({state:n,dispatch:e})=>z3(n,e),qL=()=>({state:n,dispatch:e})=>L3(n,e);function AM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function FL(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,l,a;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))Ku()||AM()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const $L=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const l=FL(n).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,u))});return f==null||f.steps.forEach(h=>{const p=h.map(r.mapping);p&&o&&r.maybeStep(p)}),!0};function Wl(n,e,t={}){const{from:r,to:o,empty:l}=n.selection,a=e?vt(e,n.schema):null,u=[];n.doc.nodesBetween(r,o,(g,b)=>{if(g.isText)return;const v=Math.max(r,b),x=Math.min(o,b+g.nodeSize);u.push({node:g,from:v,to:x})});const f=o-r,h=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>xu(g.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=f}const GL=(n,e={})=>({state:t,dispatch:r})=>{const o=vt(n,t.schema);return Wl(t,o,e)?j3(t,r):!1},YL=()=>({state:n,dispatch:e})=>yM(n,e),KL=n=>({state:e,dispatch:t})=>{const r=vt(n,e.schema);return W3(r)(e,t)},XL=()=>({state:n,dispatch:e})=>mM(n,e);function Xu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Nx(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const WL=(n,e)=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const u=Xu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(l=vt(n,r.schema)),u==="mark"&&(a=Si(n,r.schema)),o&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,p)=>{l&&l===h.type&&t.setNodeMarkup(p,void 0,Nx(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&t.addMark(p,p+h.nodeSize,a.create(Nx(g.attrs,e)))})})}),!0):!1},QL=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ZL=()=>({tr:n,dispatch:e})=>{if(e){const t=new un(n.doc);n.setSelection(t)}return!0},JL=()=>({state:n,dispatch:e})=>fM(n,e),eB=()=>({state:n,dispatch:e})=>pM(n,e),tB=()=>({state:n,dispatch:e})=>V3(n,e),nB=()=>({state:n,dispatch:e})=>$3(n,e),rB=()=>({state:n,dispatch:e})=>F3(n,e);function Lp(n,e,t={},r={}){return Su(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const iB=(n,e=!1,t={},r={})=>({editor:o,tr:l,dispatch:a,commands:u})=>{var f,h;const{doc:p}=l;if(t.preserveWhitespace!=="full"){const g=Lp(n,o.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return a&&l.replaceWith(0,p.content.size,g).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:o.options.enableContentCheck})};function NM(n,e){const t=Si(e,n.schema),{from:r,to:o,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,f=>{a.push(...f.marks)});const u=a.find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function oB(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function DM(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Vm(n){return e=>DM(e.$from,n)}function sB(n,e){const t={from:0,to:n.content.size};return wM(n,t,e)}function lB(n,e){const t=vt(e,n.schema),{from:r,to:o}=n.selection,l=[];n.doc.nodesBetween(r,o,u=>{l.push(u)});const a=l.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function aB(n,e){const t=Xu(typeof e=="string"?e:e.name,n.schema);return t==="node"?lB(n,e):t==="mark"?NM(n,e):{}}function RM(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const l=t.resolve(n),a=Um(l,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}function Wc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}function Bp(n,e,t={}){const{empty:r,ranges:o}=n.selection,l=e?Si(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>xu(g.attrs,t,{strict:!1}));let a=0;const u=[];if(o.forEach(({$from:g,$to:b})=>{const v=g.pos,x=b.pos;n.doc.nodesBetween(v,x,(S,w)=>{if(!S.isText&&!S.marks.length)return;const M=Math.max(v,w),E=Math.min(x,w+S.nodeSize),k=E-M;a+=k,u.push(...S.marks.map(D=>({mark:D,from:M,to:E})))})}),a===0)return!1;const f=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>xu(g.mark.attrs,t,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(f>0?f+h:f)>=a}function cB(n,e,t={}){if(!e)return Wl(n,null,t)||Bp(n,null,t);const r=Xu(e,n.schema);return r==="node"?Wl(n,e,t):r==="mark"?Bp(n,e,t):!1}function Dx(n,e){const{nodeExtensions:t}=Gu(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=Oe(ce(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function Wu(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(l=>{o!==!1&&(Wu(l,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function uB(n,e,t){var r;const{selection:o}=e;let l=null;if(EM(o)&&(l=o.$cursor),l){const u=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(u)||!u.some(f=>f.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:u,$to:f})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,f.pos,(p,g,b)=>{if(h)return!1;if(p.isInline){const v=!b||b.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(t));h=v&&x}return!h}),h})}const fB=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:l}=t,{empty:a,ranges:u}=l,f=Si(n,r.schema);if(o)if(a){const h=NM(r,f);t.addStoredMark(f.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(b,v)=>{const x=Math.max(v,p),S=Math.min(v+b.nodeSize,g);b.marks.find(M=>M.type===f)?b.marks.forEach(M=>{f===M.type&&t.addMark(x,S,f.create({...M.attrs,...e}))}):t.addMark(x,S,f.create(e))})});return uB(r,t,f)},dB=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),hB=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const l=vt(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:u})=>Ex(l,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>Ex(l,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},pB=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=Gi(n,0,r.content.size),l=pe.create(r,o);e.setSelection(l)}return!0},mB=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:l}=typeof n=="number"?{from:n,to:n}:n,a=ve.atStart(r).from,u=ve.atEnd(r).to,f=Gi(o,a,u),h=Gi(l,a,u),p=ve.create(r,f,h);e.setSelection(p)}return!0},gB=n=>({state:e,dispatch:t})=>{const r=vt(n,e.schema);return J3(r)(e,t)};function Rx(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(r)}}const yB=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:u,$to:f}=l,h=o.extensionManager.attributes,p=Wc(h,u.node().type.name,u.node().attrs);if(l instanceof pe&&l.node.isBlock)return!u.parentOffset||!vr(a,u.pos)?!1:(r&&(n&&Rx(t,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,b=u.depth===0?void 0:oB(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&b?[{type:b,attrs:p}]:void 0,x=vr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!x&&vr(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:p}]:void 0),r){if(x&&(l instanceof ve&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!g&&!u.parentOffset&&u.parent.type!==b)){const S=e.mapping.map(u.before()),w=e.doc.resolve(S);u.node(-1).canReplaceWith(w.index(),w.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&Rx(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return x},bB=(n,e={})=>({tr:t,state:r,dispatch:o,editor:l})=>{var a;const u=vt(n,r.schema),{$from:f,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==u)return!1;const b=l.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let M=Q.empty;const E=f.index(-1)?1:f.index(-2)?2:3;for(let z=f.depth-E;z>=f.depth-3;z-=1)M=Q.from(f.node(z).copy(M));const k=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,D={...Wc(b,f.node().type.name,f.node().attrs),...e},N=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(D))||void 0;M=M.append(Q.from(u.createAndFill(null,N)||void 0));const _=f.before(f.depth-(E-1));t.replace(_,f.after(-k),new re(M,4-E,0));let A=-1;t.doc.nodesBetween(_,t.doc.content.size,(z,V)=>{if(A>-1)return!1;z.isTextblock&&z.content.size===0&&(A=V+1)}),A>-1&&t.setSelection(ve.near(t.doc.resolve(A))),t.scrollIntoView()}return!0}const v=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,x={...Wc(b,g.type.name,g.attrs),...e},S={...Wc(b,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,h.pos);const w=v?[{type:u,attrs:x},{type:v,attrs:S}]:[{type:u,attrs:x}];if(!vr(t.doc,f.pos,2))return!1;if(o){const{selection:M,storedMarks:E}=r,{splittableMarks:k}=l.extensionManager,D=E||M.$to.parentOffset&&M.$from.marks();if(t.split(f.pos,2,w).scrollIntoView(),!D||!o)return!0;const N=D.filter(_=>k.includes(_.type.name));t.ensureMarks(N)}return!0},Wh=(n,e)=>{const t=Vm(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&vi(n.doc,t.pos)&&n.join(t.pos),!0},Qh=(n,e)=>{const t=Vm(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&vi(n.doc,r)&&n.join(r),!0},vB=(n,e,t,r={})=>({editor:o,tr:l,state:a,dispatch:u,chain:f,commands:h,can:p})=>{const{extensions:g,splittableMarks:b}=o.extensionManager,v=vt(n,a.schema),x=vt(e,a.schema),{selection:S,storedMarks:w}=a,{$from:M,$to:E}=S,k=M.blockRange(E),D=w||S.$to.parentOffset&&S.$from.marks();if(!k)return!1;const N=Vm(_=>Dx(_.type.name,g))(S);if(k.depth>=1&&N&&k.depth-N.depth<=1){if(N.node.type===v)return h.liftListItem(x);if(Dx(N.node.type.name,g)&&v.validContent(N.node.content)&&u)return f().command(()=>(l.setNodeMarkup(N.pos,v),!0)).command(()=>Wh(l,v)).command(()=>Qh(l,v)).run()}return!t||!D||!u?f().command(()=>p().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Wh(l,v)).command(()=>Qh(l,v)).run():f().command(()=>{const _=p().wrapInList(v,r),A=D.filter(z=>b.includes(z.type.name));return l.ensureMarks(A),_?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Wh(l,v)).command(()=>Qh(l,v)).run()},xB=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=t,a=Si(n,r.schema);return Bp(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},SB=(n,e,t={})=>({state:r,commands:o})=>{const l=vt(n,r.schema),a=vt(e,r.schema),u=Wl(r,l,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?o.setNode(a,f):o.setNode(l,{...f,...t})},wB=(n,e={})=>({state:t,commands:r})=>{const o=vt(n,t.schema);return Wl(t,o,e)?r.lift(o):r.wrapIn(o,e)},CB=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let l;if(o.spec.isInputRules&&(l=o.getState(n))){if(e){const a=n.tr,u=l.transform;for(let f=u.steps.length-1;f>=0;f-=1)a.step(u.steps[f].invert(u.docs[f]));if(l.text){const f=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,f))}else a.delete(l.from,l.to)}return!0}}return!1},MB=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},EB=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,f=Si(n,r.schema),{$from:h,empty:p,ranges:g}=u;if(!o)return!0;if(p&&a){let{from:b,to:v}=u;const x=(l=h.marks().find(w=>w.type===f))===null||l===void 0?void 0:l.attrs,S=Um(h,f,x);S&&(b=S.from,v=S.to),t.removeMark(b,v,f)}else g.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,f)});return t.removeStoredMark(f),!0},TB=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const u=Xu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(l=vt(n,r.schema)),u==="mark"&&(a=Si(n,r.schema)),o&&t.selection.ranges.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;let g,b,v,x;t.selection.empty?r.doc.nodesBetween(h,p,(S,w)=>{l&&l===S.type&&(v=Math.max(w,h),x=Math.min(w+S.nodeSize,p),g=w,b=S)}):r.doc.nodesBetween(h,p,(S,w)=>{w<h&&l&&l===S.type&&(v=Math.max(w,h),x=Math.min(w+S.nodeSize,p),g=w,b=S),w>=h&&w<=p&&(l&&l===S.type&&t.setNodeMarkup(w,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(M=>{if(a===M.type){const E=Math.max(w,h),k=Math.min(w+S.nodeSize,p);t.addMark(E,k,a.create({...M.attrs,...e}))}}))}),b&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...b.attrs,...e}),a&&b.marks.length&&b.marks.forEach(S=>{a===S.type&&t.addMark(v,x,a.create({...S.attrs,...e}))}))}),!0):!1},kB=(n,e={})=>({state:t,dispatch:r})=>{const o=vt(n,t.schema);return G3(o,e)(t,r)},OB=(n,e={})=>({state:t,dispatch:r})=>{const o=vt(n,t.schema);return Y3(o,e)(t,r)};var AB=Object.freeze({__proto__:null,blur:gL,clearContent:yL,clearNodes:bL,command:vL,createParagraphNear:xL,cut:SL,deleteCurrentNode:wL,deleteNode:CL,deleteRange:ML,deleteSelection:EL,enter:TL,exitCode:kL,extendMarkRange:OL,first:AL,focus:NL,forEach:DL,insertContent:RL,insertContentAt:LL,joinBackward:jL,joinDown:PL,joinForward:HL,joinItemBackward:IL,joinItemForward:UL,joinTextblockBackward:VL,joinTextblockForward:qL,joinUp:BL,keyboardShortcut:$L,lift:GL,liftEmptyBlock:YL,liftListItem:KL,newlineInCode:XL,resetAttributes:WL,scrollIntoView:QL,selectAll:ZL,selectNodeBackward:JL,selectNodeForward:eB,selectParentNode:tB,selectTextblockEnd:nB,selectTextblockStart:rB,setContent:iB,setMark:fB,setMeta:dB,setNode:hB,setNodeSelection:pB,setTextSelection:mB,sinkListItem:gB,splitBlock:yB,splitListItem:bB,toggleList:vB,toggleMark:xB,toggleNode:SB,toggleWrap:wB,undoInputRule:CB,unsetAllMarks:MB,unsetMark:EB,updateAttributes:TB,wrapIn:kB,wrapInList:OB});const NB=Xt.create({name:"commands",addCommands(){return{...AB}}}),DB=Xt.create({name:"drop",addProseMirrorPlugins(){return[new _t({key:new It("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),RB=Xt.create({name:"editable",addProseMirrorPlugins(){return[new _t({key:new It("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_B=new It("focusEvents"),zB=Xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new _t({key:_B,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),LB=Xt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:p,$anchor:g}=f,{pos:b,parent:v}=g,x=g.parent.isTextblock&&b>0?u.doc.resolve(b-1):g,S=x.parent.type.spec.isolating,w=g.pos-g.parentOffset,M=S&&x.parent.childCount===1?w===g.pos:xe.atStart(h).from===b;return!p||!v.type.isTextblock||v.textContent.length||!M||M&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ku()||AM()?l:o},addProseMirrorPlugins(){return[new _t({key:new It("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),o=n.some(S=>S.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:u}=e.selection,f=xe.atStart(e.doc).from,h=xe.atEnd(e.doc).to;if(l||!(a===f&&u===h)||!Wu(t.doc))return;const b=t.tr,v=Fu({state:t,transaction:b}),{commands:x}=new $u({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),BB=Xt.create({name:"paste",addProseMirrorPlugins(){return[new _t({key:new It("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),PB=Xt.create({name:"tabindex",addProseMirrorPlugins(){return[new _t({key:new It("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class qi{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new qi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),u=this.resolvedPos.doc.resolve(a);if(!o&&u.depth<=this.depth)return;const f=new qi(u,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new qi(u,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const l=o.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const f=a[u];if(l[f]!==t[f])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(f=>t[f]===a.node.attrs[f])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const jB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function HB(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}let IB=class extends eL{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=HB(jB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=SM(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=r.filter(u=>!u.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[RB,mL.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),NB,zB,LB,PB,DB,BB].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new ss(o,this)}createCommandManager(){this.commandManager=new $u({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=Lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=TM(t,this.options.autofocus);this.view=new C3(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:is.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),l=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aB(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return cB(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return jm(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return sB(this.state.doc,{blockSeparator:t,textSerializers:{...CM(this.schema),...r}})}get isEmpty(){return Wu(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new qi(t,this)}get $doc(){return this.$pos(0)}};function Ql(n){return new Im({find:n.find,handler:({state:e,range:t,match:r})=>{const o=Oe(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],u=r[0];if(a){const f=u.search(/\S/),h=t.from+u.indexOf(a),p=h+a.length;if(RM(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===n.type&&S!==v.mark.type)).filter(v=>v.to>h).length)return null;p<t.to&&l.delete(p,t.to),h>t.from&&l.delete(t.from+f,h);const b=t.from+f+a.length;l.addMark(t.from+f,b,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function Pp(n){return new Im({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),l=Oe(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function Zl(n){return new Im({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const l=Oe(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),h=f&&wm(f,n.type,l);if(!h)return null;if(a.wrap(f,h),n.keepMarks&&n.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,x=b||g.$to.parentOffset&&g.$from.marks();if(x){const S=x.filter(w=>v.includes(w.type.name));a.ensureMarks(S)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(g,l).run()}const p=a.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&vi(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&a.join(t.from-1)}})}let Ut=class jp{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ce(this,"addOptions",{name:this.name}))),this.storage=Oe(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jp(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Yu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jp(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ce(t,"addOptions",{name:t.name})),t.storage=Oe(ce(t,"addStorage",{name:t.name,options:t.options})),t}};class UB{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,o,l,a,u,f;const{view:h}=this.editor,p=e.target,g=p.nodeType===3?(t=p.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(p)||!g)return;let b=0,v=0;if(this.dom!==g){const E=this.dom.getBoundingClientRect(),k=g.getBoundingClientRect(),D=(o=e.offsetX)!==null&&o!==void 0?o:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetX,N=(a=e.offsetY)!==null&&a!==void 0?a:(u=e.nativeEvent)===null||u===void 0?void 0:u.offsetY;b=k.x-E.x+D,v=k.y-E.y+N}const x=this.dom.cloneNode(!0);(f=e.dataTransfer)===null||f===void 0||f.setDragImage(x,b,v);const S=this.getPos();if(typeof S!="number")return;const w=pe.create(h.state.doc,S),M=h.state.tr.setSelection(w);h.dispatch(M)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const l=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!l)return!0;const{isEditable:f}=this.editor,{isDragging:h}=this,p=!!this.node.type.spec.draggable,g=pe.isSelectable(this.node),b=e.type==="copy",v=e.type==="paste",x=e.type==="cut",S=e.type==="mousedown";if(!p&&g&&l&&e.target===this.dom&&e.preventDefault(),p&&l&&!h&&e.target===this.dom)return e.preventDefault(),!1;if(p&&f&&!h&&S){const w=r.closest("[data-drag-handle]");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(h||a||b||v||x||S&&g)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Ku()||kM())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function Jl(n){return new cL({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const l=Oe(n.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,u=r[r.length-1],f=r[0];let h=t.to;if(u){const p=f.search(/\S/),g=t.from+f.indexOf(u),b=g+u.length;if(RM(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===n.type&&w!==x.mark.type)).filter(x=>x.to>g).length)return null;b<t.to&&a.delete(b,t.to),g>t.from&&a.delete(t.from+p,g),h=t.from+p+u.length,a.addMark(t.from+p,h,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}function VB(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _M={exports:{}},Zh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function qB(){if(_x)return Zh;_x=1;var n=Pe;function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function u(g,b){var v=b(),x=r({inst:{value:v,getSnapshot:b}}),S=x[0].inst,w=x[1];return l(function(){S.value=v,S.getSnapshot=b,f(S)&&w({inst:S})},[g,v,b]),o(function(){return f(S)&&w({inst:S}),g(function(){f(S)&&w({inst:S})})},[g]),a(v),v}function f(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!t(g,v)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Zh.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,Zh}_M.exports=qB();var qm=_M.exports;const FB=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},$B=({contentComponent:n})=>{const e=qm.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Pe.createElement(Pe.Fragment,null,Object.values(e))};function GB(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:A1.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class YB extends Pe.Component{constructor(e){var t;super(e),this.editorContentRef=Pe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=GB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:FB(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Pe.createElement($B,{contentComponent:e.contentComponent}))}}const KB=O.forwardRef((n,e)=>{const t=Pe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Pe.createElement(YB,{key:t,innerRef:e,...n})}),XB=Pe.memo(KB);var WB=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=r;o--!==0;){var a=l[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},QB=VB(WB),zM={exports:{}},Jh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function ZB(){if(zx)return Jh;zx=1;var n=Pe,e=qm;function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,u=n.useMemo,f=n.useDebugValue;return Jh.useSyncExternalStoreWithSelector=function(h,p,g,b,v){var x=l(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=u(function(){function M(_){if(!E){if(E=!0,k=_,_=b(_),v!==void 0&&S.hasValue){var A=S.value;if(v(A,_))return D=A}return D=_}if(A=D,r(k,_))return A;var z=b(_);return v!==void 0&&v(A,z)?A:(k=_,D=z)}var E=!1,k,D,N=g===void 0?null:g;return[function(){return M(p())},N===null?void 0:function(){return M(N())}]},[p,g,b,v]);var w=o(h,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),f(w),w},Jh}zM.exports=ZB();var JB=zM.exports;const eP=typeof window<"u"?O.useLayoutEffect:O.useEffect;class tP{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function nP(n){var e;const[t]=O.useState(()=>new tP(n.editor)),r=JB.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:QB);return eP(()=>t.watch(n.editor),[n.editor,t]),O.useDebugValue(r),r}const rP=!1,Hp=typeof window>"u",iP=Hp||!!(typeof window<"u"&&window.next);class Fm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Hp||iP?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)===null||l===void 0?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)===null||l===void 0?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)===null||l===void 0?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)===null||l===void 0?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)===null||l===void 0?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)===null||l===void 0?void 0:l.call(o,...r)}};return new IB(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((o,l)=>{var a;return o===((a=t.extensions)===null||a===void 0?void 0:a[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Fm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function oP(n={},e=[]){const t=O.useRef(n);t.current=n;const[r]=O.useState(()=>new Fm(t)),o=qm.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(o),O.useEffect(r.onRender(e)),nP({editor:o,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),o}const sP=O.createContext({editor:null});sP.Consumer;const LM=O.createContext({onDragStart:void 0}),BM=()=>O.useContext(LM),lP=n=>{const e=n.as||"div",{nodeViewContentRef:t}=BM();return Pe.createElement(e,{...n,ref:t,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...n.style}})},aP=Pe.forwardRef((n,e)=>{const{onDragStart:t}=BM(),r=n.as||"div";return Pe.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function cP(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function uP(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class fP{constructor(e,{editor:t,props:r={},as:o="div",className:l=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(o),this.element.classList.add("react-renderer"),l&&this.element.classList.add(...l.split(" ")),this.editor.isInitialized?Eu.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,o=this.editor;(cP(t)||uP(t))&&(r.ref=l=>{this.ref=l}),this.reactElement=Pe.createElement(t,{...r}),(e=o==null?void 0:o.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class dP extends UB{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(h={})=>this.updateAttributes(h),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const h=p=>p.charAt(0).toUpperCase()+p.substring(1);this.component.displayName=h(this.extension.name)}const o={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:h=>{h&&this.contentDOMElement&&h.firstChild!==this.contentDOMElement&&h.appendChild(this.contentDOMElement)}},l=this.component,a=Pe.memo(h=>Pe.createElement(LM.Provider,{value:o},Pe.createElement(l,h)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let u=this.node.isInline?"span":"div";this.options.as&&(u=this.options.as);const{className:f=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new fP(a,{editor:this.editor,props:e,as:u,className:`node-${this.node.type.name} ${f}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const o=l=>{this.renderer.updateProps(l),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const l=this.node,a=this.decorations,u=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:l,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:u,innerDecorations:r,updateProps:()=>o({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,o({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=vu(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function hP(n,e){return t=>t.editor.contentComponent?new dP(n,t,e):{}}function pP({onClick:n,isActive:e,children:t,tooltipContent:r,shortcut:o}){return R.jsx(lu,{content:r,shortcut:o,children:R.jsx(En,{variant:"ghost",size:"sm",onClick:n,className:Ye("text-gray-400 p-1.5 rounded hover:bg-muted transition-colors hover:text-primary",e&&"bg-muted text-primary"),children:t})})}const mP=()=>R.jsx(ym,{orientation:"vertical",className:"opacity-50 my-1"}),Lx=[{label:"Paragraph",value:"paragraph",isActive:n=>n.isActive("paragraph"),onClick:n=>n.chain().focus().setParagraph().run()},{label:"Heading 1",value:"heading1",isActive:n=>n.isActive("heading",{level:1}),onClick:n=>n.chain().focus().toggleHeading({level:1}).run()},{label:"Heading 2",value:"heading2",isActive:n=>n.isActive("heading",{level:2}),onClick:n=>n.chain().focus().toggleHeading({level:2}).run()},{label:"Heading 3",value:"heading3",isActive:n=>n.isActive("heading",{level:3}),onClick:n=>n.chain().focus().toggleHeading({level:3}).focus().run()},{label:"Heading 4",value:"heading4",isActive:n=>n.isActive("heading",{level:4}),onClick:n=>n.chain().focus().toggleHeading({level:4}).focus().run()},{label:"Heading 5",value:"heading5",isActive:n=>n.isActive("heading",{level:5}),onClick:n=>n.chain().focus().toggleHeading({level:5}).focus().run()},{label:"Heading 6",value:"heading6",isActive:n=>n.isActive("heading",{level:6}),onClick:n=>n.chain().focus().toggleHeading({level:6}).focus().run()}];function gP({editor:n,counts:e}){var l;const t=e.words,r=e.chars;if(!n)return null;const o=[{type:"separator"},{type:"button",icon:()=>R.jsx(gO,{style:{width:14,height:14}}),onClick:()=>n.chain().focus().toggleBold().run(),isActive:n.isActive("bold"),tooltip:"Bold",shortcut:"B"},{type:"button",icon:()=>R.jsx(PO,{style:{width:14,height:14}}),onClick:()=>n.chain().focus().toggleItalic().run(),isActive:n.isActive("italic"),tooltip:"Italic",shortcut:"I"},{type:"button",icon:rA,onClick:()=>n.chain().focus().toggleUnderline().run(),isActive:n.isActive("underline"),tooltip:"Underline",shortcut:"U"},{type:"separator"},{type:"button",icon:()=>R.jsx(CO,{}),onClick:()=>n.chain().focus().toggleCode().run(),isActive:n.isActive("code"),tooltip:"Inline Code",shortcut:"E"},{type:"button",icon:()=>R.jsx(QO,{}),onClick:()=>n.chain().focus().toggleCodeBlock().run(),isActive:n.isActive("codeBlock"),tooltip:"Code Block",shortcut:"E"},{type:"separator"},{type:"button",icon:UO,onClick:()=>n.chain().focus().toggleBulletList().run(),isActive:n.isActive("bulletList"),tooltip:"Bullet List",shortcut:"8"},{type:"button",icon:HO,onClick:()=>n.chain().focus().toggleOrderedList().run(),isActive:n.isActive("orderedList"),tooltip:"Numbered List",shortcut:"7"},{type:"button",icon:XO,onClick:()=>n.chain().focus().toggleTaskList().run(),isActive:n.isActive("taskList"),tooltip:"Task List",shortcut:""},{type:"separator"},{type:"button",icon:tA,onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),isActive:n.isActive("table"),tooltip:"Insert Table",shortcut:""}];return R.jsxs("div",{className:"flex items-center justify-between gap-1 p-1",children:[R.jsxs("div",{className:"flex gap-1",children:[R.jsxs(Bw,{children:[R.jsx(Pw,{asChild:!0,children:R.jsx(En,{variant:"ghost",size:"sm",className:"justify-start text-gray-400 hover:text-primary transition-colors",children:((l=Lx.find(a=>a.isActive(n)))==null?void 0:l.label)||"Paragraph"})}),R.jsx(gm,{align:"start",className:"gap-1",children:Lx.map(a=>R.jsx(rs,{onClick:()=>a.onClick(n),className:Ye("cursor-pointer text-xs first:mt-0 last:mb-0 my-1",a.isActive(n)&&"bg-muted text-primary"),children:a.label},a.value))})]}),o.map((a,u)=>{if(a.type==="separator")return R.jsx(mP,{},`sep-${u}`);if(a.type==="button"){const f=a.icon;return f?R.jsx(pP,{onClick:a.onClick,isActive:a.isActive,tooltipContent:a.tooltip,shortcut:a.shortcut,children:R.jsx(f,{})},`button-${u}`):null}return null})]}),R.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground/50 px-2",children:[R.jsxs("span",{children:["Words: ",R.jsx("span",{className:"text-primary/50 font-medium",children:t})]}),R.jsxs("span",{children:["Chars: ",R.jsx("span",{className:"text-primary/50 font-medium",children:r})]})]})]})}const yP="listItem",Bx="textStyle",Px=/^\s*([-+*])\s$/,PM=Ut.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(yP,this.editor.getAttributes(Bx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Zl({find:Px,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Zl({find:Px,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Bx),editor:this.editor})),[n]}}),jM=Ut.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Pp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),bP="listItem",jx="textStyle",Hx=/^(\d+)\.\s$/,HM=Ut.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",ft(this.options.HTMLAttributes,t),0]:["ol",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bP,this.editor.getAttributes(jx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Zl({find:Hx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Zl({find:Hx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(jx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),IM=Ut.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});function vP(){return{extensionConfigs:O.useMemo(()=>({Paragraph:{HTMLAttributes:{class:"tiptap-paragraph"}},Heading:{HTMLAttributes:{class:"tiptap-heading"}},Table:{cellMinWidth:50,resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!0},Placeholder:{placeholder:({node:t})=>t.type.name===jM.name?"Heading...":t.type.name===IM.name?"Start writing...":t.type.name===PM.name||t.type.name===HM.name?"Add pointer...":"",showOnlyCurrent:!1}}),[]),editorClassName:"tiptap"}}const xP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,SP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,wP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,MP=gi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ql({find:xP,type:this.type}),Ql({find:wP,type:this.type})]},addPasteRules(){return[Jl({find:SP,type:this.type}),Jl({find:CP,type:this.type})]}}),EP=Xt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc;if(((n==null?void 0:n.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new _t({key:new It("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const o=this.options.limit;if(o==null||o===0){n=!0;return}const l=this.storage.characters({node:r.doc});if(l>o){const a=l-o,u=0,f=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,f);return n=!0,h}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:t.doc}),l=this.storage.characters({node:e.doc});if(l<=r||o>r&&l>r&&l<=o)return!0;if(o>r&&l>r&&l>o||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=l-r,h=u-f,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}}),TP=/(^|[^`])`([^`]+)`(?!`)/,kP=/(^|[^`])`([^`]+)`(?!`)/g,OP=gi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ql({find:TP,type:this.type})]},addPasteRules(){return[Jl({find:kP,type:this.type})]}}),AP=/^```([a-z]+)?[\s\n]$/,NP=/^~~~([a-z]+)?[\s\n]$/,DP=Ut.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ft(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:l}=t;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const u=o.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(xe.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[Pp({find:AP,type:this.type,getAttributes:n=>({language:n[1]})}),Pp({find:NP,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new _t({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o==null?void 0:o.mode;if(!t||!l)return!1;const{tr:a,schema:u}=n.state,f=u.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),RP=Ut.create({name:"doc",topNode:!0,content:"block+"}),_P=Ut.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ft(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:l}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,f=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&a){const g=f.filter(b=>u.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var wu=200,bt=function(){};bt.prototype.append=function(e){return e.length?(e=bt.from(e),!this.length&&e||e.length<wu&&this.leafAppend(e)||this.length<wu&&e.leafPrepend(this)||this.appendInner(e)):this};bt.prototype.prepend=function(e){return e.length?bt.from(e).append(this):this};bt.prototype.appendInner=function(e){return new zP(this,e)};bt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};bt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};bt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},t,r),o};bt.from=function(e){return e instanceof bt?e:e&&e.length?new UM(e):bt.empty};var UM=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,u){for(var f=l;f<a;f++)if(o(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,u){for(var f=l-1;f>=a;f--)if(o(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=wu)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=wu)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(bt);bt.empty=new UM([]);var zP=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(l,u),a)===!1||l>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,l)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(l,u)-u,a+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(o,u),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(bt);const LP=500;class Dn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;t&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,u,f,h=[],p=[];return this.items.forEach((g,b)=>{if(!g.step){o||(o=this.remapping(r,b+1),l=o.maps.length),l--,p.push(g);return}if(o){p.push(new Vn(g.map));let v=g.step.map(o.slice(l)),x;v&&a.maybeStep(v).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],h.push(new Vn(x,void 0,void 0,h.length+p.length))),l--,x&&o.appendMap(x,l)}else a.maybeStep(g.step);if(g.selection)return u=o?g.selection.map(o.slice(l)):g.selection,f=new Dn(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:u}}addTransform(e,t,r,o){let l=[],a=this.eventCount,u=this.items,f=!o&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),b=new Vn(e.mapping.maps[p],g,t),v;(v=f&&f.merge(b))&&(b=v,p?l.pop():u=u.slice(0,u.length-1)),l.push(b),t&&(a++,t=void 0),o||(f=b)}let h=a-r.depth;return h>PP&&(u=BP(u,h),a-=h),new Dn(u.append(l),a)}remapping(e,t){let r=new $l;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Dn(this.items.append(e.map(t=>new Vn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},o);let f=t;this.items.forEach(b=>{let v=l.getMirror(--f);if(v==null)return;a=Math.min(a,v);let x=l.maps[v];if(b.step){let S=e.steps[v].invert(e.docs[v]),w=b.selection&&b.selection.map(l.slice(f+1,v));w&&u++,r.push(new Vn(x,S,w))}else r.push(new Vn(x))},o);let h=[];for(let b=t;b<a;b++)h.push(new Vn(l.maps[b]));let p=this.items.slice(0,o).append(h).append(r),g=new Dn(p,u);return g.emptyItemCount()>LP&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],l=0;return this.items.forEach((a,u)=>{if(u>=e)o.push(a),a.selection&&l++;else if(a.step){let f=a.step.map(t.slice(r)),h=f&&f.getMap();if(r--,h&&t.appendMap(h,r),f){let p=a.selection&&a.selection.map(t.slice(r));p&&l++;let g=new Vn(h.invert(),f,p),b,v=o.length-1;(b=o.length&&o[v].merge(g))?o[v]=b:o.push(g)}}else a.map&&r--},this.items.length,0),new Dn(bt.from(o.reverse()),l)}}Dn.empty=new Dn(bt.empty,0);function BP(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class Vn{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Vn(t.getMap().invert(),t,this.selection)}}}class ei{constructor(e,t,r,o,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const PP=20;function jP(n,e,t,r){let o=t.getMeta(Qi),l;if(o)return o.historyState;t.getMeta(UP)&&(n=new ei(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Qi))return a.getMeta(Qi).redo?new ei(n.done.addTransform(t,void 0,r,Qc(e)),n.undone,Ix(t.mapping.maps),n.prevTime,n.prevComposition):new ei(n.done,n.undone.addTransform(t,void 0,r,Qc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!HP(t,n.prevRanges)),h=a?ep(n.prevRanges,t.mapping):Ix(t.mapping.maps);return new ei(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Qc(e)),Dn.empty,h,t.time,u??n.prevComposition)}else return(l=t.getMeta("rebased"))?new ei(n.done.rebased(t,l),n.undone.rebased(t,l),ep(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ei(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),ep(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function HP(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(t=!0)}),t}function Ix(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,l,a)=>e.push(l,a));return e}function ep(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),l=e.map(n[r+1],-1);o<=l&&t.push(o,l)}return t}function IP(n,e,t){let r=Qc(e),o=Qi.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),u=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),f=new ei(t?u:l.remaining,t?l.remaining:u,null,0,-1);return l.transform.setSelection(a).setMeta(Qi,{redo:t,historyState:f})}let tp=!1,Ux=null;function Qc(n){let e=n.plugins;if(Ux!=e){tp=!1,Ux=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){tp=!0;break}}return tp}const Qi=new It("history"),UP=new It("closeHistory");function VP(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new _t({key:Qi,state:{init(){return new ei(Dn.empty,Dn.empty,null,0,-1)},apply(e,t,r){return jP(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?qM:r=="historyRedo"?FM:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function VM(n,e){return(t,r)=>{let o=Qi.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let l=IP(o,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const qM=VM(!1,!0),FM=VM(!0,!0),qP=Xt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>qM(n,e),redo:()=>({state:n,dispatch:e})=>FM(n,e)}},addProseMirrorPlugins(){return[VP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),FP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,$P=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,GP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,YP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,KP=gi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ql({find:FP,type:this.type}),Ql({find:GP,type:this.type})]},addPasteRules(){return[Jl({find:$P,type:this.type}),Jl({find:YP,type:this.type})]}}),XP=Ut.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ft(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),WP=Xt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new _t({key:new It("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!t)return null;const l=this.editor.isEmpty;return n.descendants((a,u)=>{const f=r>=u&&r<=u+a.nodeSize,h=!a.isLeaf&&Wu(a);if((f||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];l&&p.push(this.options.emptyEditorClass);const g=Lt.node(u,u+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:f}):this.options.placeholder});o.push(g)}return this.options.includeChildren}),Ze.create(n,o)}}})]}});var Ip,Up;if(typeof WeakMap<"u"){let n=new WeakMap;Ip=e=>n.get(e),Up=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;Ip=r=>{for(let o=0;o<n.length;o+=2)if(n[o]==r)return n[o+1]},Up=(r,o)=>(t==10&&(t=0),n[t++]=r,n[t++]=o)}var Je=class{constructor(n,e,t,r){this.width=n,this.height=e,this.map=t,this.problems=r}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const r=e%this.width,o=e/this.width|0;let l=r+1,a=o+1;for(let u=1;l<this.width&&this.map[e+u]==t;u++)l++;for(let u=1;a<this.height&&this.map[e+this.width*u]==t;u++)a++;return{left:r,top:o,right:l,bottom:a}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:r,right:o,top:l,bottom:a}=this.findCell(n);return e=="horiz"?(t<0?r==0:o==this.width)?null:this.map[l*this.width+(t<0?r-1:o)]:(t<0?l==0:a==this.height)?null:this.map[r+this.width*(t<0?l-1:a)]}rectBetween(n,e){const{left:t,right:r,top:o,bottom:l}=this.findCell(n),{left:a,right:u,top:f,bottom:h}=this.findCell(e);return{left:Math.min(t,a),top:Math.min(o,f),right:Math.max(r,u),bottom:Math.max(l,h)}}cellsInRect(n){const e=[],t={};for(let r=n.top;r<n.bottom;r++)for(let o=n.left;o<n.right;o++){const l=r*this.width+o,a=this.map[l];t[a]||(t[a]=!0,!(o==n.left&&o&&this.map[l-1]==a||r==n.top&&r&&this.map[l-this.width]==a)&&e.push(a))}return e}positionAt(n,e,t){for(let r=0,o=0;;r++){const l=o+t.child(r).nodeSize;if(r==n){let a=e+n*this.width;const u=(n+1)*this.width;for(;a<u&&this.map[a]<o;)a++;return a==u?l-1:this.map[a]}o=l}}static get(n){return Ip(n)||Up(n,QP(n))}};function QP(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=ZP(n),t=n.childCount,r=[];let o=0,l=null;const a=[];for(let h=0,p=e*t;h<p;h++)r[h]=0;for(let h=0,p=0;h<t;h++){const g=n.child(h);p++;for(let x=0;;x++){for(;o<r.length&&r[o]!=0;)o++;if(x==g.childCount)break;const S=g.child(x),{colspan:w,rowspan:M,colwidth:E}=S.attrs;for(let k=0;k<M;k++){if(k+h>=t){(l||(l=[])).push({type:"overlong_rowspan",pos:p,n:M-k});break}const D=o+k*e;for(let N=0;N<w;N++){r[D+N]==0?r[D+N]=p:(l||(l=[])).push({type:"collision",row:h,pos:p,n:w-N});const _=E&&E[N];if(_){const A=(D+N)%e*2,z=a[A];z==null||z!=_&&a[A+1]==1?(a[A]=_,a[A+1]=1):z==_&&a[A+1]++}}}o+=w,p+=S.nodeSize}const b=(h+1)*e;let v=0;for(;o<b;)r[o++]==0&&v++;v&&(l||(l=[])).push({type:"missing",row:h,n:v}),p++}(e===0||t===0)&&(l||(l=[])).push({type:"zero_sized"});const u=new Je(e,t,r,l);let f=!1;for(let h=0;!f&&h<a.length;h+=2)a[h]!=null&&a[h+1]<t&&(f=!0);return f&&JP(u,a,n),u}function ZP(n){let e=-1,t=!1;for(let r=0;r<n.childCount;r++){const o=n.child(r);let l=0;if(t)for(let a=0;a<r;a++){const u=n.child(a);for(let f=0;f<u.childCount;f++){const h=u.child(f);a+h.attrs.rowspan>r&&(l+=h.attrs.colspan)}}for(let a=0;a<o.childCount;a++){const u=o.child(a);l+=u.attrs.colspan,u.attrs.rowspan>1&&(t=!0)}e==-1?e=l:e!=l&&(e=Math.max(e,l))}return e}function JP(n,e,t){n.problems||(n.problems=[]);const r={};for(let o=0;o<n.map.length;o++){const l=n.map[o];if(r[l])continue;r[l]=!0;const a=t.nodeAt(l);if(!a)throw new RangeError(`No cell with offset ${l} found`);let u=null;const f=a.attrs;for(let h=0;h<f.colspan;h++){const p=(o+h)%n.width,g=e[p*2];g!=null&&(!f.colwidth||f.colwidth[h]!=g)&&((u||(u=ej(f)))[h]=g)}u&&n.problems.unshift({type:"colwidth mismatch",pos:l,colwidth:u})}}function ej(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function Dt(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const r=n.nodes[t],o=r.spec.tableRole;o&&(e[o]=r)}}return e}var ni=new It("selectingCells");function ws(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function tj(n){for(let e=n.depth;e>0;e--){const t=n.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return n.node(e)}return null}function Ln(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function Qu(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=ws(e.$head)||nj(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function nj(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function Vp(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function rj(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function $m(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function $M(n,e,t){const r=n.node(-1),o=Je.get(r),l=n.start(-1),a=o.nextCell(n.pos-l,e,t);return a==null?null:n.node(0).resolve(l+a)}function ro(n,e,t=1){const r={...n,colspan:n.colspan-t};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,t),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function GM(n,e,t=1){const r={...n,colspan:n.colspan+t};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<t;o++)r.colwidth.splice(e,0,0)}return r}function ij(n,e,t){const r=Dt(e.type.schema).header_cell;for(let o=0;o<n.height;o++)if(e.nodeAt(n.map[t+o*n.width]).type!=r)return!1;return!0}var $e=class mr extends xe{constructor(e,t=e){const r=e.node(-1),o=Je.get(r),l=e.start(-1),a=o.rectBetween(e.pos-l,t.pos-l),u=e.node(0),f=o.cellsInRect(a).filter(p=>p!=t.pos-l);f.unshift(t.pos-l);const h=f.map(p=>{const g=r.nodeAt(p);if(!g)throw RangeError(`No cell with offset ${p} found`);const b=l+p+1;return new EC(u.resolve(b),u.resolve(b+g.content.size))});super(h[0].$from,h[0].$to,h),this.$anchorCell=e,this.$headCell=t}map(e,t){const r=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(Vp(r)&&Vp(o)&&$m(r,o)){const l=this.$anchorCell.node(-1)!=r.node(-1);return l&&this.isRowSelection()?mr.rowSelection(r,o):l&&this.isColSelection()?mr.colSelection(r,o):new mr(r,o)}return ve.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=Je.get(e),r=this.$anchorCell.start(-1),o=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),l={},a=[];for(let f=o.top;f<o.bottom;f++){const h=[];for(let p=f*t.width+o.left,g=o.left;g<o.right;g++,p++){const b=t.map[p];if(l[b])continue;l[b]=!0;const v=t.findCell(b);let x=e.nodeAt(b);if(!x)throw RangeError(`No cell with offset ${b} found`);const S=o.left-v.left,w=v.right-o.right;if(S>0||w>0){let M=x.attrs;if(S>0&&(M=ro(M,0,S)),w>0&&(M=ro(M,M.colspan-w,w)),v.left<o.left){if(x=x.type.createAndFill(M),!x)throw RangeError(`Could not create cell with attrs ${JSON.stringify(M)}`)}else x=x.type.create(M,x.content)}if(v.top<o.top||v.bottom>o.bottom){const M={...x.attrs,rowspan:Math.min(v.bottom,o.bottom)-Math.max(v.top,o.top)};v.top<o.top?x=x.type.createAndFill(M):x=x.type.create(M,x.content)}h.push(x)}a.push(e.child(f).copy(Q.from(h)))}const u=this.isColSelection()&&this.isRowSelection()?e:a;return new re(Q.from(u),1,1)}replace(e,t=re.empty){const r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){const{$from:u,$to:f}=o[a],h=e.mapping.slice(r);e.replace(h.map(u.pos),h.map(f.pos),a?re.empty:t)}const l=xe.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);l&&e.setSelection(l)}replaceWith(e,t){this.replace(e,new re(Q.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),r=Je.get(t),o=this.$anchorCell.start(-1),l=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let a=0;a<l.length;a++)e(t.nodeAt(l[a]),o+l[a])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const r=e.node(-1),o=Je.get(r),l=e.start(-1),a=o.findCell(e.pos-l),u=o.findCell(t.pos-l),f=e.node(0);return a.top<=u.top?(a.top>0&&(e=f.resolve(l+o.map[a.left])),u.bottom<o.height&&(t=f.resolve(l+o.map[o.width*(o.height-1)+u.right-1]))):(u.top>0&&(t=f.resolve(l+o.map[u.left])),a.bottom<o.height&&(e=f.resolve(l+o.map[o.width*(o.height-1)+a.right-1]))),new mr(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=Je.get(e),r=this.$anchorCell.start(-1),o=t.colCount(this.$anchorCell.pos-r),l=t.colCount(this.$headCell.pos-r);if(Math.min(o,l)>0)return!1;const a=o+this.$anchorCell.nodeAfter.attrs.colspan,u=l+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,u)==t.width}eq(e){return e instanceof mr&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const r=e.node(-1),o=Je.get(r),l=e.start(-1),a=o.findCell(e.pos-l),u=o.findCell(t.pos-l),f=e.node(0);return a.left<=u.left?(a.left>0&&(e=f.resolve(l+o.map[a.top*o.width])),u.right<o.width&&(t=f.resolve(l+o.map[o.width*(u.top+1)-1]))):(u.left>0&&(t=f.resolve(l+o.map[u.top*o.width])),a.right<o.width&&(e=f.resolve(l+o.map[o.width*(a.top+1)-1]))),new mr(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new mr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){return new mr(e.resolve(t),e.resolve(r))}getBookmark(){return new oj(this.$anchorCell.pos,this.$headCell.pos)}};$e.prototype.visible=!1;xe.jsonID("cell",$e);var oj=class YM{constructor(e,t){this.anchor=e,this.head=t}map(e){return new YM(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),r=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&r.index()<r.parent.childCount&&$m(t,r)?new $e(t,r):xe.near(r,1)}};function sj(n){if(!(n.selection instanceof $e))return null;const e=[];return n.selection.forEachCell((t,r)=>{e.push(Lt.node(r,r+t.nodeSize,{class:"selectedCell"}))}),Ze.create(n.doc,e)}function lj({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,r=e.pos,o=n.depth;for(;o>=0&&!(n.after(o+1)<n.end(o));o--,t++);for(let l=e.depth;l>=0&&!(e.before(l+1)>e.start(l));l--,r--);return t==r&&/row|table/.test(n.node(o).type.spec.tableRole)}function aj({$from:n,$to:e}){let t,r;for(let o=n.depth;o>0;o--){const l=n.node(o);if(l.type.spec.tableRole==="cell"||l.type.spec.tableRole==="header_cell"){t=l;break}}for(let o=e.depth;o>0;o--){const l=e.node(o);if(l.type.spec.tableRole==="cell"||l.type.spec.tableRole==="header_cell"){r=l;break}}return t!==r&&e.parentOffset===0}function cj(n,e,t){const r=(e||n).selection,o=(e||n).doc;let l,a;if(r instanceof pe&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")l=$e.create(o,r.from);else if(a=="row"){const u=o.resolve(r.from+1);l=$e.rowSelection(u,u)}else if(!t){const u=Je.get(r.node),f=r.from+1,h=f+u.map[u.width*u.height-1];l=$e.create(o,f+1,h)}}else r instanceof ve&&lj(r)?l=ve.create(o,r.from):r instanceof ve&&aj(r)&&(l=ve.create(o,r.$from.start(),r.$from.end()));return l&&(e||(e=n.tr)).setSelection(l),e}var uj=new It("fix-tables");function KM(n,e,t,r){const o=n.childCount,l=e.childCount;e:for(let a=0,u=0;a<l;a++){const f=e.child(a);for(let h=u,p=Math.min(o,a+3);h<p;h++)if(n.child(h)==f){u=h+1,t+=f.nodeSize;continue e}r(f,t),u<o&&n.child(u).sameMarkup(f)?KM(n.child(u),f,t+1,r):f.nodesBetween(0,f.content.size,r,t+1),t+=f.nodeSize}}function XM(n,e){let t;const r=(o,l)=>{o.type.spec.tableRole=="table"&&(t=fj(n,o,l,t))};return e?e.doc!=n.doc&&KM(e.doc,n.doc,0,r):n.doc.descendants(r),t}function fj(n,e,t,r){const o=Je.get(e);if(!o.problems)return r;r||(r=n.tr);const l=[];for(let f=0;f<o.height;f++)l.push(0);for(let f=0;f<o.problems.length;f++){const h=o.problems[f];if(h.type=="collision"){const p=e.nodeAt(h.pos);if(!p)continue;const g=p.attrs;for(let b=0;b<g.rowspan;b++)l[h.row+b]+=h.n;r.setNodeMarkup(r.mapping.map(t+1+h.pos),null,ro(g,g.colspan-h.n,h.n))}else if(h.type=="missing")l[h.row]+=h.n;else if(h.type=="overlong_rowspan"){const p=e.nodeAt(h.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(t+1+h.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-h.n})}else if(h.type=="colwidth mismatch"){const p=e.nodeAt(h.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(t+1+h.pos),null,{...p.attrs,colwidth:h.colwidth})}else if(h.type=="zero_sized"){const p=r.mapping.map(t);r.delete(p,p+e.nodeSize)}}let a,u;for(let f=0;f<l.length;f++)l[f]&&(a==null&&(a=f),u=f);for(let f=0,h=t+1;f<o.height;f++){const p=e.child(f),g=h+p.nodeSize,b=l[f];if(b>0){let v="cell";p.firstChild&&(v=p.firstChild.type.spec.tableRole);const x=[];for(let w=0;w<b;w++){const M=Dt(n.schema)[v].createAndFill();M&&x.push(M)}const S=(f==0||a==f-1)&&u==f?h+1:g-1;r.insert(r.mapping.map(S),x)}h=g}return r.setMeta(uj,{fixTables:!0})}function Wn(n){const e=n.selection,t=Qu(n),r=t.node(-1),o=t.start(-1),l=Je.get(r);return{...e instanceof $e?l.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):l.findCell(t.pos-o),tableStart:o,map:l,table:r}}function WM(n,{map:e,tableStart:t,table:r},o){let l=o>0?-1:0;ij(e,r,o+l)&&(l=o==0||o==e.width?null:0);for(let a=0;a<e.height;a++){const u=a*e.width+o;if(o>0&&o<e.width&&e.map[u-1]==e.map[u]){const f=e.map[u],h=r.nodeAt(f);n.setNodeMarkup(n.mapping.map(t+f),null,GM(h.attrs,o-e.colCount(f))),a+=h.attrs.rowspan-1}else{const f=l==null?Dt(r.type.schema).cell:r.nodeAt(e.map[u+l]).type,h=e.positionAt(a,o,r);n.insert(n.mapping.map(t+h),f.createAndFill())}}return n}function dj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n);e(WM(n.tr,t,t.left))}return!0}function hj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n);e(WM(n.tr,t,t.right))}return!0}function pj(n,{map:e,table:t,tableStart:r},o){const l=n.mapping.maps.length;for(let a=0;a<e.height;){const u=a*e.width+o,f=e.map[u],h=t.nodeAt(f),p=h.attrs;if(o>0&&e.map[u-1]==f||o<e.width-1&&e.map[u+1]==f)n.setNodeMarkup(n.mapping.slice(l).map(r+f),null,ro(p,o-e.colCount(f)));else{const g=n.mapping.slice(l).map(r+f);n.delete(g,g+h.nodeSize)}a+=p.rowspan}}function mj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n),r=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let o=t.right-1;pj(r,t,o),o!=t.left;o--){const l=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!l)throw RangeError("No table found");t.table=l,t.map=Je.get(l)}e(r)}return!0}function gj(n,e,t){var r;const o=Dt(e.type.schema).header_cell;for(let l=0;l<n.width;l++)if(((r=e.nodeAt(n.map[l+t*n.width]))==null?void 0:r.type)!=o)return!1;return!0}function QM(n,{map:e,tableStart:t,table:r},o){var l;let a=t;for(let h=0;h<o;h++)a+=r.child(h).nodeSize;const u=[];let f=o>0?-1:0;gj(e,r,o+f)&&(f=o==0||o==e.height?null:0);for(let h=0,p=e.width*o;h<e.width;h++,p++)if(o>0&&o<e.height&&e.map[p]==e.map[p-e.width]){const g=e.map[p],b=r.nodeAt(g).attrs;n.setNodeMarkup(t+g,null,{...b,rowspan:b.rowspan+1}),h+=b.colspan-1}else{const g=f==null?Dt(r.type.schema).cell:(l=r.nodeAt(e.map[p+f*e.width]))==null?void 0:l.type,b=g==null?void 0:g.createAndFill();b&&u.push(b)}return n.insert(a,Dt(r.type.schema).row.create(null,u)),n}function yj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n);e(QM(n.tr,t,t.top))}return!0}function bj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n);e(QM(n.tr,t,t.bottom))}return!0}function vj(n,{map:e,table:t,tableStart:r},o){let l=0;for(let h=0;h<o;h++)l+=t.child(h).nodeSize;const a=l+t.child(o).nodeSize,u=n.mapping.maps.length;n.delete(l+r,a+r);const f=new Set;for(let h=0,p=o*e.width;h<e.width;h++,p++){const g=e.map[p];if(!f.has(g)){if(f.add(g),o>0&&g==e.map[p-e.width]){const b=t.nodeAt(g).attrs;n.setNodeMarkup(n.mapping.slice(u).map(g+r),null,{...b,rowspan:b.rowspan-1}),h+=b.colspan-1}else if(o<e.height&&g==e.map[p+e.width]){const b=t.nodeAt(g),v=b.attrs,x=b.type.create({...v,rowspan:b.attrs.rowspan-1},b.content),S=e.positionAt(o+1,h,t);n.insert(n.mapping.slice(u).map(r+S),x),h+=v.colspan-1}}}}function xj(n,e){if(!Ln(n))return!1;if(e){const t=Wn(n),r=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let o=t.bottom-1;vj(r,t,o),o!=t.top;o--){const l=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!l)throw RangeError("No table found");t.table=l,t.map=Je.get(t.table)}e(r)}return!0}function Vx(n){const e=n.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Sj({width:n,height:e,map:t},r){let o=r.top*n+r.left,l=o,a=(r.bottom-1)*n+r.left,u=o+(r.right-r.left-1);for(let f=r.top;f<r.bottom;f++){if(r.left>0&&t[l]==t[l-1]||r.right<n&&t[u]==t[u+1])return!0;l+=n,u+=n}for(let f=r.left;f<r.right;f++){if(r.top>0&&t[o]==t[o-n]||r.bottom<e&&t[a]==t[a+n])return!0;o++,a++}return!1}function qx(n,e){const t=n.selection;if(!(t instanceof $e)||t.$anchorCell.pos==t.$headCell.pos)return!1;const r=Wn(n),{map:o}=r;if(Sj(o,r))return!1;if(e){const l=n.tr,a={};let u=Q.empty,f,h;for(let p=r.top;p<r.bottom;p++)for(let g=r.left;g<r.right;g++){const b=o.map[p*o.width+g],v=r.table.nodeAt(b);if(!(a[b]||!v))if(a[b]=!0,f==null)f=b,h=v;else{Vx(v)||(u=u.append(v.content));const x=l.mapping.map(b+r.tableStart);l.delete(x,x+v.nodeSize)}}if(f==null||h==null)return!0;if(l.setNodeMarkup(f+r.tableStart,null,{...GM(h.attrs,h.attrs.colspan,r.right-r.left-h.attrs.colspan),rowspan:r.bottom-r.top}),u.size){const p=f+1+h.content.size,g=Vx(h)?f+1:p;l.replaceWith(g+r.tableStart,p+r.tableStart,u)}l.setSelection(new $e(l.doc.resolve(f+r.tableStart))),e(l)}return!0}function Fx(n,e){const t=Dt(n.schema);return wj(({node:r})=>t[r.type.spec.tableRole])(n,e)}function wj(n){return(e,t)=>{var r;const o=e.selection;let l,a;if(o instanceof $e){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;l=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(l=tj(o.$from),!l)return!1;a=(r=ws(o.$from))==null?void 0:r.pos}if(l==null||a==null||l.attrs.colspan==1&&l.attrs.rowspan==1)return!1;if(t){let u=l.attrs;const f=[],h=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const p=Wn(e),g=e.tr;for(let v=0;v<p.right-p.left;v++)f.push(h?{...u,colwidth:h&&h[v]?[h[v]]:null}:u);let b;for(let v=p.top;v<p.bottom;v++){let x=p.map.positionAt(v,p.left,p.table);v==p.top&&(x+=l.nodeSize);for(let S=p.left,w=0;S<p.right;S++,w++)S==p.left&&v==p.top||g.insert(b=g.mapping.map(x+p.tableStart,1),n({node:l,row:v,col:S}).createAndFill(f[w]))}g.setNodeMarkup(a,n({node:l,row:p.top,col:p.left}),f[0]),o instanceof $e&&g.setSelection(new $e(g.doc.resolve(o.$anchorCell.pos),b?g.doc.resolve(b):void 0)),t(g)}return!0}}function Cj(n,e){return function(t,r){if(!Ln(t))return!1;const o=Qu(t);if(o.nodeAfter.attrs[n]===e)return!1;if(r){const l=t.tr;t.selection instanceof $e?t.selection.forEachCell((a,u)=>{a.attrs[n]!==e&&l.setNodeMarkup(u,null,{...a.attrs,[n]:e})}):l.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[n]:e}),r(l)}return!0}}function Mj(n){return function(e,t){if(!Ln(e))return!1;if(t){const r=Dt(e.schema),o=Wn(e),l=e.tr,a=o.map.cellsInRect(n=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:n=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),u=a.map(f=>o.table.nodeAt(f));for(let f=0;f<a.length;f++)u[f].type==r.header_cell&&l.setNodeMarkup(o.tableStart+a[f],r.cell,u[f].attrs);if(l.steps.length==0)for(let f=0;f<a.length;f++)l.setNodeMarkup(o.tableStart+a[f],r.header_cell,u[f].attrs);t(l)}return!0}}function $x(n,e,t){const r=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let o=0;o<r.length;o++){const l=e.table.nodeAt(r[o]);if(l&&l.type!==t.header_cell)return!1}return!0}function ea(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Mj(n):function(t,r){if(!Ln(t))return!1;if(r){const o=Dt(t.schema),l=Wn(t),a=t.tr,u=$x("row",l,o),f=$x("column",l,o),p=(n==="column"?u:n==="row"?f:!1)?1:0,g=n=="column"?{left:0,top:p,right:1,bottom:l.map.height}:n=="row"?{left:p,top:0,right:l.map.width,bottom:1}:l,b=n=="column"?f?o.cell:o.header_cell:n=="row"?u?o.cell:o.header_cell:o.cell;l.map.cellsInRect(g).forEach(v=>{const x=v+l.tableStart,S=a.doc.nodeAt(x);S&&a.setNodeMarkup(x,b,S.attrs)}),r(a)}return!0}}ea("row",{useDeprecatedLogic:!0});ea("column",{useDeprecatedLogic:!0});var Ej=ea("cell",{useDeprecatedLogic:!0});function Tj(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let r=n.index(-1)-1,o=n.before();r>=0;r--){const l=n.node(-1).child(r),a=l.lastChild;if(a)return o-1-a.nodeSize;o-=l.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let r=n.indexAfter(-1),o=n.after();r<t.childCount;r++){const l=t.child(r);if(l.childCount)return o+1;o+=l.nodeSize}}return null}function Gx(n){return function(e,t){if(!Ln(e))return!1;const r=Tj(Qu(e),n);if(r==null)return!1;if(t){const o=e.doc.resolve(r);t(e.tr.setSelection(ve.between(o,rj(o))).scrollIntoView())}return!0}}function kj(n,e){const t=n.selection.$anchor;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(r),t.after(r)).scrollIntoView()),!0;return!1}function jc(n,e){const t=n.selection;if(!(t instanceof $e))return!1;if(e){const r=n.tr,o=Dt(n.schema).cell.createAndFill().content;t.forEachCell((l,a)=>{l.content.eq(o)||r.replace(r.mapping.map(a+1),r.mapping.map(a+l.nodeSize-1),new re(o,0,0))}),r.docChanged&&e(r)}return!0}function Oj(n){if(!n.size)return null;let{content:e,openStart:t,openEnd:r}=n;for(;e.childCount==1&&(t>0&&r>0||e.child(0).type.spec.tableRole=="table");)t--,r--,e=e.child(0).content;const o=e.child(0),l=o.type.spec.tableRole,a=o.type.schema,u=[];if(l=="row")for(let f=0;f<e.childCount;f++){let h=e.child(f).content;const p=f?0:Math.max(0,t-1),g=f<e.childCount-1?0:Math.max(0,r-1);(p||g)&&(h=qp(Dt(a).row,new re(h,p,g)).content),u.push(h)}else if(l=="cell"||l=="header_cell")u.push(t||r?qp(Dt(a).row,new re(e,t,r)).content:e);else return null;return Aj(a,u)}function Aj(n,e){const t=[];for(let o=0;o<e.length;o++){const l=e[o];for(let a=l.childCount-1;a>=0;a--){const{rowspan:u,colspan:f}=l.child(a).attrs;for(let h=o;h<o+u;h++)t[h]=(t[h]||0)+f}}let r=0;for(let o=0;o<t.length;o++)r=Math.max(r,t[o]);for(let o=0;o<t.length;o++)if(o>=e.length&&e.push(Q.empty),t[o]<r){const l=Dt(n).cell.createAndFill(),a=[];for(let u=t[o];u<r;u++)a.push(l);e[o]=e[o].append(Q.from(a))}return{height:e.length,width:r,rows:e}}function qp(n,e){const t=n.createAndFill();return new MC(t).replace(0,t.content.size,e).doc}function Nj({width:n,height:e,rows:t},r,o){if(n!=r){const l=[],a=[];for(let u=0;u<t.length;u++){const f=t[u],h=[];for(let p=l[u]||0,g=0;p<r;g++){let b=f.child(g%f.childCount);p+b.attrs.colspan>r&&(b=b.type.createChecked(ro(b.attrs,b.attrs.colspan,p+b.attrs.colspan-r),b.content)),h.push(b),p+=b.attrs.colspan;for(let v=1;v<b.attrs.rowspan;v++)l[u+v]=(l[u+v]||0)+b.attrs.colspan}a.push(Q.from(h))}t=a,n=r}if(e!=o){const l=[];for(let a=0,u=0;a<o;a++,u++){const f=[],h=t[u%e];for(let p=0;p<h.childCount;p++){let g=h.child(p);a+g.attrs.rowspan>o&&(g=g.type.create({...g.attrs,rowspan:Math.max(1,o-g.attrs.rowspan)},g.content)),f.push(g)}l.push(Q.from(f))}t=l,e=o}return{width:n,height:e,rows:t}}function Dj(n,e,t,r,o,l,a){const u=n.doc.type.schema,f=Dt(u);let h,p;if(o>e.width)for(let g=0,b=0;g<e.height;g++){const v=t.child(g);b+=v.nodeSize;const x=[];let S;v.lastChild==null||v.lastChild.type==f.cell?S=h||(h=f.cell.createAndFill()):S=p||(p=f.header_cell.createAndFill());for(let w=e.width;w<o;w++)x.push(S);n.insert(n.mapping.slice(a).map(b-1+r),x)}if(l>e.height){const g=[];for(let x=0,S=(e.height-1)*e.width;x<Math.max(e.width,o);x++){const w=x>=e.width?!1:t.nodeAt(e.map[S+x]).type==f.header_cell;g.push(w?p||(p=f.header_cell.createAndFill()):h||(h=f.cell.createAndFill()))}const b=f.row.create(null,Q.from(g)),v=[];for(let x=e.height;x<l;x++)v.push(b);n.insert(n.mapping.slice(a).map(r+t.nodeSize-2),v)}return!!(h||p)}function Yx(n,e,t,r,o,l,a,u){if(a==0||a==e.height)return!1;let f=!1;for(let h=o;h<l;h++){const p=a*e.width+h,g=e.map[p];if(e.map[p-e.width]==g){f=!0;const b=t.nodeAt(g),{top:v,left:x}=e.findCell(g);n.setNodeMarkup(n.mapping.slice(u).map(g+r),null,{...b.attrs,rowspan:a-v}),n.insert(n.mapping.slice(u).map(e.positionAt(a,x,t)),b.type.createAndFill({...b.attrs,rowspan:v+b.attrs.rowspan-a})),h+=b.attrs.colspan-1}}return f}function Kx(n,e,t,r,o,l,a,u){if(a==0||a==e.width)return!1;let f=!1;for(let h=o;h<l;h++){const p=h*e.width+a,g=e.map[p];if(e.map[p-1]==g){f=!0;const b=t.nodeAt(g),v=e.colCount(g),x=n.mapping.slice(u).map(g+r);n.setNodeMarkup(x,null,ro(b.attrs,a-v,b.attrs.colspan-(a-v))),n.insert(x+b.nodeSize,b.type.createAndFill(ro(b.attrs,0,a-v))),h+=b.attrs.rowspan-1}}return f}function Xx(n,e,t,r,o){let l=t?n.doc.nodeAt(t-1):n.doc;if(!l)throw new Error("No table found");let a=Je.get(l);const{top:u,left:f}=r,h=f+o.width,p=u+o.height,g=n.tr;let b=0;function v(){if(l=t?g.doc.nodeAt(t-1):g.doc,!l)throw new Error("No table found");a=Je.get(l),b=g.mapping.maps.length}Dj(g,a,l,t,h,p,b)&&v(),Yx(g,a,l,t,f,h,u,b)&&v(),Yx(g,a,l,t,f,h,p,b)&&v(),Kx(g,a,l,t,u,p,f,b)&&v(),Kx(g,a,l,t,u,p,h,b)&&v();for(let x=u;x<p;x++){const S=a.positionAt(x,f,l),w=a.positionAt(x,h,l);g.replace(g.mapping.slice(b).map(S+t),g.mapping.slice(b).map(w+t),new re(o.rows[x-u],0,0))}v(),g.setSelection(new $e(g.doc.resolve(t+a.positionAt(u,f,l)),g.doc.resolve(t+a.positionAt(p-1,h-1,l)))),e(g)}var Rj=lM({ArrowLeft:Hc("horiz",-1),ArrowRight:Hc("horiz",1),ArrowUp:Hc("vert",-1),ArrowDown:Hc("vert",1),"Shift-ArrowLeft":Ic("horiz",-1),"Shift-ArrowRight":Ic("horiz",1),"Shift-ArrowUp":Ic("vert",-1),"Shift-ArrowDown":Ic("vert",1),Backspace:jc,"Mod-Backspace":jc,Delete:jc,"Mod-Delete":jc});function Zc(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function Hc(n,e){return(t,r,o)=>{if(!o)return!1;const l=t.selection;if(l instanceof $e)return Zc(t,r,xe.near(l.$headCell,e));if(n!="horiz"&&!l.empty)return!1;const a=ZM(o,n,e);if(a==null)return!1;if(n=="horiz")return Zc(t,r,xe.near(t.doc.resolve(l.head+e),e));{const u=t.doc.resolve(a),f=$M(u,n,e);let h;return f?h=xe.near(f,1):e<0?h=xe.near(t.doc.resolve(u.before(-1)),-1):h=xe.near(t.doc.resolve(u.after(-1)),1),Zc(t,r,h)}}}function Ic(n,e){return(t,r,o)=>{if(!o)return!1;const l=t.selection;let a;if(l instanceof $e)a=l;else{const f=ZM(o,n,e);if(f==null)return!1;a=new $e(t.doc.resolve(f))}const u=$M(a.$headCell,n,e);return u?Zc(t,r,new $e(a.$anchorCell,u)):!1}}function _j(n,e){const t=n.state.doc,r=ws(t.resolve(e));return r?(n.dispatch(n.state.tr.setSelection(new $e(r))),!0):!1}function zj(n,e,t){if(!Ln(n.state))return!1;let r=Oj(t);const o=n.state.selection;if(o instanceof $e){r||(r={width:1,height:1,rows:[Q.from(qp(Dt(n.state.schema).cell,t))]});const l=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),u=Je.get(l).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=Nj(r,u.right-u.left,u.bottom-u.top),Xx(n.state,n.dispatch,a,u,r),!0}else if(r){const l=Qu(n.state),a=l.start(-1);return Xx(n.state,n.dispatch,a,Je.get(l.node(-1)).findCell(l.pos-a),r),!0}else return!1}function Lj(n,e){var t;if(e.ctrlKey||e.metaKey)return;const r=Wx(n,e.target);let o;if(e.shiftKey&&n.state.selection instanceof $e)l(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(o=ws(n.state.selection.$anchor))!=null&&((t=np(n,e))==null?void 0:t.pos)!=o.pos)l(o,e),e.preventDefault();else if(!r)return;function l(f,h){let p=np(n,h);const g=ni.getState(n.state)==null;if(!p||!$m(f,p))if(g)p=f;else return;const b=new $e(f,p);if(g||!n.state.selection.eq(b)){const v=n.state.tr.setSelection(b);g&&v.setMeta(ni,f.pos),n.dispatch(v)}}function a(){n.root.removeEventListener("mouseup",a),n.root.removeEventListener("dragstart",a),n.root.removeEventListener("mousemove",u),ni.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(ni,-1))}function u(f){const h=f,p=ni.getState(n.state);let g;if(p!=null)g=n.state.doc.resolve(p);else if(Wx(n,h.target)!=r&&(g=np(n,e),!g))return a();g&&l(g,h)}n.root.addEventListener("mouseup",a),n.root.addEventListener("dragstart",a),n.root.addEventListener("mousemove",u)}function ZM(n,e,t){if(!(n.state.selection instanceof ve))return null;const{$head:r}=n.state.selection;for(let o=r.depth-1;o>=0;o--){const l=r.node(o);if((t<0?r.index(o):r.indexAfter(o))!=(t<0?0:l.childCount))return null;if(l.type.spec.tableRole=="cell"||l.type.spec.tableRole=="header_cell"){const u=r.before(o),f=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(f)?u:null}}return null}function Wx(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function np(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?ws(n.state.doc.resolve(t.pos)):null}var Bj=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Fp(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Fp(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Fp(n,e,t,r,o,l){var a;let u=0,f=!0,h=e.firstChild;const p=n.firstChild;if(p){for(let g=0,b=0;g<p.childCount;g++){const{colspan:v,colwidth:x}=p.child(g).attrs;for(let S=0;S<v;S++,b++){const w=o==b?l:x&&x[S],M=w?w+"px":"";if(u+=w||r,w||(f=!1),h)h.style.width!=M&&(h.style.width=M),h=h.nextSibling;else{const E=document.createElement("col");E.style.width=M,e.appendChild(E)}}}for(;h;){const g=h.nextSibling;(a=h.parentNode)==null||a.removeChild(h),h=g}f?(t.style.width=u+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=u+"px")}}var an=new It("tableColumnResizing");function Pj({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:r=Bj,lastColumnResizable:o=!0}={}){const l=new _t({key:an,state:{init(a,u){var f,h;const p=(h=(f=l.spec)==null?void 0:f.props)==null?void 0:h.nodeViews,g=Dt(u.schema).table.name;return r&&p&&(p[g]=(b,v)=>new r(b,t,v)),new jj(-1,!1)},apply(a,u){return u.apply(a)}},props:{attributes:a=>{const u=an.getState(a);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,u)=>{Hj(a,u,n,o)},mouseleave:a=>{Ij(a)},mousedown:(a,u)=>{Uj(a,u,e,t)}},decorations:a=>{const u=an.getState(a);if(u&&u.activeHandle>-1)return Gj(a,u.activeHandle)},nodeViews:{}}});return l}var jj=class Jc{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,r=e.getMeta(an);if(r&&r.setHandle!=null)return new Jc(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Jc(t.activeHandle,r.setDragging);if(t.activeHandle>-1&&e.docChanged){let o=e.mapping.map(t.activeHandle,-1);return Vp(e.doc.resolve(o))||(o=-1),new Jc(o,t.dragging)}return t}};function Hj(n,e,t,r){if(!n.editable)return;const o=an.getState(n.state);if(o&&!o.dragging){const l=qj(e.target);let a=-1;if(l){const{left:u,right:f}=l.getBoundingClientRect();e.clientX-u<=t?a=Qx(n,e,"left",t):f-e.clientX<=t&&(a=Qx(n,e,"right",t))}if(a!=o.activeHandle){if(!r&&a!==-1){const u=n.state.doc.resolve(a),f=u.node(-1),h=Je.get(f),p=u.start(-1);if(h.colCount(u.pos-p)+u.nodeAfter.attrs.colspan-1==h.width-1)return}JM(n,a)}}}function Ij(n){if(!n.editable)return;const e=an.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&JM(n,-1)}function Uj(n,e,t,r){var o;if(!n.editable)return!1;const l=(o=n.dom.ownerDocument.defaultView)!=null?o:window,a=an.getState(n.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const u=n.state.doc.nodeAt(a.activeHandle),f=Vj(n,a.activeHandle,u.attrs);n.dispatch(n.state.tr.setMeta(an,{setDragging:{startX:e.clientX,startWidth:f}}));function h(g){l.removeEventListener("mouseup",h),l.removeEventListener("mousemove",p);const b=an.getState(n.state);b!=null&&b.dragging&&(Fj(n,b.activeHandle,Zx(b.dragging,g,t)),n.dispatch(n.state.tr.setMeta(an,{setDragging:null})))}function p(g){if(!g.which)return h(g);const b=an.getState(n.state);if(b&&b.dragging){const v=Zx(b.dragging,g,t);Jx(n,b.activeHandle,v,r)}}return Jx(n,a.activeHandle,f,r),l.addEventListener("mouseup",h),l.addEventListener("mousemove",p),e.preventDefault(),!0}function Vj(n,e,{colspan:t,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const l=n.domAtPos(e);let u=l.node.childNodes[l.offset].offsetWidth,f=t;if(r)for(let h=0;h<t;h++)r[h]&&(u-=r[h],f--);return u/f}function qj(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function Qx(n,e,t,r){const o=t=="right"?-r:r,l=n.posAtCoords({left:e.clientX+o,top:e.clientY});if(!l)return-1;const{pos:a}=l,u=ws(n.state.doc.resolve(a));if(!u)return-1;if(t=="right")return u.pos;const f=Je.get(u.node(-1)),h=u.start(-1),p=f.map.indexOf(u.pos-h);return p%f.width==0?-1:h+f.map[p-1]}function Zx(n,e,t){const r=e.clientX-n.startX;return Math.max(t,n.startWidth+r)}function JM(n,e){n.dispatch(n.state.tr.setMeta(an,{setHandle:e}))}function Fj(n,e,t){const r=n.state.doc.resolve(e),o=r.node(-1),l=Je.get(o),a=r.start(-1),u=l.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,f=n.state.tr;for(let h=0;h<l.height;h++){const p=h*l.width+u;if(h&&l.map[p]==l.map[p-l.width])continue;const g=l.map[p],b=o.nodeAt(g).attrs,v=b.colspan==1?0:u-l.colCount(g);if(b.colwidth&&b.colwidth[v]==t)continue;const x=b.colwidth?b.colwidth.slice():$j(b.colspan);x[v]=t,f.setNodeMarkup(a+g,null,{...b,colwidth:x})}f.docChanged&&n.dispatch(f)}function Jx(n,e,t,r){const o=n.state.doc.resolve(e),l=o.node(-1),a=o.start(-1),u=Je.get(l).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;let f=n.domAtPos(o.start(-1)).node;for(;f&&f.nodeName!="TABLE";)f=f.parentNode;f&&Fp(l,f.firstChild,f,r,u,t)}function $j(n){return Array(n).fill(0)}function Gj(n,e){var t;const r=[],o=n.doc.resolve(e),l=o.node(-1);if(!l)return Ze.empty;const a=Je.get(l),u=o.start(-1),f=a.colCount(o.pos-u)+o.nodeAfter.attrs.colspan-1;for(let h=0;h<a.height;h++){const p=f+h*a.width;if((f==a.width-1||a.map[p]!=a.map[p+1])&&(h==0||a.map[p]!=a.map[p-a.width])){const g=a.map[p],b=u+g+l.nodeAt(g).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",(t=an.getState(n))!=null&&t.dragging&&r.push(Lt.node(u+g,u+g+l.nodeAt(g).nodeSize,{class:"column-resize-dragging"})),r.push(Lt.widget(b,v))}}return Ze.create(n.doc,r)}function Yj({allowTableNodeSelection:n=!1}={}){return new _t({key:ni,state:{init(){return null},apply(e,t){const r=e.getMeta(ni);if(r!=null)return r==-1?null:r;if(t==null||!e.docChanged)return t;const{deleted:o,pos:l}=e.mapping.mapResult(t);return o?null:l}},props:{decorations:sj,handleDOMEvents:{mousedown:Lj},createSelectionBetween(e){return ni.getState(e.state)!=null?e.state.selection:null},handleTripleClick:_j,handleKeyDown:Rj,handlePaste:zj},appendTransaction(e,t,r){return cj(r,XM(r,t),n)}})}function $p(n,e){return e?["width",`${Math.max(e,n)}px`]:["min-width",`${n}px`]}function e1(n,e,t,r,o,l){var a;let u=0,f=!0,h=e.firstChild;const p=n.firstChild;if(p!==null)for(let g=0,b=0;g<p.childCount;g+=1){const{colspan:v,colwidth:x}=p.child(g).attrs;for(let S=0;S<v;S+=1,b+=1){const w=o===b?l:x&&x[S],M=w?`${w}px`:"";if(u+=w||r,w||(f=!1),h){if(h.style.width!==M){const[E,k]=$p(r,w);h.style.setProperty(E,k)}h=h.nextSibling}else{const E=document.createElement("col"),[k,D]=$p(r,w);E.style.setProperty(k,D),e.appendChild(E)}}}for(;h;){const g=h.nextSibling;(a=h.parentNode)===null||a===void 0||a.removeChild(h),h=g}f?(t.style.width=`${u}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${u}px`)}class Kj{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),e1(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,e1(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Xj(n,e,t,r){let o=0,l=!0;const a=[],u=n.firstChild;if(!u)return{};for(let g=0,b=0;g<u.childCount;g+=1){const{colspan:v,colwidth:x}=u.child(g).attrs;for(let S=0;S<v;S+=1,b+=1){const w=t===b?r:x&&x[S];o+=w||e,w||(l=!1);const[M,E]=$p(e,w);a.push(["col",{style:`${M}: ${E}`}])}}const f=l?`${o}px`:"",h=l?"":`${o}px`;return{colgroup:["colgroup",{},...a],tableWidth:f,tableMinWidth:h}}function t1(n,e){return n.createAndFill()}function Wj(n){if(n.cached.tableNodeTypes)return n.cached.tableNodeTypes;const e={};return Object.keys(n.nodes).forEach(t=>{const r=n.nodes[t];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),n.cached.tableNodeTypes=e,e}function Qj(n,e,t,r,o){const l=Wj(n),a=[],u=[];for(let h=0;h<t;h+=1){const p=t1(l.cell);if(p&&u.push(p),r){const g=t1(l.header_cell);g&&a.push(g)}}const f=[];for(let h=0;h<e;h+=1)f.push(l.row.createChecked(null,r&&h===0?a:u));return l.table.createChecked(null,f)}function Zj(n){return n instanceof $e}const Uc=({editor:n})=>{const{selection:e}=n.state;if(!Zj(e))return!1;let t=0;const r=DM(e.ranges[0].$from,l=>l.type.name==="table");return r==null||r.node.descendants(l=>{if(l.type.name==="table")return!1;["tableCell","tableHeader"].includes(l.type.name)&&(t+=1)}),t===e.ranges.length?(n.commands.deleteTable(),!0):!1},Jj=Ut.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Kj,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:n,HTMLAttributes:e}){const{colgroup:t,tableWidth:r,tableMinWidth:o}=Xj(n,this.options.cellMinWidth);return["table",ft(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${o}`}),t,["tbody",0]]},addCommands(){return{insertTable:({rows:n=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:r,dispatch:o,editor:l})=>{const a=Qj(l.schema,n,e,t);if(o){const u=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(ve.near(r.doc.resolve(u)))}return!0},addColumnBefore:()=>({state:n,dispatch:e})=>dj(n,e),addColumnAfter:()=>({state:n,dispatch:e})=>hj(n,e),deleteColumn:()=>({state:n,dispatch:e})=>mj(n,e),addRowBefore:()=>({state:n,dispatch:e})=>yj(n,e),addRowAfter:()=>({state:n,dispatch:e})=>bj(n,e),deleteRow:()=>({state:n,dispatch:e})=>xj(n,e),deleteTable:()=>({state:n,dispatch:e})=>kj(n,e),mergeCells:()=>({state:n,dispatch:e})=>qx(n,e),splitCell:()=>({state:n,dispatch:e})=>Fx(n,e),toggleHeaderColumn:()=>({state:n,dispatch:e})=>ea("column")(n,e),toggleHeaderRow:()=>({state:n,dispatch:e})=>ea("row")(n,e),toggleHeaderCell:()=>({state:n,dispatch:e})=>Ej(n,e),mergeOrSplit:()=>({state:n,dispatch:e})=>qx(n,e)?!0:Fx(n,e),setCellAttribute:(n,e)=>({state:t,dispatch:r})=>Cj(n,e)(t,r),goToNextCell:()=>({state:n,dispatch:e})=>Gx(1)(n,e),goToPreviousCell:()=>({state:n,dispatch:e})=>Gx(-1)(n,e),fixTables:()=>({state:n,dispatch:e})=>(e&&XM(n),!0),setCellSelection:n=>({tr:e,dispatch:t})=>{if(t){const r=$e.create(e.doc,n.anchorCell,n.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Uc,"Mod-Backspace":Uc,Delete:Uc,"Mod-Delete":Uc}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Pj({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Yj({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(n){const e={name:n.name,options:n.options,storage:n.storage};return{tableRole:Oe(ce(n,"tableRole",e))}}}),eH=Ut.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:n}){return["td",ft(this.options.HTMLAttributes,n),0]}}),tH=Ut.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:n}){return["th",ft(this.options.HTMLAttributes,n),0]}}),nH=Ut.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:n}){return["tr",ft(this.options.HTMLAttributes,n),0]}}),rH=/^\s*(\[([( |x])?\])\s$/,iH=Ut.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",ft(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const o=document.createElement("li"),l=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div");return l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",h=>h.preventDefault()),u.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:p}=h.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const b=t();if(typeof b!="number")return!1;const v=g.doc.nodeAt(b);return g.setNodeMarkup(b,void 0,{...v==null?void 0:v.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,p)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,p])=>{o.setAttribute(h,p)}),o.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,l.append(u,a),o.append(l,f),Object.entries(e).forEach(([h,p])=>{o.setAttribute(h,p)}),{dom:o,contentDOM:f,update:h=>h.type!==this.type?!1:(o.dataset.checked=h.attrs.checked,u.checked=h.attrs.checked,!0)}}},addInputRules(){return[Zl({find:rH,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),oH=Ut.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",ft(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),sH=Ut.create({name:"text",group:"inline"}),lH=gi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ft(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),aH=n=>{const e=n.node.attrs.checked;return R.jsx(aP,{as:"li",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(W1,{checked:e,onCheckedChange:()=>{n.updateAttributes({checked:!e})}}),R.jsx("div",{className:e?"line-through text-muted-foreground":"",children:R.jsx(lP,{})})]})})};function eE({content:n="",onChange:e,editable:t=!0}){const{extensionConfigs:r,editorClassName:o}=vP(),[l,a]=O.useState({words:0,chars:0}),u=oP({extensions:[RP,IM.configure(r.Paragraph),jM.configure(r.Heading),sH,qP,_P,XP,PM,HM,oH,iH.extend({addNodeView(){return hP(aH)}}),Jj.configure(r.Table),tH,eH,nH,WP.configure(r.Placeholder),MP,KP,lH,OP,DP,EP],content:n,editable:t,editorProps:{attributes:{class:o}},onUpdate:({editor:f})=>{const h=f.getHTML();e==null||e(h);const p=f.getText().trim(),g=p.length>0?p.split(" ").length:0,b=p.length;a({words:g,chars:b})}},[a]);return R.jsx(Q1,{className:"h-full",children:R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsx("div",{className:"flex-1 mt-4 p-4 overflow-y-auto bg-background",children:R.jsx(XB,{editor:u,className:"tiptap min-h-full outline-none"})}),R.jsx(ym,{}),R.jsx(gP,{editor:u,counts:l})]})})}const tE=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("rounded-xl border bg-card text-card-foreground shadow-sm",n),...e}));tE.displayName="Card";const nE=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("flex flex-col space-y-1.5 p-6",n),...e}));nE.displayName="CardHeader";const cH=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("text-lg font-semibold leading-none tracking-tight",n),...e}));cH.displayName="CardTitle";const uH=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("text-sm text-muted-foreground",n),...e}));uH.displayName="CardDescription";const rE=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("p-6 pt-0",n),...e}));rE.displayName="CardContent";const fH=O.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:Ye("flex items-center p-6 pt-0",n),...e}));fH.displayName="CardFooter";const dH=({node:n,onClick:e,buttonText:t})=>R.jsxs(tE,{className:"my-2 bg-background/80 border-border/60 shadow-sm hover:shadow-lg transition-shadow",children:[R.jsxs(nE,{className:"py-1.5 border-b flex flex-row justify-between items-center flex-nowrap",children:[R.jsx("span",{className:"text-base font-medium text-foreground truncate",children:n.name}),R.jsx(En,{size:"sm",variant:"outline",className:"",onClick:e,children:t})]}),R.jsx(rE,{children:R.jsx("div",{className:"my-2 p-0 rounded [mask-image:linear-gradient(to_top,transparent,black_50%)]",children:R.jsx("div",{className:"w-[280px] h-[120px] overflow-hidden relative",children:R.jsx("div",{className:"scale-50 origin-top-left w-[220%]",style:{pointerEvents:"none",position:"absolute",top:0,left:0},children:R.jsx(eE,{content:n.content||"",editable:!1})})})})})]}),hH=()=>{const{tree:n,openFile:e}=ta();function t(l){return l.flatMap(a=>a.isFolder?t(a.items):[a])}const o=t(n).filter(l=>!l.isFolder).filter(l=>l.lastOpenedDate).sort((l,a)=>(a.lastOpenedDate||"").localeCompare(l.lastOpenedDate||"")).slice(0,5);return o.length===0?null:R.jsxs("div",{className:"px-2 py-1",children:[R.jsx("div",{className:"font-semibold text-md tracking-wide text-muted-foreground mb-3",children:"Recently Opened"}),R.jsx("ul",{className:"space-y-1",children:o.map(l=>R.jsx("li",{children:R.jsxs(En,{variant:"ghost",size:"sm",className:"w-full flex justify-between items-center text-xs px-2 py-1",onClick:()=>e(l.id),children:[R.jsx("span",{className:"truncate max-w-[120px]",children:l.name}),R.jsx("span",{className:"text-muted-foreground ml-2 text-[10px]",children:IA(l.lastOpenedDate)})]})},l.id))})]})},pH=()=>{const{addNode:n,openFile:e}=ta(),t=r=>{const o=Date.now().toString()+Math.random().toString(36).slice(2,6);n(null,{id:o,name:r.name.replace(/^\d+\. /,""),isFolder:!1,items:[],content:r.content}),e(o)};return R.jsxs("div",{className:"mt-4 w-full flex items-center justify-center h-full text-muted-foreground flex-col",children:[R.jsx(hH,{}),R.jsxs("div",{className:"mt-8",children:[R.jsx("span",{className:"mb-2 text-sm font-semibold text-muted-foreground",children:"Start from a template"}),R.jsx("div",{className:"flex flex-row gap-3 overflow-auto w-[640px]",children:w1.map(r=>R.jsx(dH,{node:r,onClick:()=>t(r),buttonText:"Use this template"},r.id))})]})]})},mH=({activeFile:n,updateFileContent:e})=>R.jsx("div",{className:"flex-1 overflow-y-scroll",children:n&&!n.isFolder?R.jsx(eE,{content:n.content||"",onChange:t=>e(n.id,t)},n.id):R.jsx(pH,{})}),gH={theme:"system",setTheme:()=>null},iE=O.createContext(gH),yH=()=>{const n=O.useContext(iE);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function bH({className:n,...e}){const{theme:t,setTheme:r}=yH();return R.jsxs(En,{variant:"ghost",onClick:()=>r(t==="light"?"dark":"light"),className:Ye("relative p-2.5 rounded-full transition-colors hover:bg-muted",n),...e,children:[R.jsx(JO,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),R.jsx(qO,{className:"absolute top-2.5 left-2.5 h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),R.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const vH=()=>R.jsx(En,{variant:"ghost",className:"max-w-14 before:h-[2.5px] opacity-85 text-xl font-thin font-[Exile] relative before:absolute before:inset-x-0 before:bottom-0 before:bg-current before:origin-right before:scale-x-100 hover:before:origin-left hover:before:scale-x-0 before:transition-transform before:delay-100 before:duration-300 before:ease-in-out hover:opacity-100",children:"Jot."}),xH=({sidebarOpen:n,setSidebarOpen:e})=>R.jsxs("header",{className:"border-b-2 z-10 flex items-center justify-between",children:[R.jsx(lu,{content:n?"Hide sidebar":"Show sidebar",side:"bottom",children:R.jsx(En,{variant:"ghost",size:"icon",className:"mx-2","aria-label":n?"Hide sidebar":"Show sidebar",onClick:()=>e(!n),children:n?R.jsx(YO,{className:"w-5 h-5"}):R.jsx($O,{className:"w-5 h-5"})})}),R.jsxs(Q1,{className:"p-2 w-full flex items-center justify-between",children:[R.jsx(vH,{}),R.jsx(bH,{})]})]});var Ml={exports:{}},El={},Tl={exports:{}},rp={},ip={exports:{}},op,n1;function SH(){if(n1)return op;n1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return op=n,op}var sp,r1;function wH(){if(r1)return sp;r1=1;var n=SH();function e(){}function t(){}return t.resetWarningCache=e,sp=function(){function r(a,u,f,h,p,g){if(g!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},sp}var i1;function Zu(){return i1||(i1=1,ip.exports=wH()()),ip.exports}function oE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=oE(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function o1(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=oE(n))&&(r&&(r+=" "),r+=e);return r}const CH=Object.freeze(Object.defineProperty({__proto__:null,clsx:o1,default:o1},Symbol.toStringTag,{value:"Module"})),MH=Rk(CH);var nt={},Xr={},s1;function Ju(){if(s1)return Xr;s1=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.dontSetMe=o,Xr.findInArray=n,Xr.int=r,Xr.isFunction=e,Xr.isNum=t;function n(l,a){for(let u=0,f=l.length;u<f;u++)if(a.apply(a,[l[u],u,l]))return l[u]}function e(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Function]"}function t(l){return typeof l=="number"&&!isNaN(l)}function r(l){return parseInt(l,10)}function o(l,a,u){if(l[a])return new Error("Invalid prop ".concat(a," passed to ").concat(u," - do not set this, set it on the child."))}return Xr}var Wr={},l1;function EH(){if(l1)return Wr;l1=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.browserPrefixToKey=t,Wr.browserPrefixToStyle=r,Wr.default=void 0,Wr.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var l;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const u=(l=window.document)===null||l===void 0||(l=l.documentElement)===null||l===void 0?void 0:l.style;if(!u||a in u)return"";for(let f=0;f<n.length;f++)if(t(a,n[f])in u)return n[f];return""}function t(l,a){return a?"".concat(a).concat(o(l)):l}function r(l,a){return a?"-".concat(a.toLowerCase(),"-").concat(l):l}function o(l){let a="",u=!0;for(let f=0;f<l.length;f++)u?(a+=l[f].toUpperCase(),u=!1):l[f]==="-"?u=!0:a+=l[f];return a}return Wr.default=e(),Wr}var a1;function Gm(){if(a1)return nt;a1=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.addClassName=N,nt.addEvent=u,nt.addUserSelectStyles=k,nt.createCSSTransform=x,nt.createSVGTransform=S,nt.getTouch=M,nt.getTouchIdentifier=E,nt.getTranslation=w,nt.innerHeight=g,nt.innerWidth=b,nt.matchesSelector=l,nt.matchesSelectorAndParentsTo=a,nt.offsetXYFromParent=v,nt.outerHeight=h,nt.outerWidth=p,nt.removeClassName=_,nt.removeEvent=f,nt.removeUserSelectStyles=D;var n=Ju(),e=r(EH());function t(A){if(typeof WeakMap!="function")return null;var z=new WeakMap,V=new WeakMap;return(t=function(ee){return ee?V:z})(A)}function r(A,z){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var V=t(z);if(V&&V.has(A))return V.get(A);var ee={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in A)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(A,ne)){var fe=oe?Object.getOwnPropertyDescriptor(A,ne):null;fe&&(fe.get||fe.set)?Object.defineProperty(ee,ne,fe):ee[ne]=A[ne]}return ee.default=A,V&&V.set(A,ee),ee}let o="";function l(A,z){return o||(o=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(V){return(0,n.isFunction)(A[V])})),(0,n.isFunction)(A[o])?A[o](z):!1}function a(A,z,V){let ee=A;do{if(l(ee,z))return!0;if(ee===V)return!1;ee=ee.parentNode}while(ee);return!1}function u(A,z,V,ee){if(!A)return;const oe={capture:!0,...ee};A.addEventListener?A.addEventListener(z,V,oe):A.attachEvent?A.attachEvent("on"+z,V):A["on"+z]=V}function f(A,z,V,ee){if(!A)return;const oe={capture:!0,...ee};A.removeEventListener?A.removeEventListener(z,V,oe):A.detachEvent?A.detachEvent("on"+z,V):A["on"+z]=null}function h(A){let z=A.clientHeight;const V=A.ownerDocument.defaultView.getComputedStyle(A);return z+=(0,n.int)(V.borderTopWidth),z+=(0,n.int)(V.borderBottomWidth),z}function p(A){let z=A.clientWidth;const V=A.ownerDocument.defaultView.getComputedStyle(A);return z+=(0,n.int)(V.borderLeftWidth),z+=(0,n.int)(V.borderRightWidth),z}function g(A){let z=A.clientHeight;const V=A.ownerDocument.defaultView.getComputedStyle(A);return z-=(0,n.int)(V.paddingTop),z-=(0,n.int)(V.paddingBottom),z}function b(A){let z=A.clientWidth;const V=A.ownerDocument.defaultView.getComputedStyle(A);return z-=(0,n.int)(V.paddingLeft),z-=(0,n.int)(V.paddingRight),z}function v(A,z,V){const oe=z===z.ownerDocument.body?{left:0,top:0}:z.getBoundingClientRect(),ne=(A.clientX+z.scrollLeft-oe.left)/V,fe=(A.clientY+z.scrollTop-oe.top)/V;return{x:ne,y:fe}}function x(A,z){const V=w(A,z,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:V}}function S(A,z){return w(A,z,"")}function w(A,z,V){let{x:ee,y:oe}=A,ne="translate(".concat(ee).concat(V,",").concat(oe).concat(V,")");if(z){const fe="".concat(typeof z.x=="string"?z.x:z.x+V),ye="".concat(typeof z.y=="string"?z.y:z.y+V);ne="translate(".concat(fe,", ").concat(ye,")")+ne}return ne}function M(A,z){return A.targetTouches&&(0,n.findInArray)(A.targetTouches,V=>z===V.identifier)||A.changedTouches&&(0,n.findInArray)(A.changedTouches,V=>z===V.identifier)}function E(A){if(A.targetTouches&&A.targetTouches[0])return A.targetTouches[0].identifier;if(A.changedTouches&&A.changedTouches[0])return A.changedTouches[0].identifier}function k(A){if(!A)return;let z=A.getElementById("react-draggable-style-el");z||(z=A.createElement("style"),z.type="text/css",z.id="react-draggable-style-el",z.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,z.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,A.getElementsByTagName("head")[0].appendChild(z)),A.body&&N(A.body,"react-draggable-transparent-selection")}function D(A){if(A)try{if(A.body&&_(A.body,"react-draggable-transparent-selection"),A.selection)A.selection.empty();else{const z=(A.defaultView||window).getSelection();z&&z.type!=="Caret"&&z.removeAllRanges()}}catch{}}function N(A,z){A.classList?A.classList.add(z):A.className.match(new RegExp("(?:^|\\s)".concat(z,"(?!\\S)")))||(A.className+=" ".concat(z))}function _(A,z){A.classList?A.classList.remove(z):A.className=A.className.replace(new RegExp("(?:^|\\s)".concat(z,"(?!\\S)"),"g"),"")}return nt}var Un={},c1;function sE(){if(c1)return Un;c1=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.canDragX=o,Un.canDragY=l,Un.createCoreData=u,Un.createDraggableData=f,Un.getBoundPosition=t,Un.getControlPosition=a,Un.snapToGrid=r;var n=Ju(),e=Gm();function t(g,b,v){if(!g.props.bounds)return[b,v];let{bounds:x}=g.props;x=typeof x=="string"?x:h(x);const S=p(g);if(typeof x=="string"){const{ownerDocument:w}=S,M=w.defaultView;let E;if(x==="parent"?E=S.parentNode:E=w.querySelector(x),!(E instanceof M.HTMLElement))throw new Error('Bounds selector "'+x+'" could not find an element.');const k=E,D=M.getComputedStyle(S),N=M.getComputedStyle(k);x={left:-S.offsetLeft+(0,n.int)(N.paddingLeft)+(0,n.int)(D.marginLeft),top:-S.offsetTop+(0,n.int)(N.paddingTop)+(0,n.int)(D.marginTop),right:(0,e.innerWidth)(k)-(0,e.outerWidth)(S)-S.offsetLeft+(0,n.int)(N.paddingRight)-(0,n.int)(D.marginRight),bottom:(0,e.innerHeight)(k)-(0,e.outerHeight)(S)-S.offsetTop+(0,n.int)(N.paddingBottom)-(0,n.int)(D.marginBottom)}}return(0,n.isNum)(x.right)&&(b=Math.min(b,x.right)),(0,n.isNum)(x.bottom)&&(v=Math.min(v,x.bottom)),(0,n.isNum)(x.left)&&(b=Math.max(b,x.left)),(0,n.isNum)(x.top)&&(v=Math.max(v,x.top)),[b,v]}function r(g,b,v){const x=Math.round(b/g[0])*g[0],S=Math.round(v/g[1])*g[1];return[x,S]}function o(g){return g.props.axis==="both"||g.props.axis==="x"}function l(g){return g.props.axis==="both"||g.props.axis==="y"}function a(g,b,v){const x=typeof b=="number"?(0,e.getTouch)(g,b):null;if(typeof b=="number"&&!x)return null;const S=p(v),w=v.props.offsetParent||S.offsetParent||S.ownerDocument.body;return(0,e.offsetXYFromParent)(x||g,w,v.props.scale)}function u(g,b,v){const x=!(0,n.isNum)(g.lastX),S=p(g);return x?{node:S,deltaX:0,deltaY:0,lastX:b,lastY:v,x:b,y:v}:{node:S,deltaX:b-g.lastX,deltaY:v-g.lastY,lastX:g.lastX,lastY:g.lastY,x:b,y:v}}function f(g,b){const v=g.props.scale;return{node:b.node,x:g.state.x+b.deltaX/v,y:g.state.y+b.deltaY/v,deltaX:b.deltaX/v,deltaY:b.deltaY/v,lastX:g.state.x,lastY:g.state.y}}function h(g){return{left:g.left,top:g.top,right:g.right,bottom:g.bottom}}function p(g){const b=g.findDOMNode();if(!b)throw new Error("<DraggableCore>: Unmounted during event!");return b}return Un}var kl={},Vc={},u1;function lE(){if(u1)return Vc;u1=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.default=n;function n(){}return Vc}var f1;function TH(){if(f1)return kl;f1=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.default=void 0;var n=h(yi()),e=u(Zu()),t=u(Cu()),r=Gm(),o=sE(),l=Ju(),a=u(lE());function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var M=new WeakMap,E=new WeakMap;return(f=function(k){return k?E:M})(w)}function h(w,M){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var E=f(M);if(E&&E.has(w))return E.get(w);var k={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in w)if(N!=="default"&&Object.prototype.hasOwnProperty.call(w,N)){var _=D?Object.getOwnPropertyDescriptor(w,N):null;_&&(_.get||_.set)?Object.defineProperty(k,N,_):k[N]=w[N]}return k.default=w,E&&E.set(w,k),k}function p(w,M,E){return M=g(M),M in w?Object.defineProperty(w,M,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[M]=E,w}function g(w){var M=b(w,"string");return typeof M=="symbol"?M:String(M)}function b(w,M){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var k=E.call(w,M);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(w)}const v={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let x=v.mouse,S=class extends n.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",M=>{if(this.props.onMouseDown(M),!this.props.allowAnyClick&&typeof M.button=="number"&&M.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:k}=E;if(this.props.disabled||!(M.target instanceof k.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(M.target,this.props.handle,E)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(M.target,this.props.cancel,E))return;M.type==="touchstart"&&M.preventDefault();const D=(0,r.getTouchIdentifier)(M);this.touchIdentifier=D;const N=(0,o.getControlPosition)(M,D,this);if(N==null)return;const{x:_,y:A}=N,z=(0,o.createCoreData)(this,_,A);(0,a.default)("DraggableCore: handleDragStart: %j",z),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(M,z)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(k),this.dragging=!0,this.lastX=_,this.lastY=A,(0,r.addEvent)(k,x.move,this.handleDrag),(0,r.addEvent)(k,x.stop,this.handleDragStop))}),p(this,"handleDrag",M=>{const E=(0,o.getControlPosition)(M,this.touchIdentifier,this);if(E==null)return;let{x:k,y:D}=E;if(Array.isArray(this.props.grid)){let A=k-this.lastX,z=D-this.lastY;if([A,z]=(0,o.snapToGrid)(this.props.grid,A,z),!A&&!z)return;k=this.lastX+A,D=this.lastY+z}const N=(0,o.createCoreData)(this,k,D);if((0,a.default)("DraggableCore: handleDrag: %j",N),this.props.onDrag(M,N)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const z=document.createEvent("MouseEvents");z.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(z)}return}this.lastX=k,this.lastY=D}),p(this,"handleDragStop",M=>{if(!this.dragging)return;const E=(0,o.getControlPosition)(M,this.touchIdentifier,this);if(E==null)return;let{x:k,y:D}=E;if(Array.isArray(this.props.grid)){let z=k-this.lastX||0,V=D-this.lastY||0;[z,V]=(0,o.snapToGrid)(this.props.grid,z,V),k=this.lastX+z,D=this.lastY+V}const N=(0,o.createCoreData)(this,k,D);if(this.props.onStop(M,N)===!1||this.mounted===!1)return!1;const A=this.findDOMNode();A&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",N),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,A&&((0,a.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(A.ownerDocument,x.move,this.handleDrag),(0,r.removeEvent)(A.ownerDocument,x.stop,this.handleDragStop))}),p(this,"onMouseDown",M=>(x=v.mouse,this.handleDragStart(M))),p(this,"onMouseUp",M=>(x=v.mouse,this.handleDragStop(M))),p(this,"onTouchStart",M=>(x=v.touch,this.handleDragStart(M))),p(this,"onTouchEnd",M=>(x=v.touch,this.handleDragStop(M)))}componentDidMount(){this.mounted=!0;const M=this.findDOMNode();M&&(0,r.addEvent)(M,v.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const M=this.findDOMNode();if(M){const{ownerDocument:E}=M;(0,r.removeEvent)(E,v.mouse.move,this.handleDrag),(0,r.removeEvent)(E,v.touch.move,this.handleDrag),(0,r.removeEvent)(E,v.mouse.stop,this.handleDragStop),(0,r.removeEvent)(E,v.touch.stop,this.handleDragStop),(0,r.removeEvent)(M,v.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(E)}}findDOMNode(){var M,E;return(M=this.props)!==null&&M!==void 0&&M.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return kl.default=S,p(S,"displayName","DraggableCore"),p(S,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(w,M){if(w[M]&&w[M].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(S,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),kl}var d1;function kH(){return d1||(d1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var e=b(yi()),t=p(Zu()),r=p(Cu()),o=p(MH),l=Gm(),a=sE(),u=Ju(),f=p(TH()),h=p(lE());function p(E){return E&&E.__esModule?E:{default:E}}function g(E){if(typeof WeakMap!="function")return null;var k=new WeakMap,D=new WeakMap;return(g=function(N){return N?D:k})(E)}function b(E,k){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var D=g(k);if(D&&D.has(E))return D.get(E);var N={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var z=_?Object.getOwnPropertyDescriptor(E,A):null;z&&(z.get||z.set)?Object.defineProperty(N,A,z):N[A]=E[A]}return N.default=E,D&&D.set(E,N),N}function v(){return v=Object.assign?Object.assign.bind():function(E){for(var k=1;k<arguments.length;k++){var D=arguments[k];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(E[N]=D[N])}return E},v.apply(this,arguments)}function x(E,k,D){return k=S(k),k in E?Object.defineProperty(E,k,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[k]=D,E}function S(E){var k=w(E,"string");return typeof k=="symbol"?k:String(k)}function w(E,k){if(typeof E!="object"||E===null)return E;var D=E[Symbol.toPrimitive];if(D!==void 0){var N=D.call(E,k);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(E)}class M extends e.Component{static getDerivedStateFromProps(k,D){let{position:N}=k,{prevPropsPosition:_}=D;return N&&(!_||N.x!==_.x||N.y!==_.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:_}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(k){super(k),x(this,"onDragStart",(D,N)=>{if((0,h.default)("Draggable: onDragStart: %j",N),this.props.onStart(D,(0,a.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(D,N)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",N);const _=(0,a.createDraggableData)(this,N),A={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:V,y:ee}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[oe,ne]=(0,a.getBoundPosition)(this,A.x,A.y);A.x=oe,A.y=ne,A.slackX=this.state.slackX+(V-A.x),A.slackY=this.state.slackY+(ee-A.y),_.x=A.x,_.y=A.y,_.deltaX=A.x-this.state.x,_.deltaY=A.y-this.state.y}if(this.props.onDrag(D,_)===!1)return!1;this.setState(A)}),x(this,"onDragStop",(D,N)=>{if(!this.state.dragging||this.props.onStop(D,(0,a.createDraggableData)(this,N))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",N);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:V,y:ee}=this.props.position;A.x=V,A.y=ee}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:k.position?k.position.x:k.defaultPosition.x,y:k.position?k.position.y:k.defaultPosition.y,prevPropsPosition:{...k.position},slackX:0,slackY:0,isElementSVG:!1},k.position&&!(k.onDrag||k.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var k,D;return(k=(D=this.props)===null||D===void 0||(D=D.nodeRef)===null||D===void 0?void 0:D.current)!==null&&k!==void 0?k:r.default.findDOMNode(this)}render(){const{axis:k,bounds:D,children:N,defaultPosition:_,defaultClassName:A,defaultClassNameDragging:z,defaultClassNameDragged:V,position:ee,positionOffset:oe,scale:ne,...fe}=this.props;let ye={},de=null;const W=!!!ee||this.state.dragging,$=ee||_,Z={x:(0,a.canDragX)(this)&&W?this.state.x:$.x,y:(0,a.canDragY)(this)&&W?this.state.y:$.y};this.state.isElementSVG?de=(0,l.createSVGTransform)(Z,oe):ye=(0,l.createCSSTransform)(Z,oe);const L=(0,o.default)(N.props.className||"",A,{[z]:this.state.dragging,[V]:this.state.dragged});return e.createElement(f.default,v({},fe,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(N),{className:L,style:{...N.props.style,...ye},transform:de}))}}n.default=M,x(M,"displayName","Draggable"),x(M,"propTypes",{...f.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),x(M,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(rp)),rp}var h1;function aE(){if(h1)return Tl.exports;h1=1;const{default:n,DraggableCore:e}=kH();return Tl.exports=n,Tl.exports.default=n,Tl.exports.DraggableCore=e,Tl.exports}var qc={},p1;function OH(){if(p1)return qc;p1=1,qc.__esModule=!0,qc.cloneElement=u;var n=e(yi());function e(f){return f&&f.__esModule?f:{default:f}}function t(f,h){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);h&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),p.push.apply(p,g)}return p}function r(f){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?t(Object(p),!0).forEach(function(g){o(f,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(p,g))})}return f}function o(f,h,p){return h=l(h),h in f?Object.defineProperty(f,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[h]=p,f}function l(f){var h=a(f,"string");return typeof h=="symbol"?h:String(h)}function a(f,h){if(typeof f!="object"||f===null)return f;var p=f[Symbol.toPrimitive];if(p!==void 0){var g=p.call(f,h);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}function u(f,h){return h.style&&f.props.style&&(h.style=r(r({},f.props.style),h.style)),h.className&&f.props.className&&(h.className=f.props.className+" "+h.className),n.default.cloneElement(f,h)}return qc}var Ol={},m1;function cE(){if(m1)return Ol;m1=1,Ol.__esModule=!0,Ol.resizableProps=void 0;var n=e(Zu());aE();function e(r){return r&&r.__esModule?r:{default:r}}var t={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:function(){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];var u=l[0];if(u.axis==="both"||u.axis==="y"){var f;return(f=n.default.number).isRequired.apply(f,l)}return n.default.number.apply(n.default,l)},handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:function(){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];var u=l[0];if(u.axis==="both"||u.axis==="x"){var f;return(f=n.default.number).isRequired.apply(f,l)}return n.default.number.apply(n.default,l)}};return Ol.resizableProps=t,Ol}var g1;function uE(){if(g1)return El;g1=1,El.__esModule=!0,El.default=void 0;var n=a(yi()),e=aE(),t=OH(),r=cE(),o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(M){if(typeof WeakMap!="function")return null;var E=new WeakMap,k=new WeakMap;return(l=function(N){return N?k:E})(M)}function a(M,E){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var k=l(E);if(k&&k.has(M))return k.get(M);var D={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in M)if(_!=="default"&&Object.prototype.hasOwnProperty.call(M,_)){var A=N?Object.getOwnPropertyDescriptor(M,_):null;A&&(A.get||A.set)?Object.defineProperty(D,_,A):D[_]=M[_]}return D.default=M,k&&k.set(M,D),D}function u(){return u=Object.assign?Object.assign.bind():function(M){for(var E=1;E<arguments.length;E++){var k=arguments[E];for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(M[D]=k[D])}return M},u.apply(this,arguments)}function f(M,E){if(M==null)return{};var k={},D=Object.keys(M),N,_;for(_=0;_<D.length;_++)N=D[_],!(E.indexOf(N)>=0)&&(k[N]=M[N]);return k}function h(M,E){var k=Object.keys(M);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(M);E&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(M,N).enumerable})),k.push.apply(k,D)}return k}function p(M){for(var E=1;E<arguments.length;E++){var k=arguments[E]!=null?arguments[E]:{};E%2?h(Object(k),!0).forEach(function(D){g(M,D,k[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(k)):h(Object(k)).forEach(function(D){Object.defineProperty(M,D,Object.getOwnPropertyDescriptor(k,D))})}return M}function g(M,E,k){return E=b(E),E in M?Object.defineProperty(M,E,{value:k,enumerable:!0,configurable:!0,writable:!0}):M[E]=k,M}function b(M){var E=v(M,"string");return typeof E=="symbol"?E:String(E)}function v(M,E){if(typeof M!="object"||M===null)return M;var k=M[Symbol.toPrimitive];if(k!==void 0){var D=k.call(M,E);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(M)}function x(M,E){M.prototype=Object.create(E.prototype),M.prototype.constructor=M,S(M,E)}function S(M,E){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,N){return D.__proto__=N,D},S(M,E)}var w=function(M){x(E,M);function E(){for(var D,N=arguments.length,_=new Array(N),A=0;A<N;A++)_[A]=arguments[A];return D=M.call.apply(M,[this].concat(_))||this,D.handleRefs={},D.lastHandleRect=null,D.slack=null,D}var k=E.prototype;return k.componentWillUnmount=function(){this.resetData()},k.resetData=function(){this.lastHandleRect=this.slack=null},k.runConstraints=function(N,_){var A=this.props,z=A.minConstraints,V=A.maxConstraints,ee=A.lockAspectRatio;if(!z&&!V&&!ee)return[N,_];if(ee){var oe=this.props.width/this.props.height,ne=N-this.props.width,fe=_-this.props.height;Math.abs(ne)>Math.abs(fe*oe)?_=N/oe:N=_*oe}var ye=N,de=_,H=this.slack||[0,0],W=H[0],$=H[1];return N+=W,_+=$,z&&(N=Math.max(z[0],N),_=Math.max(z[1],_)),V&&(N=Math.min(V[0],N),_=Math.min(V[1],_)),this.slack=[W+(ye-N),$+(de-_)],[N,_]},k.resizeHandler=function(N,_){var A=this;return function(z,V){var ee=V.node,oe=V.deltaX,ne=V.deltaY;N==="onResizeStart"&&A.resetData();var fe=(A.props.axis==="both"||A.props.axis==="x")&&_!=="n"&&_!=="s",ye=(A.props.axis==="both"||A.props.axis==="y")&&_!=="e"&&_!=="w";if(!(!fe&&!ye)){var de=_[0],H=_[_.length-1],W=ee.getBoundingClientRect();if(A.lastHandleRect!=null){if(H==="w"){var $=W.left-A.lastHandleRect.left;oe+=$}if(de==="n"){var Z=W.top-A.lastHandleRect.top;ne+=Z}}A.lastHandleRect=W,H==="w"&&(oe=-oe),de==="n"&&(ne=-ne);var L=A.props.width+(fe?oe/A.props.transformScale:0),G=A.props.height+(ye?ne/A.props.transformScale:0),te=A.runConstraints(L,G);L=te[0],G=te[1];var J=L!==A.props.width||G!==A.props.height,ie=typeof A.props[N]=="function"?A.props[N]:null,Se=N==="onResize"&&!J;ie&&!Se&&(z.persist==null||z.persist(),ie(z,{node:ee,size:{width:L,height:G},handle:_})),N==="onResizeStop"&&A.resetData()}}},k.renderResizeHandle=function(N,_){var A=this.props.handle;if(!A)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+N,ref:_});if(typeof A=="function")return A(N,_);var z=typeof A.type=="string",V=p({ref:_},z?{}:{handleAxis:N});return n.cloneElement(A,V)},k.render=function(){var N=this,_=this.props,A=_.children,z=_.className,V=_.draggableOpts;_.width,_.height,_.handle,_.handleSize,_.lockAspectRatio,_.axis,_.minConstraints,_.maxConstraints,_.onResize,_.onResizeStop,_.onResizeStart;var ee=_.resizeHandles;_.transformScale;var oe=f(_,o);return(0,t.cloneElement)(A,p(p({},oe),{},{className:(z?z+" ":"")+"react-resizable",children:[].concat(A.props.children,ee.map(function(ne){var fe,ye=(fe=N.handleRefs[ne])!=null?fe:N.handleRefs[ne]=n.createRef();return n.createElement(e.DraggableCore,u({},V,{nodeRef:ye,key:"resizableHandle-"+ne,onStop:N.resizeHandler("onResizeStop",ne),onStart:N.resizeHandler("onResizeStart",ne),onDrag:N.resizeHandler("onResize",ne)}),N.renderResizeHandle(ne,ye))}))}))},E}(n.Component);return El.default=w,w.propTypes=r.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},El}var Al={},y1;function AH(){if(y1)return Al;y1=1,Al.__esModule=!0,Al.default=void 0;var n=u(yi()),e=l(Zu()),t=l(uE()),r=cE(),o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(E){return E&&E.__esModule?E:{default:E}}function a(E){if(typeof WeakMap!="function")return null;var k=new WeakMap,D=new WeakMap;return(a=function(_){return _?D:k})(E)}function u(E,k){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var D=a(k);if(D&&D.has(E))return D.get(E);var N={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var z=_?Object.getOwnPropertyDescriptor(E,A):null;z&&(z.get||z.set)?Object.defineProperty(N,A,z):N[A]=E[A]}return N.default=E,D&&D.set(E,N),N}function f(){return f=Object.assign?Object.assign.bind():function(E){for(var k=1;k<arguments.length;k++){var D=arguments[k];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(E[N]=D[N])}return E},f.apply(this,arguments)}function h(E,k){var D=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);k&&(N=N.filter(function(_){return Object.getOwnPropertyDescriptor(E,_).enumerable})),D.push.apply(D,N)}return D}function p(E){for(var k=1;k<arguments.length;k++){var D=arguments[k]!=null?arguments[k]:{};k%2?h(Object(D),!0).forEach(function(N){g(E,N,D[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(D)):h(Object(D)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(D,N))})}return E}function g(E,k,D){return k=b(k),k in E?Object.defineProperty(E,k,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[k]=D,E}function b(E){var k=v(E,"string");return typeof k=="symbol"?k:String(k)}function v(E,k){if(typeof E!="object"||E===null)return E;var D=E[Symbol.toPrimitive];if(D!==void 0){var N=D.call(E,k);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(E)}function x(E,k){if(E==null)return{};var D={},N=Object.keys(E),_,A;for(A=0;A<N.length;A++)_=N[A],!(k.indexOf(_)>=0)&&(D[_]=E[_]);return D}function S(E,k){E.prototype=Object.create(k.prototype),E.prototype.constructor=E,w(E,k)}function w(E,k){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,_){return N.__proto__=_,N},w(E,k)}var M=function(E){S(k,E);function k(){for(var N,_=arguments.length,A=new Array(_),z=0;z<_;z++)A[z]=arguments[z];return N=E.call.apply(E,[this].concat(A))||this,N.state={width:N.props.width,height:N.props.height,propsWidth:N.props.width,propsHeight:N.props.height},N.onResize=function(V,ee){var oe=ee.size;N.props.onResize?(V.persist==null||V.persist(),N.setState(oe,function(){return N.props.onResize&&N.props.onResize(V,ee)})):N.setState(oe)},N}k.getDerivedStateFromProps=function(_,A){return A.propsWidth!==_.width||A.propsHeight!==_.height?{width:_.width,height:_.height,propsWidth:_.width,propsHeight:_.height}:null};var D=k.prototype;return D.render=function(){var _=this.props,A=_.handle,z=_.handleSize;_.onResize;var V=_.onResizeStart,ee=_.onResizeStop,oe=_.draggableOpts,ne=_.minConstraints,fe=_.maxConstraints,ye=_.lockAspectRatio,de=_.axis;_.width,_.height;var H=_.resizeHandles,W=_.style,$=_.transformScale,Z=x(_,o);return n.createElement(t.default,{axis:de,draggableOpts:oe,handle:A,handleSize:z,height:this.state.height,lockAspectRatio:ye,maxConstraints:fe,minConstraints:ne,onResizeStart:V,onResize:this.onResize,onResizeStop:ee,resizeHandles:H,transformScale:$,width:this.state.width},n.createElement("div",f({},Z,{style:p(p({},W),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},k}(n.Component);return Al.default=M,M.propTypes=p(p({},r.resizableProps),{},{children:e.default.element}),Al}var b1;function NH(){return b1||(b1=1,Ml.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ml.exports.Resizable=uE().default,Ml.exports.ResizableBox=AH().default),Ml.exports}var DH=NH();const RH=({node:n,onAdd:e,onRename:t,onDelete:r})=>R.jsxs(Bw,{children:[R.jsx(Pw,{asChild:!0,children:R.jsx(En,{variant:"ghost",size:"icon",className:"ml-1 opacity-0 group-hover:opacity-100",children:R.jsx(EO,{className:"w-4 h-4 text-muted-foreground"})})}),R.jsxs(gm,{side:"right",align:"start",children:[n.isFolder&&R.jsx(rs,{className:"px-3 py-1.5 text-muted-foreground text-xs cursor-pointer",onClick:o=>{o.stopPropagation(),e(!1)},children:"New Note"}),n.isFolder&&R.jsx(rs,{className:"px-3 py-1.5 text-muted-foreground text-xs cursor-pointer",onClick:o=>{o.stopPropagation(),e(!0)},children:"New Folder"}),R.jsx(rs,{className:"px-3 py-1.5 text-muted-foreground text-xs cursor-pointer",onClick:o=>{o.stopPropagation(),t()},children:"Rename"}),R.jsx(rs,{className:"px-3 py-1.5 text-muted-foreground text-xs cursor-pointer",onClick:o=>{o.stopPropagation(),r()},children:"Delete"})]})]}),_H=({isFolder:n,expanded:e})=>n?e?R.jsx(DO,{className:"shrink-0 w-4 h-4 mr-2 text-muted-foreground",strokeWidth:1.5}):R.jsx(LO,{className:"shrink-0 w-4 h-4 mr-2 text-muted-foreground",strokeWidth:1.5}):R.jsx(AO,{className:"shrink-0 w-4 h-4 mr-2 text-muted-foreground",strokeWidth:1.5}),fE=({node:n,level:e})=>{const{activeId:t,openFile:r,setActiveId:o,addNode:l,removeNode:a,renameNode:u}=ta(),[f,h]=O.useState(n.isFolder),[p,g]=O.useState(!1),[b,v]=O.useState(n.name),x=M=>{const E=Date.now().toString()+Math.random().toString(36).slice(2,6);l(n.id,{id:E,name:M?"New Folder":"New Note",isFolder:M,items:[]}),h(!0)},S=()=>{b.trim()&&b!==n.name&&u(n.id,b.trim()),g(!1)},w=()=>{n.isFolder?(o(n.id),h(M=>!M)):r(n.id)};return R.jsxs("div",{className:Ye("flex flex-col rounded-sm",{"bg-accent/75":t===n.id}),children:[R.jsxs("div",{className:Ye("flex items-center group px-2 cursor-pointer hover:bg-accent rounded transition-all",{"pl-4":e>0}),style:{paddingLeft:`${e*16+8+(n.isFolder,0)}px`},onClick:w,children:[R.jsx(_H,{isFolder:n.isFolder,expanded:f}),p?R.jsx("input",{className:"bg-transparent border-b-2 border-gray-400 outline-none px-1 text-sm w-32",value:b,autoFocus:!0,onChange:M=>v(M.target.value),onBlur:S,onKeyDown:M=>{M.key==="Enter"&&S(),M.key==="Escape"&&g(!1)}}):R.jsx("span",{className:"flex-1 truncate text-sm select-none text-muted-foreground",onDoubleClick:()=>g(!0),children:n.name}),R.jsx(RH,{node:n,onAdd:x,onRename:()=>g(!0),onDelete:()=>a(n.id)})]}),n.isFolder&&f&&n.items.length>0&&R.jsx("div",{children:n.items.map(M=>R.jsx(fE,{node:M,level:e+1},M.id))})]})},zH=()=>{const{tree:n,addNode:e}=ta();return R.jsxs("div",{className:"w-full h-full overflow-y-auto select-none",children:[R.jsxs("div",{className:"h-10 flex items-center justify-between px-2 py-1 border-b-2 bg-muted/30",children:[R.jsx("span",{className:"font-semibold text-xs tracking-wide text-muted-foreground",children:"Library"}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx(lu,{content:"Add new folder",side:"bottom",children:R.jsx(En,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:()=>e(null,{id:Date.now().toString()+Math.random().toString(36).slice(2,6),name:"New Folder",isFolder:!0,items:[]}),children:R.jsx(_O,{className:"w-5 h-5"})})}),R.jsx(lu,{content:"Add new note",side:"bottom",children:R.jsx(En,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:()=>e(null,{id:Date.now().toString()+Math.random().toString(36).slice(2,6),name:"New Note",isFolder:!1,items:[]}),children:R.jsx(kO,{className:"w-5 h-5"})})})]})]}),R.jsx("div",{className:"p-2",children:n.map(t=>R.jsx(fE,{node:t,level:0},t.id))})]})},LH=()=>R.jsx(zH,{}),v1=180,x1=800,BH=({open:n})=>R.jsx("div",{className:`transition-all duration-300 h-full flex flex-shrink-0 bg-card border-r border-border ${n?"w-fit opacity-100":"w-0 opacity-0 pointer-events-none"}`,style:{minWidth:n?v1:0,maxWidth:n?x1:0},children:n&&R.jsx(DH.ResizableBox,{width:260,minConstraints:[v1,100],maxConstraints:[x1,1/0],axis:"x",height:1/0,className:"bg-card border-r border-border h-full flex flex-shrink-0",handle:R.jsx("span",{className:"w-[2px] bg-border cursor-col-resize block h-full transition-all duration-200 hover:w-1 hover:bg-muted-foreground"}),children:R.jsx(LH,{})})}),PH=({openFiles:n,activeId:e,setActiveId:t,closeFile:r})=>{const o=O.useRef({});O.useEffect(()=>{var a;e&&o.current[e]&&((a=o.current[e])==null||a.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))},[e]);const l=(a,u)=>{a.stopPropagation(),r(u)};return R.jsx("div",{className:"flex flex-nowrap overflow-x-auto border-b-2 bg-muted/30 h-10 overflow-y-hidden",children:n.map(a=>R.jsxs("div",{ref:u=>{o.current[a.id]=u},className:`flex-shrink-0 px-4 cursor-pointer flex items-center gap-2 border-r-2 ${e===a.id?"bg-background":"text-muted-foreground"}`,onClick:()=>t(a.id),children:[R.jsx("span",{className:"truncate max-w-[120px] text-xs py-4 px-3",children:a.name}),R.jsx(En,{variant:"ghost",size:"xs",className:"p-0 text-xs text-muted-foreground hover:text-primary hover:bg-transparent",onClick:u=>l(u,a.id),children:R.jsx(oA,{})})]},a.id))})};function Gp(n,e){for(const t of n){if(t.id===e)return t;if(t.isFolder&&t.items.length>0){const r=Gp(t.items,e);if(r)return r}}return null}const jH=()=>{const{tree:n,openFileIds:e,activeId:t,setActiveId:r,closeFile:o,updateFileContent:l}=ta(),a=e.map(p=>Gp(n,p)).filter(Boolean),u=t?Gp(n,t):null,[f,h]=O.useState(!0);return R.jsxs("div",{className:"h-dvh w-dvw flex flex-col bg-background text-foreground",children:[R.jsx(xH,{sidebarOpen:f,setSidebarOpen:h}),R.jsxs("main",{className:"flex flex-1 min-h-0",children:[R.jsx(BH,{open:f}),R.jsxs("div",{className:"flex-1 flex flex-col overflow-x-auto",children:[R.jsx(PH,{openFiles:a,activeId:t,setActiveId:r,closeFile:o}),R.jsx(mH,{activeFile:u,updateFileContent:l})]})]})]})};function HH({children:n,defaultTheme:e="system",storageKey:t="ui-theme",...r}){const[o,l]=O.useState(()=>localStorage.getItem(t)||e);O.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),o==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(f);return}u.classList.add(o)},[o]);const a={theme:o,setTheme:u=>{localStorage.setItem(t,u),l(u)}};return R.jsx(iE.Provider,{...r,value:a,children:n})}function IH(){return R.jsx(HH,{defaultTheme:"dark",children:R.jsx(qk,{children:R.jsx(jH,{})})})}Vk.createRoot(document.getElementById("root")).render(R.jsx(Pe.StrictMode,{children:R.jsx(IH,{})}));
